var _m=Object.defineProperty;var bm=(e,t,n)=>t in e?_m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ai=(e,t,n)=>bm(e,typeof t!="symbol"?t+"":t,n);import{R as _a,r as A,j as $,g as Em,a as Tm,b as fn}from"./index-cVjmpOL6.js";const Ri={black:"#000",white:"#fff"},hr={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},fr={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},pr={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},mr={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},gr={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},li={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},wm={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function mn(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(r=>n.searchParams.append("args[]",r)),`Minified MUI error #${e}; visit ${n} for the full message.`}const eo="$$material";function Ds(){return Ds=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ds.apply(null,arguments)}function Im(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function Sm(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var Cm=function(){function e(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(r){r.forEach(this._insertTag)},t.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Sm(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Im(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},t.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},e}(),_e="-ms-",Ns="-moz-",yt="-webkit-",dh="comm",sl="rule",ol="decl",Rm="@import",hh="@keyframes",Am="@layer",xm=Math.abs,no=String.fromCharCode,Pm=Object.assign;function km(e,t){return de(e,0)^45?(((t<<2^de(e,0))<<2^de(e,1))<<2^de(e,2))<<2^de(e,3):0}function fh(e){return e.trim()}function Vm(e,t){return(e=t.exec(e))?e[0]:e}function vt(e,t,n){return e.replace(t,n)}function ba(e,t){return e.indexOf(t)}function de(e,t){return e.charCodeAt(t)|0}function Ai(e,t,n){return e.slice(t,n)}function Ye(e){return e.length}function al(e){return e.length}function hs(e,t){return t.push(e),e}function Dm(e,t){return e.map(t).join("")}var ro=1,Rr=1,ph=0,Ae=0,te=0,Fr="";function io(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:ro,column:Rr,length:a,return:""}}function ci(e,t){return Pm(io("",null,null,"",null,null,0),e,{length:-e.length},t)}function Nm(){return te}function Mm(){return te=Ae>0?de(Fr,--Ae):0,Rr--,te===10&&(Rr=1,ro--),te}function Ne(){return te=Ae<ph?de(Fr,Ae++):0,Rr++,te===10&&(Rr=1,ro++),te}function tn(){return de(Fr,Ae)}function Is(){return Ae}function Bi(e,t){return Ai(Fr,e,t)}function xi(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function mh(e){return ro=Rr=1,ph=Ye(Fr=e),Ae=0,[]}function gh(e){return Fr="",e}function Ss(e){return fh(Bi(Ae-1,Ea(e===91?e+2:e===40?e+1:e)))}function Om(e){for(;(te=tn())&&te<33;)Ne();return xi(e)>2||xi(te)>3?"":" "}function Lm(e,t){for(;--t&&Ne()&&!(te<48||te>102||te>57&&te<65||te>70&&te<97););return Bi(e,Is()+(t<6&&tn()==32&&Ne()==32))}function Ea(e){for(;Ne();)switch(te){case e:return Ae;case 34:case 39:e!==34&&e!==39&&Ea(te);break;case 40:e===41&&Ea(e);break;case 92:Ne();break}return Ae}function $m(e,t){for(;Ne()&&e+te!==57;)if(e+te===84&&tn()===47)break;return"/*"+Bi(t,Ae-1)+"*"+no(e===47?e:Ne())}function Fm(e){for(;!xi(tn());)Ne();return Bi(e,Ae)}function Bm(e){return gh(Cs("",null,null,null,[""],e=mh(e),0,[0],e))}function Cs(e,t,n,r,i,s,a,l,c){for(var d=0,p=0,m=a,y=0,_=0,I=0,E=1,R=1,V=1,N=0,x="",P=i,k=s,M=r,T=x;R;)switch(I=N,N=Ne()){case 40:if(I!=108&&de(T,m-1)==58){ba(T+=vt(Ss(N),"&","&\f"),"&\f")!=-1&&(V=-1);break}case 34:case 39:case 91:T+=Ss(N);break;case 9:case 10:case 13:case 32:T+=Om(I);break;case 92:T+=Lm(Is()-1,7);continue;case 47:switch(tn()){case 42:case 47:hs(Um($m(Ne(),Is()),t,n),c);break;default:T+="/"}break;case 123*E:l[d++]=Ye(T)*V;case 125*E:case 59:case 0:switch(N){case 0:case 125:R=0;case 59+p:V==-1&&(T=vt(T,/\f/g,"")),_>0&&Ye(T)-m&&hs(_>32?iu(T+";",r,n,m-1):iu(vt(T," ","")+";",r,n,m-2),c);break;case 59:T+=";";default:if(hs(M=ru(T,t,n,d,p,i,l,x,P=[],k=[],m),s),N===123)if(p===0)Cs(T,t,M,M,P,s,m,l,k);else switch(y===99&&de(T,3)===110?100:y){case 100:case 108:case 109:case 115:Cs(e,M,M,r&&hs(ru(e,M,M,0,0,i,l,x,i,P=[],m),k),i,k,m,l,r?P:k);break;default:Cs(T,M,M,M,[""],k,0,l,k)}}d=p=_=0,E=V=1,x=T="",m=a;break;case 58:m=1+Ye(T),_=I;default:if(E<1){if(N==123)--E;else if(N==125&&E++==0&&Mm()==125)continue}switch(T+=no(N),N*E){case 38:V=p>0?1:(T+="\f",-1);break;case 44:l[d++]=(Ye(T)-1)*V,V=1;break;case 64:tn()===45&&(T+=Ss(Ne())),y=tn(),p=m=Ye(x=T+=Fm(Is())),N++;break;case 45:I===45&&Ye(T)==2&&(E=0)}}return s}function ru(e,t,n,r,i,s,a,l,c,d,p){for(var m=i-1,y=i===0?s:[""],_=al(y),I=0,E=0,R=0;I<r;++I)for(var V=0,N=Ai(e,m+1,m=xm(E=a[I])),x=e;V<_;++V)(x=fh(E>0?y[V]+" "+N:vt(N,/&\f/g,y[V])))&&(c[R++]=x);return io(e,t,n,i===0?sl:l,c,d,p)}function Um(e,t,n){return io(e,t,n,dh,no(Nm()),Ai(e,2,-2),0)}function iu(e,t,n,r){return io(e,t,n,ol,Ai(e,0,r),Ai(e,r+1,-1),r)}function wr(e,t){for(var n="",r=al(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function zm(e,t,n,r){switch(e.type){case Am:if(e.children.length)break;case Rm:case ol:return e.return=e.return||e.value;case dh:return"";case hh:return e.return=e.value+"{"+wr(e.children,r)+"}";case sl:e.value=e.props.join(",")}return Ye(n=wr(e.children,r))?e.return=e.value+"{"+n+"}":""}function jm(e){var t=al(e);return function(n,r,i,s){for(var a="",l=0;l<t;l++)a+=e[l](n,r,i,s)||"";return a}}function Wm(e){return function(t){t.root||(t=t.return)&&e(t)}}function yh(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var qm=function(t,n,r){for(var i=0,s=0;i=s,s=tn(),i===38&&s===12&&(n[r]=1),!xi(s);)Ne();return Bi(t,Ae)},Hm=function(t,n){var r=-1,i=44;do switch(xi(i)){case 0:i===38&&tn()===12&&(n[r]=1),t[r]+=qm(Ae-1,n,r);break;case 2:t[r]+=Ss(i);break;case 4:if(i===44){t[++r]=tn()===58?"&\f":"",n[r]=t[r].length;break}default:t[r]+=no(i)}while(i=Ne());return t},Gm=function(t,n){return gh(Hm(mh(t),n))},su=new WeakMap,Km=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var n=t.value,r=t.parent,i=t.column===r.column&&t.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(t.props.length===1&&n.charCodeAt(0)!==58&&!su.get(r))&&!i){su.set(t,!0);for(var s=[],a=Gm(n,s),l=r.props,c=0,d=0;c<a.length;c++)for(var p=0;p<l.length;p++,d++)t.props[d]=s[c]?a[c].replace(/&\f/g,l[p]):l[p]+" "+a[c]}}},Qm=function(t){if(t.type==="decl"){var n=t.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(t.return="",t.value="")}};function vh(e,t){switch(km(e,t)){case 5103:return yt+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return yt+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return yt+e+Ns+e+_e+e+e;case 6828:case 4268:return yt+e+_e+e+e;case 6165:return yt+e+_e+"flex-"+e+e;case 5187:return yt+e+vt(e,/(\w+).+(:[^]+)/,yt+"box-$1$2"+_e+"flex-$1$2")+e;case 5443:return yt+e+_e+"flex-item-"+vt(e,/flex-|-self/,"")+e;case 4675:return yt+e+_e+"flex-line-pack"+vt(e,/align-content|flex-|-self/,"")+e;case 5548:return yt+e+_e+vt(e,"shrink","negative")+e;case 5292:return yt+e+_e+vt(e,"basis","preferred-size")+e;case 6060:return yt+"box-"+vt(e,"-grow","")+yt+e+_e+vt(e,"grow","positive")+e;case 4554:return yt+vt(e,/([^-])(transform)/g,"$1"+yt+"$2")+e;case 6187:return vt(vt(vt(e,/(zoom-|grab)/,yt+"$1"),/(image-set)/,yt+"$1"),e,"")+e;case 5495:case 3959:return vt(e,/(image-set\([^]*)/,yt+"$1$`$1");case 4968:return vt(vt(e,/(.+:)(flex-)?(.*)/,yt+"box-pack:$3"+_e+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+yt+e+e;case 4095:case 3583:case 4068:case 2532:return vt(e,/(.+)-inline(.+)/,yt+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ye(e)-1-t>6)switch(de(e,t+1)){case 109:if(de(e,t+4)!==45)break;case 102:return vt(e,/(.+:)(.+)-([^]+)/,"$1"+yt+"$2-$3$1"+Ns+(de(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~ba(e,"stretch")?vh(vt(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(de(e,t+1)!==115)break;case 6444:switch(de(e,Ye(e)-3-(~ba(e,"!important")&&10))){case 107:return vt(e,":",":"+yt)+e;case 101:return vt(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+yt+(de(e,14)===45?"inline-":"")+"box$3$1"+yt+"$2$3$1"+_e+"$2box$3")+e}break;case 5936:switch(de(e,t+11)){case 114:return yt+e+_e+vt(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return yt+e+_e+vt(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return yt+e+_e+vt(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return yt+e+_e+e+e}return e}var Xm=function(t,n,r,i){if(t.length>-1&&!t.return)switch(t.type){case ol:t.return=vh(t.value,t.length);break;case hh:return wr([ci(t,{value:vt(t.value,"@","@"+yt)})],i);case sl:if(t.length)return Dm(t.props,function(s){switch(Vm(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return wr([ci(t,{props:[vt(s,/:(read-\w+)/,":"+Ns+"$1")]})],i);case"::placeholder":return wr([ci(t,{props:[vt(s,/:(plac\w+)/,":"+yt+"input-$1")]}),ci(t,{props:[vt(s,/:(plac\w+)/,":"+Ns+"$1")]}),ci(t,{props:[vt(s,/:(plac\w+)/,_e+"input-$1")]})],i)}return""})}},Ym=[Xm],Jm=function(t){var n=t.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(E){var R=E.getAttribute("data-emotion");R.indexOf(" ")!==-1&&(document.head.appendChild(E),E.setAttribute("data-s",""))})}var i=t.stylisPlugins||Ym,s={},a,l=[];a=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(E){for(var R=E.getAttribute("data-emotion").split(" "),V=1;V<R.length;V++)s[R[V]]=!0;l.push(E)});var c,d=[Km,Qm];{var p,m=[zm,Wm(function(E){p.insert(E)})],y=jm(d.concat(i,m)),_=function(R){return wr(Bm(R),y)};c=function(R,V,N,x){p=N,_(R?R+"{"+V.styles+"}":V.styles),x&&(I.inserted[V.name]=!0)}}var I={key:n,sheet:new Cm({key:n,container:a,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:s,registered:{},insert:c};return I.sheet.hydrate(l),I},Zo={exports:{}},_t={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ou;function Zm(){if(ou)return _t;ou=1;var e=typeof Symbol=="function"&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,s=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,d=e?Symbol.for("react.concurrent_mode"):60111,p=e?Symbol.for("react.forward_ref"):60112,m=e?Symbol.for("react.suspense"):60113,y=e?Symbol.for("react.suspense_list"):60120,_=e?Symbol.for("react.memo"):60115,I=e?Symbol.for("react.lazy"):60116,E=e?Symbol.for("react.block"):60121,R=e?Symbol.for("react.fundamental"):60117,V=e?Symbol.for("react.responder"):60118,N=e?Symbol.for("react.scope"):60119;function x(k){if(typeof k=="object"&&k!==null){var M=k.$$typeof;switch(M){case t:switch(k=k.type,k){case c:case d:case r:case s:case i:case m:return k;default:switch(k=k&&k.$$typeof,k){case l:case p:case I:case _:case a:return k;default:return M}}case n:return M}}}function P(k){return x(k)===d}return _t.AsyncMode=c,_t.ConcurrentMode=d,_t.ContextConsumer=l,_t.ContextProvider=a,_t.Element=t,_t.ForwardRef=p,_t.Fragment=r,_t.Lazy=I,_t.Memo=_,_t.Portal=n,_t.Profiler=s,_t.StrictMode=i,_t.Suspense=m,_t.isAsyncMode=function(k){return P(k)||x(k)===c},_t.isConcurrentMode=P,_t.isContextConsumer=function(k){return x(k)===l},_t.isContextProvider=function(k){return x(k)===a},_t.isElement=function(k){return typeof k=="object"&&k!==null&&k.$$typeof===t},_t.isForwardRef=function(k){return x(k)===p},_t.isFragment=function(k){return x(k)===r},_t.isLazy=function(k){return x(k)===I},_t.isMemo=function(k){return x(k)===_},_t.isPortal=function(k){return x(k)===n},_t.isProfiler=function(k){return x(k)===s},_t.isStrictMode=function(k){return x(k)===i},_t.isSuspense=function(k){return x(k)===m},_t.isValidElementType=function(k){return typeof k=="string"||typeof k=="function"||k===r||k===d||k===s||k===i||k===m||k===y||typeof k=="object"&&k!==null&&(k.$$typeof===I||k.$$typeof===_||k.$$typeof===a||k.$$typeof===l||k.$$typeof===p||k.$$typeof===R||k.$$typeof===V||k.$$typeof===N||k.$$typeof===E)},_t.typeOf=x,_t}var au;function tg(){return au||(au=1,Zo.exports=Zm()),Zo.exports}var ta,lu;function eg(){if(lu)return ta;lu=1;var e=tg(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[e.ForwardRef]=r,s[e.Memo]=i;function a(I){return e.isMemo(I)?i:s[I.$$typeof]||t}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,y=Object.prototype;function _(I,E,R){if(typeof E!="string"){if(y){var V=m(E);V&&V!==y&&_(I,V,R)}var N=c(E);d&&(N=N.concat(d(E)));for(var x=a(I),P=a(E),k=0;k<N.length;++k){var M=N[k];if(!n[M]&&!(R&&R[M])&&!(P&&P[M])&&!(x&&x[M])){var T=p(E,M);try{l(I,M,T)}catch{}}}}return I}return ta=_,ta}eg();var ng=!0;function _h(e,t,n){var r="";return n.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):i&&(r+=i+" ")}),r}var ll=function(t,n,r){var i=t.key+"-"+n.name;(r===!1||ng===!1)&&t.registered[i]===void 0&&(t.registered[i]=n.styles)},cl=function(t,n,r){ll(t,n,r);var i=t.key+"-"+n.name;if(t.inserted[n.name]===void 0){var s=n;do t.insert(n===s?"."+i:"",s,t.sheet,!0),s=s.next;while(s!==void 0)}};function rg(e){for(var t=0,n,r=0,i=e.length;i>=4;++r,i-=4)n=e.charCodeAt(r)&255|(e.charCodeAt(++r)&255)<<8|(e.charCodeAt(++r)&255)<<16|(e.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,t=(n&65535)*1540483477+((n>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(r+2)&255)<<16;case 2:t^=(e.charCodeAt(r+1)&255)<<8;case 1:t^=e.charCodeAt(r)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var ig={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},sg=/[A-Z]|^ms/g,og=/_EMO_([^_]+?)_([^]*?)_EMO_/g,bh=function(t){return t.charCodeAt(1)===45},cu=function(t){return t!=null&&typeof t!="boolean"},ea=yh(function(e){return bh(e)?e:e.replace(sg,"-$&").toLowerCase()}),uu=function(t,n){switch(t){case"animation":case"animationName":if(typeof n=="string")return n.replace(og,function(r,i,s){return Je={name:i,styles:s,next:Je},i})}return ig[t]!==1&&!bh(t)&&typeof n=="number"&&n!==0?n+"px":n};function Pi(e,t,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Je={name:i.name,styles:i.styles,next:Je},i.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Je={name:a.name,styles:a.styles,next:Je},a=a.next;var l=s.styles+";";return l}return ag(e,t,n)}case"function":{if(e!==void 0){var c=Je,d=n(e);return Je=c,Pi(e,t,d)}break}}var p=n;if(t==null)return p;var m=t[p];return m!==void 0?m:p}function ag(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Pi(e,t,n[i])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var l=a;t!=null&&t[l]!==void 0?r+=s+"{"+t[l]+"}":cu(l)&&(r+=ea(s)+":"+uu(s,l)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(t==null||t[a[0]]===void 0))for(var c=0;c<a.length;c++)cu(a[c])&&(r+=ea(s)+":"+uu(s,a[c])+";");else{var d=Pi(e,t,a);switch(s){case"animation":case"animationName":{r+=ea(s)+":"+d+";";break}default:r+=s+"{"+d+"}"}}}return r}var du=/label:\s*([^\s;{]+)\s*(;|$)/g,Je;function Ui(e,t,n){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var r=!0,i="";Je=void 0;var s=e[0];if(s==null||s.raw===void 0)r=!1,i+=Pi(n,t,s);else{var a=s;i+=a[0]}for(var l=1;l<e.length;l++)if(i+=Pi(n,t,e[l]),r){var c=s;i+=c[l]}du.lastIndex=0;for(var d="",p;(p=du.exec(i))!==null;)d+="-"+p[1];var m=rg(i)+d;return{name:m,styles:i,next:Je}}var lg=function(t){return t()},Eh=_a.useInsertionEffect?_a.useInsertionEffect:!1,Th=Eh||lg,hu=Eh||A.useLayoutEffect,wh=A.createContext(typeof HTMLElement<"u"?Jm({key:"css"}):null);wh.Provider;var ul=function(t){return A.forwardRef(function(n,r){var i=A.useContext(wh);return t(n,i,r)})},so=A.createContext({}),dl={}.hasOwnProperty,Ta="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",cg=function(t,n){var r={};for(var i in n)dl.call(n,i)&&(r[i]=n[i]);return r[Ta]=t,r},ug=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return ll(n,r,i),Th(function(){return cl(n,r,i)}),null},dg=ul(function(e,t,n){var r=e.css;typeof r=="string"&&t.registered[r]!==void 0&&(r=t.registered[r]);var i=e[Ta],s=[r],a="";typeof e.className=="string"?a=_h(t.registered,s,e.className):e.className!=null&&(a=e.className+" ");var l=Ui(s,void 0,A.useContext(so));a+=t.key+"-"+l.name;var c={};for(var d in e)dl.call(e,d)&&d!=="css"&&d!==Ta&&(c[d]=e[d]);return c.className=a,n&&(c.ref=n),A.createElement(A.Fragment,null,A.createElement(ug,{cache:t,serialized:l,isStringTag:typeof i=="string"}),A.createElement(i,c))}),hg=dg,fu=function(t,n){var r=arguments;if(n==null||!dl.call(n,"css"))return A.createElement.apply(void 0,r);var i=r.length,s=new Array(i);s[0]=hg,s[1]=cg(t,n);for(var a=2;a<i;a++)s[a]=r[a];return A.createElement.apply(null,s)};(function(e){var t;t||(t=e.JSX||(e.JSX={}))})(fu||(fu={}));var fg=ul(function(e,t){var n=e.styles,r=Ui([n],void 0,A.useContext(so)),i=A.useRef();return hu(function(){var s=t.key+"-global",a=new t.sheet.constructor({key:s,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),l=!1,c=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return t.sheet.tags.length&&(a.before=t.sheet.tags[0]),c!==null&&(l=!0,c.setAttribute("data-emotion",s),a.hydrate([c])),i.current=[a,l],function(){a.flush()}},[t]),hu(function(){var s=i.current,a=s[0],l=s[1];if(l){s[1]=!1;return}if(r.next!==void 0&&cl(t,r.next,!0),a.tags.length){var c=a.tags[a.tags.length-1].nextElementSibling;a.before=c,a.flush()}t.insert("",r,a,!1)},[t,r.name]),null});function hl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ui(t)}function zi(){var e=hl.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}var pg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mg=yh(function(e){return pg.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),gg=mg,yg=function(t){return t!=="theme"},pu=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?gg:yg},mu=function(t,n,r){var i;if(n){var s=n.shouldForwardProp;i=t.__emotion_forwardProp&&s?function(a){return t.__emotion_forwardProp(a)&&s(a)}:s}return typeof i!="function"&&r&&(i=t.__emotion_forwardProp),i},vg=function(t){var n=t.cache,r=t.serialized,i=t.isStringTag;return ll(n,r,i),Th(function(){return cl(n,r,i)}),null},_g=function e(t,n){var r=t.__emotion_real===t,i=r&&t.__emotion_base||t,s,a;n!==void 0&&(s=n.label,a=n.target);var l=mu(t,n,r),c=l||pu(i),d=!c("as");return function(){var p=arguments,m=r&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(s!==void 0&&m.push("label:"+s+";"),p[0]==null||p[0].raw===void 0)m.push.apply(m,p);else{var y=p[0];m.push(y[0]);for(var _=p.length,I=1;I<_;I++)m.push(p[I],y[I])}var E=ul(function(R,V,N){var x=d&&R.as||i,P="",k=[],M=R;if(R.theme==null){M={};for(var T in R)M[T]=R[T];M.theme=A.useContext(so)}typeof R.className=="string"?P=_h(V.registered,k,R.className):R.className!=null&&(P=R.className+" ");var g=Ui(m.concat(k),V.registered,M);P+=V.key+"-"+g.name,a!==void 0&&(P+=" "+a);var S=d&&l===void 0?pu(x):c,h={};for(var w in R)d&&w==="as"||S(w)&&(h[w]=R[w]);return h.className=P,N&&(h.ref=N),A.createElement(A.Fragment,null,A.createElement(vg,{cache:V,serialized:g,isStringTag:typeof x=="string"}),A.createElement(x,h))});return E.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",E.defaultProps=t.defaultProps,E.__emotion_real=E,E.__emotion_base=i,E.__emotion_styles=m,E.__emotion_forwardProp=l,Object.defineProperty(E,"toString",{value:function(){return"."+a}}),E.withComponent=function(R,V){var N=e(R,Ds({},n,V,{shouldForwardProp:mu(E,V,!0)}));return N.apply(void 0,m)},E}},bg=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],wa=_g.bind(null);bg.forEach(function(e){wa[e]=wa(e)});function Eg(e){return e==null||Object.keys(e).length===0}function Tg(e){const{styles:t,defaultTheme:n={}}=e,r=typeof t=="function"?i=>t(Eg(i)?n:i):t;return $.jsx(fg,{styles:r})}/**
 * @mui/styled-engine v6.4.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function Ih(e,t){return wa(e,t)}function wg(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}const gu=[];function yu(e){return gu[0]=e,Ui(gu)}var na={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu;function Ig(){if(vu)return It;vu=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),_=Symbol.for("react.client.reference");function I(E){if(typeof E=="object"&&E!==null){var R=E.$$typeof;switch(R){case e:switch(E=E.type,E){case n:case i:case r:case c:case d:return E;default:switch(E=E&&E.$$typeof,E){case a:case l:case m:case p:return E;case s:return E;default:return R}}case t:return R}}}return It.ContextConsumer=s,It.ContextProvider=a,It.Element=e,It.ForwardRef=l,It.Fragment=n,It.Lazy=m,It.Memo=p,It.Portal=t,It.Profiler=i,It.StrictMode=r,It.Suspense=c,It.SuspenseList=d,It.isContextConsumer=function(E){return I(E)===s},It.isContextProvider=function(E){return I(E)===a},It.isElement=function(E){return typeof E=="object"&&E!==null&&E.$$typeof===e},It.isForwardRef=function(E){return I(E)===l},It.isFragment=function(E){return I(E)===n},It.isLazy=function(E){return I(E)===m},It.isMemo=function(E){return I(E)===p},It.isPortal=function(E){return I(E)===t},It.isProfiler=function(E){return I(E)===i},It.isStrictMode=function(E){return I(E)===r},It.isSuspense=function(E){return I(E)===c},It.isSuspenseList=function(E){return I(E)===d},It.isValidElementType=function(E){return typeof E=="string"||typeof E=="function"||E===n||E===i||E===r||E===c||E===d||E===y||typeof E=="object"&&E!==null&&(E.$$typeof===m||E.$$typeof===p||E.$$typeof===a||E.$$typeof===s||E.$$typeof===l||E.$$typeof===_||E.getModuleId!==void 0)},It.typeOf=I,It}var _u;function Sg(){return _u||(_u=1,na.exports=Ig()),na.exports}var Sh=Sg();function Ze(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Ch(e){if(A.isValidElement(e)||Sh.isValidElementType(e)||!Ze(e))return e;const t={};return Object.keys(e).forEach(n=>{t[n]=Ch(e[n])}),t}function we(e,t,n={clone:!0}){const r=n.clone?{...e}:e;return Ze(e)&&Ze(t)&&Object.keys(t).forEach(i=>{A.isValidElement(t[i])||Sh.isValidElementType(t[i])?r[i]=t[i]:Ze(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&Ze(e[i])?r[i]=we(e[i],t[i],n):n.clone?r[i]=Ze(t[i])?Ch(t[i]):t[i]:r[i]=t[i]}),r}const Cg=e=>{const t=Object.keys(e).map(n=>({key:n,val:e[n]}))||[];return t.sort((n,r)=>n.val-r.val),t.reduce((n,r)=>({...n,[r.key]:r.val}),{})};function Rg(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5,...i}=e,s=Cg(t),a=Object.keys(s);function l(y){return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n})`}function c(y){return`@media (max-width:${(typeof t[y]=="number"?t[y]:y)-r/100}${n})`}function d(y,_){const I=a.indexOf(_);return`@media (min-width:${typeof t[y]=="number"?t[y]:y}${n}) and (max-width:${(I!==-1&&typeof t[a[I]]=="number"?t[a[I]]:_)-r/100}${n})`}function p(y){return a.indexOf(y)+1<a.length?d(y,a[a.indexOf(y)+1]):l(y)}function m(y){const _=a.indexOf(y);return _===0?l(a[1]):_===a.length-1?c(a[_]):d(y,a[a.indexOf(y)+1]).replace("@media","@media not all and")}return{keys:a,values:s,up:l,down:c,between:d,only:p,not:m,unit:n,...i}}function Ag(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter(r=>r.startsWith("@container")).sort((r,i)=>{var a,l;const s=/min-width:\s*([0-9.]+)/;return+(((a=r.match(s))==null?void 0:a[1])||0)-+(((l=i.match(s))==null?void 0:l[1])||0)});return n.length?n.reduce((r,i)=>{const s=t[i];return delete r[i],r[i]=s,r},{...t}):t}function xg(e,t){return t==="@"||t.startsWith("@")&&(e.some(n=>t.startsWith(`@${n}`))||!!t.match(/^@\d/))}function Pg(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}function kg(e){const t=(s,a)=>s.replace("@media",a?`@container ${a}`:"@container");function n(s,a){s.up=(...l)=>t(e.breakpoints.up(...l),a),s.down=(...l)=>t(e.breakpoints.down(...l),a),s.between=(...l)=>t(e.breakpoints.between(...l),a),s.only=(...l)=>t(e.breakpoints.only(...l),a),s.not=(...l)=>{const c=t(e.breakpoints.not(...l),a);return c.includes("not all and")?c.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):c}}const r={},i=s=>(n(r,s),r);return n(i),{...e,containerQueries:i}}const Vg={borderRadius:4};function bi(e,t){return t?we(e,t,{clone:!1}):e}const oo={xs:0,sm:600,md:900,lg:1200,xl:1536},bu={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${oo[e]}px)`},Dg={containerQueries:e=>({up:t=>{let n=typeof t=="number"?t:oo[t]||t;return typeof n=="number"&&(n=`${n}px`),e?`@container ${e} (min-width:${n})`:`@container (min-width:${n})`}})};function gn(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const s=r.breakpoints||bu;return t.reduce((a,l,c)=>(a[s.up(s.keys[c])]=n(t[c]),a),{})}if(typeof t=="object"){const s=r.breakpoints||bu;return Object.keys(t).reduce((a,l)=>{if(xg(s.keys,l)){const c=Pg(r.containerQueries?r:Dg,l);c&&(a[c]=n(t[l],l))}else if(Object.keys(s.values||oo).includes(l)){const c=s.up(l);a[c]=n(t[l],l)}else{const c=l;a[c]=t[c]}return a},{})}return n(t)}function Ng(e={}){var n;return((n=e.keys)==null?void 0:n.reduce((r,i)=>{const s=e.up(i);return r[s]={},r},{}))||{}}function Mg(e,t){return e.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},t)}function it(e){if(typeof e!="string")throw new Error(mn(7));return e.charAt(0).toUpperCase()+e.slice(1)}function ao(e,t,n=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&n){const r=`vars.${t}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,e);if(r!=null)return r}return t.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,e)}function Ms(e,t,n,r=n){let i;return typeof e=="function"?i=e(n):Array.isArray(e)?i=e[n]||r:i=ao(e,n)||r,t&&(i=t(i,r,e)),i}function Yt(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=a=>{if(a[t]==null)return null;const l=a[t],c=a.theme,d=ao(c,r)||{};return gn(a,l,m=>{let y=Ms(d,i,m);return m===y&&typeof m=="string"&&(y=Ms(d,i,`${t}${m==="default"?"":it(m)}`,m)),n===!1?y:{[n]:y}})};return s.propTypes={},s.filterProps=[t],s}function Og(e){const t={};return n=>(t[n]===void 0&&(t[n]=e(n)),t[n])}const Lg={m:"margin",p:"padding"},$g={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Eu={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Fg=Og(e=>{if(e.length>2)if(Eu[e])e=Eu[e];else return[e];const[t,n]=e.split(""),r=Lg[t],i=$g[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),fl=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],pl=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...fl,...pl];function ji(e,t,n,r){const i=ao(e,t,!0)??n;return typeof i=="number"||typeof i=="string"?s=>typeof s=="string"?s:typeof i=="string"?`calc(${s} * ${i})`:i*s:Array.isArray(i)?s=>{if(typeof s=="string")return s;const a=Math.abs(s),l=i[a];return s>=0?l:typeof l=="number"?-l:`-${l}`}:typeof i=="function"?i:()=>{}}function ml(e){return ji(e,"spacing",8)}function Wi(e,t){return typeof t=="string"||t==null?t:e(t)}function Bg(e,t){return n=>e.reduce((r,i)=>(r[i]=Wi(t,n),r),{})}function Ug(e,t,n,r){if(!t.includes(n))return null;const i=Fg(n),s=Bg(i,r),a=e[n];return gn(e,a,s)}function Rh(e,t){const n=ml(e.theme);return Object.keys(e).map(r=>Ug(e,t,r,n)).reduce(bi,{})}function Gt(e){return Rh(e,fl)}Gt.propTypes={};Gt.filterProps=fl;function Kt(e){return Rh(e,pl)}Kt.propTypes={};Kt.filterProps=pl;function Ah(e=8,t=ml({spacing:e})){if(e.mui)return e;const n=(...r)=>(r.length===0?[1]:r).map(s=>{const a=t(s);return typeof a=="number"?`${a}px`:a}).join(" ");return n.mui=!0,n}function lo(...e){const t=e.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>t[s]?bi(i,t[s](r)):i,{});return n.propTypes={},n.filterProps=e.reduce((r,i)=>r.concat(i.filterProps),[]),n}function $e(e){return typeof e!="number"?e:`${e}px solid`}function Fe(e,t){return Yt({prop:e,themeKey:"borders",transform:t})}const zg=Fe("border",$e),jg=Fe("borderTop",$e),Wg=Fe("borderRight",$e),qg=Fe("borderBottom",$e),Hg=Fe("borderLeft",$e),Gg=Fe("borderColor"),Kg=Fe("borderTopColor"),Qg=Fe("borderRightColor"),Xg=Fe("borderBottomColor"),Yg=Fe("borderLeftColor"),Jg=Fe("outline",$e),Zg=Fe("outlineColor"),co=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=ji(e.theme,"shape.borderRadius",4),n=r=>({borderRadius:Wi(t,r)});return gn(e,e.borderRadius,n)}return null};co.propTypes={};co.filterProps=["borderRadius"];lo(zg,jg,Wg,qg,Hg,Gg,Kg,Qg,Xg,Yg,co,Jg,Zg);const uo=e=>{if(e.gap!==void 0&&e.gap!==null){const t=ji(e.theme,"spacing",8),n=r=>({gap:Wi(t,r)});return gn(e,e.gap,n)}return null};uo.propTypes={};uo.filterProps=["gap"];const ho=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=ji(e.theme,"spacing",8),n=r=>({columnGap:Wi(t,r)});return gn(e,e.columnGap,n)}return null};ho.propTypes={};ho.filterProps=["columnGap"];const fo=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=ji(e.theme,"spacing",8),n=r=>({rowGap:Wi(t,r)});return gn(e,e.rowGap,n)}return null};fo.propTypes={};fo.filterProps=["rowGap"];const ty=Yt({prop:"gridColumn"}),ey=Yt({prop:"gridRow"}),ny=Yt({prop:"gridAutoFlow"}),ry=Yt({prop:"gridAutoColumns"}),iy=Yt({prop:"gridAutoRows"}),sy=Yt({prop:"gridTemplateColumns"}),oy=Yt({prop:"gridTemplateRows"}),ay=Yt({prop:"gridTemplateAreas"}),ly=Yt({prop:"gridArea"});lo(uo,ho,fo,ty,ey,ny,ry,iy,sy,oy,ay,ly);function Ir(e,t){return t==="grey"?t:e}const cy=Yt({prop:"color",themeKey:"palette",transform:Ir}),uy=Yt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Ir}),dy=Yt({prop:"backgroundColor",themeKey:"palette",transform:Ir});lo(cy,uy,dy);function Ve(e){return e<=1&&e!==0?`${e*100}%`:e}const hy=Yt({prop:"width",transform:Ve}),gl=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=n=>{var i,s,a,l,c;const r=((a=(s=(i=e.theme)==null?void 0:i.breakpoints)==null?void 0:s.values)==null?void 0:a[n])||oo[n];return r?((c=(l=e.theme)==null?void 0:l.breakpoints)==null?void 0:c.unit)!=="px"?{maxWidth:`${r}${e.theme.breakpoints.unit}`}:{maxWidth:r}:{maxWidth:Ve(n)}};return gn(e,e.maxWidth,t)}return null};gl.filterProps=["maxWidth"];const fy=Yt({prop:"minWidth",transform:Ve}),py=Yt({prop:"height",transform:Ve}),my=Yt({prop:"maxHeight",transform:Ve}),gy=Yt({prop:"minHeight",transform:Ve});Yt({prop:"size",cssProperty:"width",transform:Ve});Yt({prop:"size",cssProperty:"height",transform:Ve});const yy=Yt({prop:"boxSizing"});lo(hy,gl,fy,py,my,gy,yy);const qi={border:{themeKey:"borders",transform:$e},borderTop:{themeKey:"borders",transform:$e},borderRight:{themeKey:"borders",transform:$e},borderBottom:{themeKey:"borders",transform:$e},borderLeft:{themeKey:"borders",transform:$e},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:$e},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:co},color:{themeKey:"palette",transform:Ir},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Ir},backgroundColor:{themeKey:"palette",transform:Ir},p:{style:Kt},pt:{style:Kt},pr:{style:Kt},pb:{style:Kt},pl:{style:Kt},px:{style:Kt},py:{style:Kt},padding:{style:Kt},paddingTop:{style:Kt},paddingRight:{style:Kt},paddingBottom:{style:Kt},paddingLeft:{style:Kt},paddingX:{style:Kt},paddingY:{style:Kt},paddingInline:{style:Kt},paddingInlineStart:{style:Kt},paddingInlineEnd:{style:Kt},paddingBlock:{style:Kt},paddingBlockStart:{style:Kt},paddingBlockEnd:{style:Kt},m:{style:Gt},mt:{style:Gt},mr:{style:Gt},mb:{style:Gt},ml:{style:Gt},mx:{style:Gt},my:{style:Gt},margin:{style:Gt},marginTop:{style:Gt},marginRight:{style:Gt},marginBottom:{style:Gt},marginLeft:{style:Gt},marginX:{style:Gt},marginY:{style:Gt},marginInline:{style:Gt},marginInlineStart:{style:Gt},marginInlineEnd:{style:Gt},marginBlock:{style:Gt},marginBlockStart:{style:Gt},marginBlockEnd:{style:Gt},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:uo},rowGap:{style:fo},columnGap:{style:ho},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ve},maxWidth:{style:gl},minWidth:{transform:Ve},height:{transform:Ve},maxHeight:{transform:Ve},minHeight:{transform:Ve},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function vy(...e){const t=e.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(t);return e.every(r=>n.size===Object.keys(r).length)}function _y(e,t){return typeof e=="function"?e(t):e}function by(){function e(n,r,i,s){const a={[n]:r,theme:i},l=s[n];if(!l)return{[n]:r};const{cssProperty:c=n,themeKey:d,transform:p,style:m}=l;if(r==null)return null;if(d==="typography"&&r==="inherit")return{[n]:r};const y=ao(i,d)||{};return m?m(a):gn(a,r,I=>{let E=Ms(y,p,I);return I===E&&typeof I=="string"&&(E=Ms(y,p,`${n}${I==="default"?"":it(I)}`,I)),c===!1?E:{[c]:E}})}function t(n){const{sx:r,theme:i={}}=n||{};if(!r)return null;const s=i.unstable_sxConfig??qi;function a(l){let c=l;if(typeof l=="function")c=l(i);else if(typeof l!="object")return l;if(!c)return null;const d=Ng(i.breakpoints),p=Object.keys(d);let m=d;return Object.keys(c).forEach(y=>{const _=_y(c[y],i);if(_!=null)if(typeof _=="object")if(s[y])m=bi(m,e(y,_,i,s));else{const I=gn({theme:i},_,E=>({[y]:E}));vy(I,_)?m[y]=t({sx:_,theme:i}):m=bi(m,I)}else m=bi(m,e(y,_,i,s))}),Ag(i,Mg(p,m))}return Array.isArray(r)?r.map(a):a(r)}return t}const tr=by();tr.filterProps=["sx"];function Ey(e,t){var r;const n=this;if(n.vars){if(!((r=n.colorSchemes)!=null&&r[e])||typeof n.getColorSchemeSelector!="function")return{};let i=n.getColorSchemeSelector(e);return i==="&"?t:((i.includes("data-")||i.includes("."))&&(i=`*:where(${i.replace(/\s*&$/,"")}) &`),{[i]:t})}return n.palette.mode===e?t:{}}function po(e={},...t){const{breakpoints:n={},palette:r={},spacing:i,shape:s={},...a}=e,l=Rg(n),c=Ah(i);let d=we({breakpoints:l,direction:"ltr",components:{},palette:{mode:"light",...r},spacing:c,shape:{...Vg,...s}},a);return d=kg(d),d.applyStyles=Ey,d=t.reduce((p,m)=>we(p,m),d),d.unstable_sxConfig={...qi,...a==null?void 0:a.unstable_sxConfig},d.unstable_sx=function(m){return tr({sx:m,theme:this})},d}function Ty(e){return Object.keys(e).length===0}function wy(e=null){const t=A.useContext(so);return!t||Ty(t)?e:t}const Iy=po();function mo(e=Iy){return wy(e)}function Sy({styles:e,themeId:t,defaultTheme:n={}}){const r=mo(n),i=typeof e=="function"?e(t&&r[t]||r):e;return $.jsx(Tg,{styles:i})}const Cy=e=>{var r;const t={systemProps:{},otherProps:{}},n=((r=e==null?void 0:e.theme)==null?void 0:r.unstable_sxConfig)??qi;return Object.keys(e).forEach(i=>{n[i]?t.systemProps[i]=e[i]:t.otherProps[i]=e[i]}),t};function Ry(e){const{sx:t,...n}=e,{systemProps:r,otherProps:i}=Cy(n);let s;return Array.isArray(t)?s=[r,...t]:typeof t=="function"?s=(...a)=>{const l=t(...a);return Ze(l)?{...r,...l}:r}:s={...r,...t},{...i,sx:s}}const Tu=e=>e,Ay=()=>{let e=Tu;return{configure(t){e=t},generate(t){return e(t)},reset(){e=Tu}}},xh=Ay();function Ph(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ph(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function lt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ph(e))&&(r&&(r+=" "),r+=t);return r}function xy(e={}){const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=e,s=Ih("div",{shouldForwardProp:l=>l!=="theme"&&l!=="sx"&&l!=="as"})(tr);return A.forwardRef(function(c,d){const p=mo(n),{className:m,component:y="div",..._}=Ry(c);return $.jsx(s,{as:y,ref:d,className:lt(m,i?i(r):r),theme:t&&p[t]||p,..._})})}const Py={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Pt(e,t,n="Mui"){const r=Py[t];return r?`${n}-${r}`:`${xh.generate(e)}-${t}`}function kt(e,t,n="Mui"){const r={};return t.forEach(i=>{r[i]=Pt(e,i,n)}),r}function kh(e){const{variants:t,...n}=e,r={variants:t,style:yu(n),isProcessed:!0};return r.style===n||t&&t.forEach(i=>{typeof i.style!="function"&&(i.style=yu(i.style))}),r}const ky=po();function ra(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}function Vy(e){return e?(t,n)=>n[e]:null}function Dy(e,t,n){e.theme=My(e.theme)?n:e.theme[t]||e.theme}function Rs(e,t){const n=typeof t=="function"?t(e):t;if(Array.isArray(n))return n.flatMap(r=>Rs(e,r));if(Array.isArray(n==null?void 0:n.variants)){let r;if(n.isProcessed)r=n.style;else{const{variants:i,...s}=n;r=s}return Vh(e,n.variants,[r])}return n!=null&&n.isProcessed?n.style:n}function Vh(e,t,n=[]){var i;let r;t:for(let s=0;s<t.length;s+=1){const a=t[s];if(typeof a.props=="function"){if(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),!a.props(r))continue}else for(const l in a.props)if(e[l]!==a.props[l]&&((i=e.ownerState)==null?void 0:i[l])!==a.props[l])continue t;typeof a.style=="function"?(r??(r={...e,...e.ownerState,ownerState:e.ownerState}),n.push(a.style(r))):n.push(a.style)}return n}function Dh(e={}){const{themeId:t,defaultTheme:n=ky,rootShouldForwardProp:r=ra,slotShouldForwardProp:i=ra}=e;function s(l){Dy(l,t,n)}return(l,c={})=>{wg(l,k=>k.filter(M=>M!==tr));const{name:d,slot:p,skipVariantsResolver:m,skipSx:y,overridesResolver:_=Vy(Ly(p)),...I}=c,E=m!==void 0?m:p&&p!=="Root"&&p!=="root"||!1,R=y||!1;let V=ra;p==="Root"||p==="root"?V=r:p?V=i:Oy(l)&&(V=void 0);const N=Ih(l,{shouldForwardProp:V,label:Ny(),...I}),x=k=>{if(typeof k=="function"&&k.__emotion_real!==k)return function(T){return Rs(T,k)};if(Ze(k)){const M=kh(k);return M.variants?function(g){return Rs(g,M)}:M.style}return k},P=(...k)=>{const M=[],T=k.map(x),g=[];if(M.push(s),d&&_&&g.push(function(C){var z,G;const q=(G=(z=C.theme.components)==null?void 0:z[d])==null?void 0:G.styleOverrides;if(!q)return null;const B={};for(const st in q)B[st]=Rs(C,q[st]);return _(C,B)}),d&&!E&&g.push(function(C){var B,z;const b=C.theme,q=(z=(B=b==null?void 0:b.components)==null?void 0:B[d])==null?void 0:z.variants;return q?Vh(C,q):null}),R||g.push(tr),Array.isArray(T[0])){const w=T.shift(),C=new Array(M.length).fill(""),b=new Array(g.length).fill("");let q;q=[...C,...w,...b],q.raw=[...C,...w.raw,...b],M.unshift(q)}const S=[...M,...T,...g],h=N(...S);return l.muiName&&(h.muiName=l.muiName),h};return N.withConfig&&(P.withConfig=N.withConfig),P}}function Ny(e,t){return void 0}function My(e){for(const t in e)return!1;return!0}function Oy(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Ly(e){return e&&e.charAt(0).toLowerCase()+e.slice(1)}const $y=Dh();function Ar(e,t){const n={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if(i==="components"||i==="slots")n[i]={...e[i],...n[i]};else if(i==="componentsProps"||i==="slotProps"){const s=e[i],a=t[i];if(!a)n[i]=s||{};else if(!s)n[i]=a;else{n[i]={...a};for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const c=l;n[i][c]=Ar(s[c],a[c])}}}else n[i]===void 0&&(n[i]=e[i])}return n}function Fy(e){const{theme:t,name:n,props:r}=e;return!t||!t.components||!t.components[n]||!t.components[n].defaultProps?r:Ar(t.components[n].defaultProps,r)}function By({props:e,name:t,defaultTheme:n,themeId:r}){let i=mo(n);return r&&(i=i[r]||i),Fy({theme:i,name:t,props:e})}const er=typeof window<"u"?A.useLayoutEffect:A.useEffect;function Uy(e,t=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,n))}function yl(e,t=0,n=1){return Uy(e,t,n)}function zy(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Vn(e){if(e.type)return e;if(e.charAt(0)==="#")return Vn(zy(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(mn(9,e));let r=e.substring(t+1,e.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(i))throw new Error(mn(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}const jy=e=>{const t=Vn(e);return t.values.slice(0,3).map((n,r)=>t.type.includes("hsl")&&r!==0?`${n}%`:n).join(" ")},fi=(e,t)=>{try{return jy(e)}catch{return e}};function go(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map((i,s)=>s<3?parseInt(i,10):i):t.includes("hsl")&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),t.includes("color")?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${t}(${r})`}function Nh(e){e=Vn(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),a=(d,p=(d+n/30)%12)=>i-s*Math.max(Math.min(p-3,9-p,1),-1);let l="rgb";const c=[Math.round(a(0)*255),Math.round(a(8)*255),Math.round(a(4)*255)];return e.type==="hsla"&&(l+="a",c.push(t[3])),go({type:l,values:c})}function Ia(e){e=Vn(e);let t=e.type==="hsl"||e.type==="hsla"?Vn(Nh(e)).values:e.values;return t=t.map(n=>(e.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Wy(e,t){const n=Ia(e),r=Ia(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function Ee(e,t){return e=Vn(e),t=yl(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,go(e)}function fs(e,t,n){try{return Ee(e,t)}catch{return e}}function vl(e,t){if(e=Vn(e),t=yl(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return go(e)}function Rt(e,t,n){try{return vl(e,t)}catch{return e}}function _l(e,t){if(e=Vn(e),t=yl(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return go(e)}function At(e,t,n){try{return _l(e,t)}catch{return e}}function qy(e,t=.15){return Ia(e)>.5?vl(e,t):_l(e,t)}function ps(e,t,n){try{return qy(e,t)}catch{return e}}function wu(...e){return e.reduce((t,n)=>n==null?t:function(...i){t.apply(this,i),n.apply(this,i)},()=>{})}function Mh(e,t=166){let n;function r(...i){const s=()=>{e.apply(this,i)};clearTimeout(n),n=setTimeout(s,t)}return r.clear=()=>{clearTimeout(n)},r}function ia(e,t){var n,r,i;return A.isValidElement(e)&&t.indexOf(e.type.muiName??((i=(r=(n=e.type)==null?void 0:n._payload)==null?void 0:r.value)==null?void 0:i.muiName))!==-1}function je(e){return e&&e.ownerDocument||document}function yn(e){return je(e).defaultView||window}function Sa(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let Iu=0;function Hy(e){const[t,n]=A.useState(e),r=e||t;return A.useEffect(()=>{t==null&&(Iu+=1,n(`mui-${Iu}`))},[t]),r}const Gy={..._a},Su=Gy.useId;function bl(e){if(Su!==void 0){const t=Su();return e??t}return Hy(e)}function Cu({controlled:e,default:t,name:n,state:r="value"}){const{current:i}=A.useRef(e!==void 0),[s,a]=A.useState(t),l=i?e:s,c=A.useCallback(d=>{i||a(d)},[]);return[l,c]}function Zn(e){const t=A.useRef(e);return er(()=>{t.current=e}),A.useRef((...n)=>(0,t.current)(...n)).current}function xe(...e){return A.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(n=>{Sa(n,t)})},e)}const Ru={};function Oh(e,t){const n=A.useRef(Ru);return n.current===Ru&&(n.current=e(t)),n}const Ky=[];function Qy(e){A.useEffect(e,Ky)}class El{constructor(){ai(this,"currentId",null);ai(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});ai(this,"disposeEffect",()=>this.clear)}static create(){return new El}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function Lh(){const e=Oh(El.create).current;return Qy(e.disposeEffect),e}function Au(e){try{return e.matches(":focus-visible")}catch{}return!1}function $h(e=window){const t=e.document.documentElement.clientWidth;return e.innerWidth-t}function Xy(e){return A.Children.toArray(e).filter(t=>A.isValidElement(t))}function Vt(e,t,n=void 0){const r={};for(const i in e){const s=e[i];let a="",l=!0;for(let c=0;c<s.length;c+=1){const d=s[c];d&&(a+=(l===!0?"":" ")+t(d),l=!1,n&&n[d]&&(a+=" "+n[d]))}r[i]=a}return r}function Yy(e){return typeof e=="string"}function Fh(e,t,n){return e===void 0||Yy(e)?t:{...t,ownerState:{...t.ownerState,...n}}}function Bh(e,t=[]){if(e===void 0)return{};const n={};return Object.keys(e).filter(r=>r.match(/^on[A-Z]/)&&typeof e[r]=="function"&&!t.includes(r)).forEach(r=>{n[r]=e[r]}),n}function xu(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(n=>!(n.match(/^on[A-Z]/)&&typeof e[n]=="function")).forEach(n=>{t[n]=e[n]}),t}function Uh(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const _=lt(n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),I={...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},E={...n,...i,...r};return _.length>0&&(E.className=_),Object.keys(I).length>0&&(E.style=I),{props:E,internalRef:void 0}}const a=Bh({...i,...r}),l=xu(r),c=xu(i),d=t(a),p=lt(d==null?void 0:d.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),m={...d==null?void 0:d.style,...n==null?void 0:n.style,...i==null?void 0:i.style,...r==null?void 0:r.style},y={...d,...n,...c,...l};return p.length>0&&(y.className=p),Object.keys(m).length>0&&(y.style=m),{props:y,internalRef:d.ref}}function zh(e,t,n){return typeof e=="function"?e(t,n):e}function Jy(e){var m;const{elementType:t,externalSlotProps:n,ownerState:r,skipResolvingSlotProps:i=!1,...s}=e,a=i?{}:zh(n,r),{props:l,internalRef:c}=Uh({...s,externalSlotProps:a}),d=xe(c,a==null?void 0:a.ref,(m=e.additionalProps)==null?void 0:m.ref);return Fh(t,{...l,ref:d},r)}function Hi(e){var t;return parseInt(A.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}const Zy=A.createContext(),tv=()=>A.useContext(Zy)??!1,ev=A.createContext(void 0);function nv(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?Ar(i.defaultProps,r):!i.styleOverrides&&!i.variants?Ar(i,r):r}function rv({props:e,name:t}){const n=A.useContext(ev);return nv({props:e,name:t,theme:{components:n}})}const Pu={theme:void 0};function iv(e){let t,n;return function(i){let s=t;return(s===void 0||i.theme!==n)&&(Pu.theme=i.theme,s=kh(e(Pu)),t=s,n=i.theme),s}}function sv(e=""){function t(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${e?`${e}-`:""}${i}${t(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${e?`${e}-`:""}${r}${t(...i)})`}const ku=(e,t,n,r=[])=>{let i=e;t.forEach((s,a)=>{a===t.length-1?Array.isArray(i)?i[Number(s)]=n:i&&typeof i=="object"&&(i[s]=n):i&&typeof i=="object"&&(i[s]||(i[s]=r.includes(s)?[]:{}),i=i[s])})},ov=(e,t,n)=>{function r(i,s=[],a=[]){Object.entries(i).forEach(([l,c])=>{(!n||n&&!n([...s,l]))&&c!=null&&(typeof c=="object"&&Object.keys(c).length>0?r(c,[...s,l],Array.isArray(c)?[...a,l]:a):t([...s,l],c,a))})}r(e)},av=(e,t)=>typeof t=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>e.includes(r))||e[e.length-1].toLowerCase().includes("opacity")?t:`${t}px`:t;function sa(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},a={};return ov(e,(l,c,d)=>{if((typeof c=="string"||typeof c=="number")&&(!r||!r(l,c))){const p=`--${n?`${n}-`:""}${l.join("-")}`,m=av(l,c);Object.assign(i,{[p]:m}),ku(s,l,`var(${p})`,d),ku(a,l,`var(${p}, ${m})`,d)}},l=>l[0]==="vars"),{css:i,vars:s,varsWithDefaults:a}}function lv(e,t={}){const{getSelector:n=R,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:l="light",...c}=e,{vars:d,css:p,varsWithDefaults:m}=sa(c,t);let y=m;const _={},{[l]:I,...E}=s;if(Object.entries(E||{}).forEach(([x,P])=>{const{vars:k,css:M,varsWithDefaults:T}=sa(P,t);y=we(y,T),_[x]={css:M,vars:k}}),I){const{css:x,vars:P,varsWithDefaults:k}=sa(I,t);y=we(y,k),_[l]={css:x,vars:P}}function R(x,P){var M,T;let k=i;if(i==="class"&&(k=".%s"),i==="data"&&(k="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(k=`[${i}="%s"]`),x){if(k==="media")return e.defaultColorScheme===x?":root":{[`@media (prefers-color-scheme: ${((T=(M=s[x])==null?void 0:M.palette)==null?void 0:T.mode)||x})`]:{":root":P}};if(k)return e.defaultColorScheme===x?`:root, ${k.replace("%s",String(x))}`:k.replace("%s",String(x))}return":root"}return{vars:y,generateThemeVars:()=>{let x={...d};return Object.entries(_).forEach(([,{vars:P}])=>{x=we(x,P)}),x},generateStyleSheets:()=>{var g,S;const x=[],P=e.defaultColorScheme||"light";function k(h,w){Object.keys(w).length&&x.push(typeof h=="string"?{[h]:{...w}}:h)}k(n(void 0,{...p}),p);const{[P]:M,...T}=_;if(M){const{css:h}=M,w=(S=(g=s[P])==null?void 0:g.palette)==null?void 0:S.mode,C=!r&&w?{colorScheme:w,...h}:{...h};k(n(P,{...C}),C)}return Object.entries(T).forEach(([h,{css:w}])=>{var q,B;const C=(B=(q=s[h])==null?void 0:q.palette)==null?void 0:B.mode,b=!r&&C?{colorScheme:C,...w}:{...w};k(n(h,{...b}),b)}),x}}}function cv(e){return function(n){return e==="media"?`@media (prefers-color-scheme: ${n})`:e?e.startsWith("data-")&&!e.includes("%s")?`[${e}="${n}"] &`:e==="class"?`.${n} &`:e==="data"?`[data-${n}] &`:`${e.replace("%s",n)} &`:"&"}}const uv=po(),dv=$y("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${it(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),hv=e=>By({props:e,name:"MuiContainer",defaultTheme:uv}),fv=(e,t)=>{const n=c=>Pt(t,c),{classes:r,fixed:i,disableGutters:s,maxWidth:a}=e,l={root:["root",a&&`maxWidth${it(String(a))}`,i&&"fixed",s&&"disableGutters"]};return Vt(l,n,r)};function pv(e={}){const{createStyledComponent:t=dv,useThemeProps:n=hv,componentName:r="MuiContainer"}=e,i=t(({theme:a,ownerState:l})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!l.disableGutters&&{paddingLeft:a.spacing(2),paddingRight:a.spacing(2),[a.breakpoints.up("sm")]:{paddingLeft:a.spacing(3),paddingRight:a.spacing(3)}}}),({theme:a,ownerState:l})=>l.fixed&&Object.keys(a.breakpoints.values).reduce((c,d)=>{const p=d,m=a.breakpoints.values[p];return m!==0&&(c[a.breakpoints.up(p)]={maxWidth:`${m}${a.breakpoints.unit}`}),c},{}),({theme:a,ownerState:l})=>({...l.maxWidth==="xs"&&{[a.breakpoints.up("xs")]:{maxWidth:Math.max(a.breakpoints.values.xs,444)}},...l.maxWidth&&l.maxWidth!=="xs"&&{[a.breakpoints.up(l.maxWidth)]:{maxWidth:`${a.breakpoints.values[l.maxWidth]}${a.breakpoints.unit}`}}}));return A.forwardRef(function(l,c){const d=n(l),{className:p,component:m="div",disableGutters:y=!1,fixed:_=!1,maxWidth:I="lg",classes:E,...R}=d,V={...d,component:m,disableGutters:y,fixed:_,maxWidth:I},N=fv(V,r);return $.jsx(i,{as:m,ownerState:V,className:lt(N.root,p),ref:c,...R})})}function jh(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Ri.white,default:Ri.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const mv=jh();function Wh(){return{text:{primary:Ri.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Ri.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const Vu=Wh();function Du(e,t,n,r){const i=r.light||r,s=r.dark||r*1.5;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:t==="light"?e.light=_l(e.main,i):t==="dark"&&(e.dark=vl(e.main,s)))}function gv(e="light"){return e==="dark"?{main:pr[200],light:pr[50],dark:pr[400]}:{main:pr[700],light:pr[400],dark:pr[800]}}function yv(e="light"){return e==="dark"?{main:fr[200],light:fr[50],dark:fr[400]}:{main:fr[500],light:fr[300],dark:fr[700]}}function vv(e="light"){return e==="dark"?{main:hr[500],light:hr[300],dark:hr[700]}:{main:hr[700],light:hr[400],dark:hr[800]}}function _v(e="light"){return e==="dark"?{main:mr[400],light:mr[300],dark:mr[700]}:{main:mr[700],light:mr[500],dark:mr[900]}}function bv(e="light"){return e==="dark"?{main:gr[400],light:gr[300],dark:gr[700]}:{main:gr[800],light:gr[500],dark:gr[900]}}function Ev(e="light"){return e==="dark"?{main:li[400],light:li[300],dark:li[700]}:{main:"#ed6c02",light:li[500],dark:li[900]}}function Tl(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2,...i}=e,s=e.primary||gv(t),a=e.secondary||yv(t),l=e.error||vv(t),c=e.info||_v(t),d=e.success||bv(t),p=e.warning||Ev(t);function m(E){return Wy(E,Vu.text.primary)>=n?Vu.text.primary:mv.text.primary}const y=({color:E,name:R,mainShade:V=500,lightShade:N=300,darkShade:x=700})=>{if(E={...E},!E.main&&E[V]&&(E.main=E[V]),!E.hasOwnProperty("main"))throw new Error(mn(11,R?` (${R})`:"",V));if(typeof E.main!="string")throw new Error(mn(12,R?` (${R})`:"",JSON.stringify(E.main)));return Du(E,"light",N,r),Du(E,"dark",x,r),E.contrastText||(E.contrastText=m(E.main)),E};let _;return t==="light"?_=jh():t==="dark"&&(_=Wh()),we({common:{...Ri},mode:t,primary:y({color:s,name:"primary"}),secondary:y({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:y({color:l,name:"error"}),warning:y({color:p,name:"warning"}),info:y({color:c,name:"info"}),success:y({color:d,name:"success"}),grey:wm,contrastThreshold:n,getContrastText:m,augmentColor:y,tonalOffset:r,..._},i)}function Tv(e){const t={};return Object.entries(e).forEach(r=>{const[i,s]=r;typeof s=="object"&&(t[i]=`${s.fontStyle?`${s.fontStyle} `:""}${s.fontVariant?`${s.fontVariant} `:""}${s.fontWeight?`${s.fontWeight} `:""}${s.fontStretch?`${s.fontStretch} `:""}${s.fontSize||""}${s.lineHeight?`/${s.lineHeight} `:""}${s.fontFamily||""}`)}),t}function wv(e,t){return{toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}},...t}}function Iv(e){return Math.round(e*1e5)/1e5}const Nu={textTransform:"uppercase"},Mu='"Roboto", "Helvetica", "Arial", sans-serif';function Sv(e,t){const{fontFamily:n=Mu,fontSize:r=14,fontWeightLight:i=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:p,...m}=typeof t=="function"?t(e):t,y=r/14,_=p||(R=>`${R/c*y}rem`),I=(R,V,N,x,P)=>({fontFamily:n,fontWeight:R,fontSize:_(V),lineHeight:N,...n===Mu?{letterSpacing:`${Iv(x/V)}em`}:{},...P,...d}),E={h1:I(i,96,1.167,-1.5),h2:I(i,60,1.2,-.5),h3:I(s,48,1.167,0),h4:I(s,34,1.235,.25),h5:I(s,24,1.334,0),h6:I(a,20,1.6,.15),subtitle1:I(s,16,1.75,.15),subtitle2:I(a,14,1.57,.1),body1:I(s,16,1.5,.15),body2:I(s,14,1.43,.15),button:I(a,14,1.75,.4,Nu),caption:I(s,12,1.66,.4),overline:I(s,12,2.66,1,Nu),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return we({htmlFontSize:c,pxToRem:_,fontFamily:n,fontSize:r,fontWeightLight:i,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l,...E},m,{clone:!1})}const Cv=.2,Rv=.14,Av=.12;function $t(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Cv})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Rv})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Av})`].join(",")}const xv=["none",$t(0,2,1,-1,0,1,1,0,0,1,3,0),$t(0,3,1,-2,0,2,2,0,0,1,5,0),$t(0,3,3,-2,0,3,4,0,0,1,8,0),$t(0,2,4,-1,0,4,5,0,0,1,10,0),$t(0,3,5,-1,0,5,8,0,0,1,14,0),$t(0,3,5,-1,0,6,10,0,0,1,18,0),$t(0,4,5,-2,0,7,10,1,0,2,16,1),$t(0,5,5,-3,0,8,10,1,0,3,14,2),$t(0,5,6,-3,0,9,12,1,0,3,16,2),$t(0,6,6,-3,0,10,14,1,0,4,18,3),$t(0,6,7,-4,0,11,15,1,0,4,20,3),$t(0,7,8,-4,0,12,17,2,0,5,22,4),$t(0,7,8,-4,0,13,19,2,0,5,24,4),$t(0,7,9,-4,0,14,21,2,0,5,26,4),$t(0,8,9,-5,0,15,22,2,0,6,28,5),$t(0,8,10,-5,0,16,24,2,0,6,30,5),$t(0,8,11,-5,0,17,26,2,0,6,32,5),$t(0,9,11,-5,0,18,28,2,0,7,34,6),$t(0,9,12,-6,0,19,29,2,0,7,36,6),$t(0,10,13,-6,0,20,31,3,0,8,38,7),$t(0,10,13,-6,0,21,33,3,0,8,40,7),$t(0,10,14,-6,0,22,35,3,0,8,42,7),$t(0,11,14,-7,0,23,36,3,0,9,44,8),$t(0,11,15,-7,0,24,38,3,0,9,46,8)],Pv={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},kv={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ou(e){return`${Math.round(e)}ms`}function Vv(e){if(!e)return 0;const t=e/36;return Math.min(Math.round((4+15*t**.25+t/5)*10),3e3)}function Dv(e){const t={...Pv,...e.easing},n={...kv,...e.duration};return{getAutoHeightDuration:Vv,create:(i=["all"],s={})=>{const{duration:a=n.standard,easing:l=t.easeInOut,delay:c=0,...d}=s;return(Array.isArray(i)?i:[i]).map(p=>`${p} ${typeof a=="string"?a:Ou(a)} ${l} ${typeof c=="string"?c:Ou(c)}`).join(",")},...e,easing:t,duration:n}}const Nv={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Mv(e){return Ze(e)||typeof e>"u"||typeof e=="string"||typeof e=="boolean"||typeof e=="number"||Array.isArray(e)}function qh(e={}){const t={...e};function n(r){const i=Object.entries(r);for(let s=0;s<i.length;s++){const[a,l]=i[s];!Mv(l)||a.startsWith("unstable_")?delete r[a]:Ze(l)&&(r[a]={...l},n(r[a]))}}return n(t),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(t,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Ca(e={},...t){const{breakpoints:n,mixins:r={},spacing:i,palette:s={},transitions:a={},typography:l={},shape:c,...d}=e;if(e.vars&&e.generateThemeVars===void 0)throw new Error(mn(20));const p=Tl(s),m=po(e);let y=we(m,{mixins:wv(m.breakpoints,r),palette:p,shadows:xv.slice(),typography:Sv(p,l),transitions:Dv(a),zIndex:{...Nv}});return y=we(y,d),y=t.reduce((_,I)=>we(_,I),y),y.unstable_sxConfig={...qi,...d==null?void 0:d.unstable_sxConfig},y.unstable_sx=function(I){return tr({sx:I,theme:this})},y.toRuntimeSource=qh,y}function Ra(e){let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,Math.round(t*10)/1e3}const Ov=[...Array(25)].map((e,t)=>{if(t===0)return"none";const n=Ra(t);return`linear-gradient(rgba(255 255 255 / ${n}), rgba(255 255 255 / ${n}))`});function Hh(e){return{inputPlaceholder:e==="dark"?.5:.42,inputUnderline:e==="dark"?.7:.42,switchTrackDisabled:e==="dark"?.2:.12,switchTrack:e==="dark"?.3:.38}}function Gh(e){return e==="dark"?Ov:[]}function Lv(e){const{palette:t={mode:"light"},opacity:n,overlays:r,...i}=e,s=Tl(t);return{palette:s,opacity:{...Hh(s.mode),...n},overlays:r||Gh(s.mode),...i}}function $v(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||e[0]==="palette"&&!!((t=e[1])!=null&&t.match(/(mode|contrastThreshold|tonalOffset)/))}const Fv=e=>[...[...Array(25)].map((t,n)=>`--${e?`${e}-`:""}overlays-${n}`),`--${e?`${e}-`:""}palette-AppBar-darkBg`,`--${e?`${e}-`:""}palette-AppBar-darkColor`],Bv=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if(i==="class"&&(s=".%s"),i==="data"&&(s="[data-%s]"),i!=null&&i.startsWith("data-")&&!i.includes("%s")&&(s=`[${i}="%s"]`),e.defaultColorScheme===t){if(t==="dark"){const a={};return Fv(e.cssVarPrefix).forEach(l=>{a[l]=n[l],delete n[l]}),s==="media"?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:a}}:s?{[s.replace("%s",t)]:a,[`${r}, ${s.replace("%s",t)}`]:n}:{[r]:{...n,...a}}}if(s&&s!=="media")return`${r}, ${s.replace("%s",String(t))}`}else if(t){if(s==="media")return{[`@media (prefers-color-scheme: ${String(t)})`]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r};function Uv(e,t){t.forEach(n=>{e[n]||(e[n]={})})}function L(e,t,n){!e[t]&&n&&(e[t]=n)}function pi(e){return typeof e!="string"||!e.startsWith("hsl")?e:Nh(e)}function dn(e,t){`${t}Channel`in e||(e[`${t}Channel`]=fi(pi(e[t])))}function zv(e){return typeof e=="number"?`${e}px`:typeof e=="string"||typeof e=="function"||Array.isArray(e)?e:"8px"}const Ke=e=>{try{return e()}catch{}},jv=(e="mui")=>sv(e);function oa(e,t,n,r){if(!t)return;t=t===!0?{}:t;const i=r==="dark"?"dark":"light";if(!n){e[r]=Lv({...t,palette:{mode:i,...t==null?void 0:t.palette}});return}const{palette:s,...a}=Ca({...n,palette:{mode:i,...t==null?void 0:t.palette}});return e[r]={...t,palette:s,opacity:{...Hh(i),...t==null?void 0:t.opacity},overlays:(t==null?void 0:t.overlays)||Gh(i)},a}function Wv(e={},...t){const{colorSchemes:n={light:!0},defaultColorScheme:r,disableCssColorScheme:i=!1,cssVarPrefix:s="mui",shouldSkipGeneratingVar:a=$v,colorSchemeSelector:l=n.light&&n.dark?"media":void 0,rootSelector:c=":root",...d}=e,p=Object.keys(n)[0],m=r||(n.light&&p!=="light"?"light":p),y=jv(s),{[m]:_,light:I,dark:E,...R}=n,V={...R};let N=_;if((m==="dark"&&!("dark"in n)||m==="light"&&!("light"in n))&&(N=!0),!N)throw new Error(mn(21,m));const x=oa(V,N,d,m);I&&!V.light&&oa(V,I,void 0,"light"),E&&!V.dark&&oa(V,E,void 0,"dark");let P={defaultColorScheme:m,...x,cssVarPrefix:s,colorSchemeSelector:l,rootSelector:c,getCssVar:y,colorSchemes:V,font:{...Tv(x.typography),...x.font},spacing:zv(d.spacing)};Object.keys(P.colorSchemes).forEach(S=>{const h=P.colorSchemes[S].palette,w=C=>{const b=C.split("-"),q=b[1],B=b[2];return y(C,h[q][B])};if(h.mode==="light"&&(L(h.common,"background","#fff"),L(h.common,"onBackground","#000")),h.mode==="dark"&&(L(h.common,"background","#000"),L(h.common,"onBackground","#fff")),Uv(h,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),h.mode==="light"){L(h.Alert,"errorColor",Rt(h.error.light,.6)),L(h.Alert,"infoColor",Rt(h.info.light,.6)),L(h.Alert,"successColor",Rt(h.success.light,.6)),L(h.Alert,"warningColor",Rt(h.warning.light,.6)),L(h.Alert,"errorFilledBg",w("palette-error-main")),L(h.Alert,"infoFilledBg",w("palette-info-main")),L(h.Alert,"successFilledBg",w("palette-success-main")),L(h.Alert,"warningFilledBg",w("palette-warning-main")),L(h.Alert,"errorFilledColor",Ke(()=>h.getContrastText(h.error.main))),L(h.Alert,"infoFilledColor",Ke(()=>h.getContrastText(h.info.main))),L(h.Alert,"successFilledColor",Ke(()=>h.getContrastText(h.success.main))),L(h.Alert,"warningFilledColor",Ke(()=>h.getContrastText(h.warning.main))),L(h.Alert,"errorStandardBg",At(h.error.light,.9)),L(h.Alert,"infoStandardBg",At(h.info.light,.9)),L(h.Alert,"successStandardBg",At(h.success.light,.9)),L(h.Alert,"warningStandardBg",At(h.warning.light,.9)),L(h.Alert,"errorIconColor",w("palette-error-main")),L(h.Alert,"infoIconColor",w("palette-info-main")),L(h.Alert,"successIconColor",w("palette-success-main")),L(h.Alert,"warningIconColor",w("palette-warning-main")),L(h.AppBar,"defaultBg",w("palette-grey-100")),L(h.Avatar,"defaultBg",w("palette-grey-400")),L(h.Button,"inheritContainedBg",w("palette-grey-300")),L(h.Button,"inheritContainedHoverBg",w("palette-grey-A100")),L(h.Chip,"defaultBorder",w("palette-grey-400")),L(h.Chip,"defaultAvatarColor",w("palette-grey-700")),L(h.Chip,"defaultIconColor",w("palette-grey-700")),L(h.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),L(h.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),L(h.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),L(h.LinearProgress,"primaryBg",At(h.primary.main,.62)),L(h.LinearProgress,"secondaryBg",At(h.secondary.main,.62)),L(h.LinearProgress,"errorBg",At(h.error.main,.62)),L(h.LinearProgress,"infoBg",At(h.info.main,.62)),L(h.LinearProgress,"successBg",At(h.success.main,.62)),L(h.LinearProgress,"warningBg",At(h.warning.main,.62)),L(h.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.11)`),L(h.Slider,"primaryTrack",At(h.primary.main,.62)),L(h.Slider,"secondaryTrack",At(h.secondary.main,.62)),L(h.Slider,"errorTrack",At(h.error.main,.62)),L(h.Slider,"infoTrack",At(h.info.main,.62)),L(h.Slider,"successTrack",At(h.success.main,.62)),L(h.Slider,"warningTrack",At(h.warning.main,.62));const C=ps(h.background.default,.8);L(h.SnackbarContent,"bg",C),L(h.SnackbarContent,"color",Ke(()=>h.getContrastText(C))),L(h.SpeedDialAction,"fabHoverBg",ps(h.background.paper,.15)),L(h.StepConnector,"border",w("palette-grey-400")),L(h.StepContent,"border",w("palette-grey-400")),L(h.Switch,"defaultColor",w("palette-common-white")),L(h.Switch,"defaultDisabledColor",w("palette-grey-100")),L(h.Switch,"primaryDisabledColor",At(h.primary.main,.62)),L(h.Switch,"secondaryDisabledColor",At(h.secondary.main,.62)),L(h.Switch,"errorDisabledColor",At(h.error.main,.62)),L(h.Switch,"infoDisabledColor",At(h.info.main,.62)),L(h.Switch,"successDisabledColor",At(h.success.main,.62)),L(h.Switch,"warningDisabledColor",At(h.warning.main,.62)),L(h.TableCell,"border",At(fs(h.divider,1),.88)),L(h.Tooltip,"bg",fs(h.grey[700],.92))}if(h.mode==="dark"){L(h.Alert,"errorColor",At(h.error.light,.6)),L(h.Alert,"infoColor",At(h.info.light,.6)),L(h.Alert,"successColor",At(h.success.light,.6)),L(h.Alert,"warningColor",At(h.warning.light,.6)),L(h.Alert,"errorFilledBg",w("palette-error-dark")),L(h.Alert,"infoFilledBg",w("palette-info-dark")),L(h.Alert,"successFilledBg",w("palette-success-dark")),L(h.Alert,"warningFilledBg",w("palette-warning-dark")),L(h.Alert,"errorFilledColor",Ke(()=>h.getContrastText(h.error.dark))),L(h.Alert,"infoFilledColor",Ke(()=>h.getContrastText(h.info.dark))),L(h.Alert,"successFilledColor",Ke(()=>h.getContrastText(h.success.dark))),L(h.Alert,"warningFilledColor",Ke(()=>h.getContrastText(h.warning.dark))),L(h.Alert,"errorStandardBg",Rt(h.error.light,.9)),L(h.Alert,"infoStandardBg",Rt(h.info.light,.9)),L(h.Alert,"successStandardBg",Rt(h.success.light,.9)),L(h.Alert,"warningStandardBg",Rt(h.warning.light,.9)),L(h.Alert,"errorIconColor",w("palette-error-main")),L(h.Alert,"infoIconColor",w("palette-info-main")),L(h.Alert,"successIconColor",w("palette-success-main")),L(h.Alert,"warningIconColor",w("palette-warning-main")),L(h.AppBar,"defaultBg",w("palette-grey-900")),L(h.AppBar,"darkBg",w("palette-background-paper")),L(h.AppBar,"darkColor",w("palette-text-primary")),L(h.Avatar,"defaultBg",w("palette-grey-600")),L(h.Button,"inheritContainedBg",w("palette-grey-800")),L(h.Button,"inheritContainedHoverBg",w("palette-grey-700")),L(h.Chip,"defaultBorder",w("palette-grey-700")),L(h.Chip,"defaultAvatarColor",w("palette-grey-300")),L(h.Chip,"defaultIconColor",w("palette-grey-300")),L(h.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),L(h.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),L(h.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),L(h.LinearProgress,"primaryBg",Rt(h.primary.main,.5)),L(h.LinearProgress,"secondaryBg",Rt(h.secondary.main,.5)),L(h.LinearProgress,"errorBg",Rt(h.error.main,.5)),L(h.LinearProgress,"infoBg",Rt(h.info.main,.5)),L(h.LinearProgress,"successBg",Rt(h.success.main,.5)),L(h.LinearProgress,"warningBg",Rt(h.warning.main,.5)),L(h.Skeleton,"bg",`rgba(${w("palette-text-primaryChannel")} / 0.13)`),L(h.Slider,"primaryTrack",Rt(h.primary.main,.5)),L(h.Slider,"secondaryTrack",Rt(h.secondary.main,.5)),L(h.Slider,"errorTrack",Rt(h.error.main,.5)),L(h.Slider,"infoTrack",Rt(h.info.main,.5)),L(h.Slider,"successTrack",Rt(h.success.main,.5)),L(h.Slider,"warningTrack",Rt(h.warning.main,.5));const C=ps(h.background.default,.98);L(h.SnackbarContent,"bg",C),L(h.SnackbarContent,"color",Ke(()=>h.getContrastText(C))),L(h.SpeedDialAction,"fabHoverBg",ps(h.background.paper,.15)),L(h.StepConnector,"border",w("palette-grey-600")),L(h.StepContent,"border",w("palette-grey-600")),L(h.Switch,"defaultColor",w("palette-grey-300")),L(h.Switch,"defaultDisabledColor",w("palette-grey-600")),L(h.Switch,"primaryDisabledColor",Rt(h.primary.main,.55)),L(h.Switch,"secondaryDisabledColor",Rt(h.secondary.main,.55)),L(h.Switch,"errorDisabledColor",Rt(h.error.main,.55)),L(h.Switch,"infoDisabledColor",Rt(h.info.main,.55)),L(h.Switch,"successDisabledColor",Rt(h.success.main,.55)),L(h.Switch,"warningDisabledColor",Rt(h.warning.main,.55)),L(h.TableCell,"border",Rt(fs(h.divider,1),.68)),L(h.Tooltip,"bg",fs(h.grey[700],.92))}dn(h.background,"default"),dn(h.background,"paper"),dn(h.common,"background"),dn(h.common,"onBackground"),dn(h,"divider"),Object.keys(h).forEach(C=>{const b=h[C];C!=="tonalOffset"&&b&&typeof b=="object"&&(b.main&&L(h[C],"mainChannel",fi(pi(b.main))),b.light&&L(h[C],"lightChannel",fi(pi(b.light))),b.dark&&L(h[C],"darkChannel",fi(pi(b.dark))),b.contrastText&&L(h[C],"contrastTextChannel",fi(pi(b.contrastText))),C==="text"&&(dn(h[C],"primary"),dn(h[C],"secondary")),C==="action"&&(b.active&&dn(h[C],"active"),b.selected&&dn(h[C],"selected")))})}),P=t.reduce((S,h)=>we(S,h),P);const k={prefix:s,disableCssColorScheme:i,shouldSkipGeneratingVar:a,getSelector:Bv(P)},{vars:M,generateThemeVars:T,generateStyleSheets:g}=lv(P,k);return P.vars=M,Object.entries(P.colorSchemes[P.defaultColorScheme]).forEach(([S,h])=>{P[S]=h}),P.generateThemeVars=T,P.generateStyleSheets=g,P.generateSpacing=function(){return Ah(d.spacing,ml(this))},P.getColorSchemeSelector=cv(l),P.spacing=P.generateSpacing(),P.shouldSkipGeneratingVar=a,P.unstable_sxConfig={...qi,...d==null?void 0:d.unstable_sxConfig},P.unstable_sx=function(h){return tr({sx:h,theme:this})},P.toRuntimeSource=qh,P}function Lu(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]={...n!==!0&&n,palette:Tl({...n===!0?{}:n.palette,mode:t})})}function Kh(e={},...t){const{palette:n,cssVariables:r=!1,colorSchemes:i=n?void 0:{light:!0},defaultColorScheme:s=n==null?void 0:n.mode,...a}=e,l=s||"light",c=i==null?void 0:i[l],d={...i,...n?{[l]:{...typeof c!="boolean"&&c,palette:n}}:void 0};if(r===!1){if(!("colorSchemes"in e))return Ca(e,...t);let p=n;"palette"in e||d[l]&&(d[l]!==!0?p=d[l].palette:l==="dark"&&(p={mode:"dark"}));const m=Ca({...e,palette:p},...t);return m.defaultColorScheme=l,m.colorSchemes=d,m.palette.mode==="light"&&(m.colorSchemes.light={...d.light!==!0&&d.light,palette:m.palette},Lu(m,"dark",d.dark)),m.palette.mode==="dark"&&(m.colorSchemes.dark={...d.dark!==!0&&d.dark,palette:m.palette},Lu(m,"light",d.light)),m}return!n&&!("light"in d)&&l==="light"&&(d.light=!0),Wv({...a,colorSchemes:d,defaultColorScheme:l,...typeof r!="boolean"&&r},...t)}const wl=Kh();function Il(){const e=mo(wl);return e[eo]||e}function Qh(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const We=e=>Qh(e)&&e!=="classes",K=Dh({themeId:eo,defaultTheme:wl,rootShouldForwardProp:We});function qv(e){return $.jsx(Sy,{...e,defaultTheme:wl,themeId:eo})}function Hv(e){return function(n){return $.jsx(qv,{styles:typeof e=="function"?r=>e({theme:r,...n}):e})}}const Ut=iv;function Ot(e){return rv(e)}function Gv(e){return Pt("MuiSvgIcon",e)}kt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Kv=e=>{const{color:t,fontSize:n,classes:r}=e,i={root:["root",t!=="inherit"&&`color${it(t)}`,`fontSize${it(n)}`]};return Vt(i,Gv,r)},Qv=K("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color!=="inherit"&&t[`color${it(n.color)}`],t[`fontSize${it(n.fontSize)}`]]}})(Ut(({theme:e})=>{var t,n,r,i,s,a,l,c,d,p,m,y,_,I;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:(i=(t=e.transitions)==null?void 0:t.create)==null?void 0:i.call(t,"fill",{duration:(r=(n=(e.vars??e).transitions)==null?void 0:n.duration)==null?void 0:r.shorter}),variants:[{props:E=>!E.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:((a=(s=e.typography)==null?void 0:s.pxToRem)==null?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:((c=(l=e.typography)==null?void 0:l.pxToRem)==null?void 0:c.call(l,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:((p=(d=e.typography)==null?void 0:d.pxToRem)==null?void 0:p.call(d,35))||"2.1875rem"}},...Object.entries((e.vars??e).palette).filter(([,E])=>E&&E.main).map(([E])=>{var R,V;return{props:{color:E},style:{color:(V=(R=(e.vars??e).palette)==null?void 0:R[E])==null?void 0:V.main}}}),{props:{color:"action"},style:{color:(y=(m=(e.vars??e).palette)==null?void 0:m.action)==null?void 0:y.active}},{props:{color:"disabled"},style:{color:(I=(_=(e.vars??e).palette)==null?void 0:_.action)==null?void 0:I.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}})),Aa=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiSvgIcon"}),{children:i,className:s,color:a="inherit",component:l="svg",fontSize:c="medium",htmlColor:d,inheritViewBox:p=!1,titleAccess:m,viewBox:y="0 0 24 24",..._}=r,I=A.isValidElement(i)&&i.type==="svg",E={...r,color:a,component:l,fontSize:c,instanceFontSize:t.fontSize,inheritViewBox:p,viewBox:y,hasSvgAsChild:I},R={};p||(R.viewBox=y);const V=Kv(E);return $.jsxs(Qv,{as:l,className:lt(V.root,s),focusable:"false",color:d,"aria-hidden":m?void 0:!0,role:m?"img":void 0,ref:n,...R,..._,...I&&i.props,ownerState:E,children:[I?i.props.children:i,m?$.jsx("title",{children:m}):null]})});Aa.muiName="SvgIcon";function Xv(e,t){function n(r,i){return $.jsx(Aa,{"data-testid":`${t}Icon`,ref:i,...r,children:e})}return n.muiName=Aa.muiName,A.memo(A.forwardRef(n))}function Yv(e,t){if(!e)return t;if(typeof e=="function"||typeof t=="function")return i=>{const s=typeof t=="function"?t(i):t,a=typeof e=="function"?e({...i,...s}):e,l=lt(i==null?void 0:i.className,s==null?void 0:s.className,a==null?void 0:a.className);return{...s,...a,...!!l&&{className:l},...(s==null?void 0:s.style)&&(a==null?void 0:a.style)&&{style:{...s.style,...a.style}},...(s==null?void 0:s.sx)&&(a==null?void 0:a.sx)&&{sx:[...Array.isArray(s.sx)?s.sx:[s.sx],...Array.isArray(a.sx)?a.sx:[a.sx]]}}};const n=t,r=lt(n==null?void 0:n.className,e==null?void 0:e.className);return{...t,...e,...!!r&&{className:r},...(n==null?void 0:n.style)&&(e==null?void 0:e.style)&&{style:{...n.style,...e.style}},...(n==null?void 0:n.sx)&&(e==null?void 0:e.sx)&&{sx:[...Array.isArray(n.sx)?n.sx:[n.sx],...Array.isArray(e.sx)?e.sx:[e.sx]]}}}function Xh(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xa(e,t){return xa=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},xa(e,t)}function Yh(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,xa(e,t)}var Jh=Tm();const ms=Em(Jh),$u={disabled:!1},Os=fn.createContext(null);var Jv=function(t){return t.scrollTop},mi="unmounted",Gn="exited",Kn="entering",vr="entered",Pa="exiting",on=function(e){Yh(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=i,l=a&&!a.isMounting?r.enter:r.appear,c;return s.appearStatus=null,r.in?l?(c=Gn,s.appearStatus=Kn):c=vr:r.unmountOnExit||r.mountOnEnter?c=mi:c=Gn,s.state={status:c},s.nextCallback=null,s}t.getDerivedStateFromProps=function(i,s){var a=i.in;return a&&s.status===mi?{status:Gn}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==Kn&&a!==vr&&(s=Kn):(a===Kn||a===vr)&&(s=Pa)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,a,l;return s=a=l=i,i!=null&&typeof i!="number"&&(s=i.exit,a=i.enter,l=i.appear!==void 0?i.appear:a),{exit:s,enter:a,appear:l}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===Kn){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:ms.findDOMNode(this);a&&Jv(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gn&&this.setState({status:mi})},n.performEnter=function(i){var s=this,a=this.props.enter,l=this.context?this.context.isMounting:i,c=this.props.nodeRef?[l]:[ms.findDOMNode(this),l],d=c[0],p=c[1],m=this.getTimeouts(),y=l?m.appear:m.enter;if(!i&&!a||$u.disabled){this.safeSetState({status:vr},function(){s.props.onEntered(d)});return}this.props.onEnter(d,p),this.safeSetState({status:Kn},function(){s.props.onEntering(d,p),s.onTransitionEnd(y,function(){s.safeSetState({status:vr},function(){s.props.onEntered(d,p)})})})},n.performExit=function(){var i=this,s=this.props.exit,a=this.getTimeouts(),l=this.props.nodeRef?void 0:ms.findDOMNode(this);if(!s||$u.disabled){this.safeSetState({status:Gn},function(){i.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:Pa},function(){i.props.onExiting(l),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:Gn},function(){i.props.onExited(l)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,a=!0;return this.nextCallback=function(l){a&&(a=!1,s.nextCallback=null,i(l))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var a=this.props.nodeRef?this.props.nodeRef.current:ms.findDOMNode(this),l=i==null&&!this.props.addEndListener;if(!a||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],d=c[0],p=c[1];this.props.addEndListener(d,p)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===mi)return null;var s=this.props,a=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var l=Xh(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return fn.createElement(Os.Provider,{value:null},typeof a=="function"?a(i,l):fn.cloneElement(fn.Children.only(a),l))},t}(fn.Component);on.contextType=Os;on.propTypes={};function yr(){}on.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yr,onEntering:yr,onEntered:yr,onExit:yr,onExiting:yr,onExited:yr};on.UNMOUNTED=mi;on.EXITED=Gn;on.ENTERING=Kn;on.ENTERED=vr;on.EXITING=Pa;function Zv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Sl(e,t){var n=function(s){return t&&A.isValidElement(s)?t(s):s},r=Object.create(null);return e&&A.Children.map(e,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function t_(e,t){e=e||{},t=t||{};function n(p){return p in t?t[p]:e[p]}var r=Object.create(null),i=[];for(var s in e)s in t?i.length&&(r[s]=i,i=[]):i.push(s);var a,l={};for(var c in t){if(r[c])for(a=0;a<r[c].length;a++){var d=r[c][a];l[r[c][a]]=n(d)}l[c]=n(c)}for(a=0;a<i.length;a++)l[i[a]]=n(i[a]);return l}function Xn(e,t,n){return n[t]!=null?n[t]:e.props[t]}function e_(e,t){return Sl(e.children,function(n){return A.cloneElement(n,{onExited:t.bind(null,n),in:!0,appear:Xn(n,"appear",e),enter:Xn(n,"enter",e),exit:Xn(n,"exit",e)})})}function n_(e,t,n){var r=Sl(e.children),i=t_(t,r);return Object.keys(i).forEach(function(s){var a=i[s];if(A.isValidElement(a)){var l=s in t,c=s in r,d=t[s],p=A.isValidElement(d)&&!d.props.in;c&&(!l||p)?i[s]=A.cloneElement(a,{onExited:n.bind(null,a),in:!0,exit:Xn(a,"exit",e),enter:Xn(a,"enter",e)}):!c&&l&&!p?i[s]=A.cloneElement(a,{in:!1}):c&&l&&A.isValidElement(d)&&(i[s]=A.cloneElement(a,{onExited:n.bind(null,a),in:d.props.in,exit:Xn(a,"exit",e),enter:Xn(a,"enter",e)}))}}),i}var r_=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},i_={component:"div",childFactory:function(t){return t}},Cl=function(e){Yh(t,e);function t(r,i){var s;s=e.call(this,r,i)||this;var a=s.handleExited.bind(Zv(s));return s.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},s}var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,s){var a=s.children,l=s.handleExited,c=s.firstRender;return{children:c?e_(i,l):n_(i,a,l),firstRender:!1}},n.handleExited=function(i,s){var a=Sl(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(l){var c=Ds({},l.children);return delete c[i.key],{children:c}}))},n.render=function(){var i=this.props,s=i.component,a=i.childFactory,l=Xh(i,["component","childFactory"]),c=this.state.contextValue,d=r_(this.state.children).map(a);return delete l.appear,delete l.enter,delete l.exit,s===null?fn.createElement(Os.Provider,{value:c},d):fn.createElement(Os.Provider,{value:c},fn.createElement(s,l,d))},t}(fn.Component);Cl.propTypes={};Cl.defaultProps=i_;const Zh=e=>e.scrollTop;function Ls(e,t){const{timeout:n,easing:r,style:i={}}=e;return{duration:i.transitionDuration??(typeof n=="number"?n:n[t.mode]||0),easing:i.transitionTimingFunction??(typeof r=="object"?r[t.mode]:r),delay:i.transitionDelay}}function s_(e){return Pt("MuiPaper",e)}kt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const o_=e=>{const{square:t,elevation:n,variant:r,classes:i}=e,s={root:["root",r,!t&&"rounded",r==="elevation"&&`elevation${n}`]};return Vt(s,s_,i)},a_=K("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,n.variant==="elevation"&&t[`elevation${n.elevation}`]]}})(Ut(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),l_=A.forwardRef(function(t,n){var _;const r=Ot({props:t,name:"MuiPaper"}),i=Il(),{className:s,component:a="div",elevation:l=1,square:c=!1,variant:d="elevation",...p}=r,m={...r,component:a,elevation:l,square:c,variant:d},y=o_(m);return $.jsx(a_,{as:a,ownerState:m,className:lt(y.root,s),ref:n,...p,style:{...d==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[l],...i.vars&&{"--Paper-overlay":(_=i.vars.overlays)==null?void 0:_[l]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Ee("#fff",Ra(l))}, ${Ee("#fff",Ra(l))})`}},...p.style}})});function Re(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a,shouldForwardComponentProp:l=!1,...c}=t,{component:d,slots:p={[e]:void 0},slotProps:m={[e]:void 0},...y}=s,_=p[e]||r,I=zh(m[e],i),{props:{component:E,...R},internalRef:V}=Uh({className:n,...c,externalForwardedProps:e==="root"?y:void 0,externalSlotProps:I}),N=xe(V,I==null?void 0:I.ref,t.ref),x=e==="root"?E||d:E,P=Fh(_,{...e==="root"&&!d&&!p[e]&&a,...e!=="root"&&!p[e]&&a,...R,...x&&!l&&{as:x},...x&&l&&{component:x},ref:N},i);return[_,P]}class $s{constructor(){ai(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new $s}static use(){const t=Oh($s.create).current,[n,r]=A.useState(!1);return t.shouldMount=n,t.setShouldMount=r,A.useEffect(t.mountEffect,[n]),t}mount(){return this.mounted||(this.mounted=u_(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.start(...t)})}stop(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.stop(...t)})}pulsate(...t){this.mount().then(()=>{var n;return(n=this.ref.current)==null?void 0:n.pulsate(...t)})}}function c_(){return $s.use()}function u_(){let e,t;const n=new Promise((r,i)=>{e=r,t=i});return n.resolve=e,n.reject=t,n}function d_(e){const{className:t,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:a,in:l,onExited:c,timeout:d}=e,[p,m]=A.useState(!1),y=lt(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),_={width:a,height:a,top:-(a/2)+s,left:-(a/2)+i},I=lt(n.child,p&&n.childLeaving,r&&n.childPulsate);return!l&&!p&&m(!0),A.useEffect(()=>{if(!l&&c!=null){const E=setTimeout(c,d);return()=>{clearTimeout(E)}}},[c,l,d]),$.jsx("span",{className:y,style:_,children:$.jsx("span",{className:I})})}const Le=kt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ka=550,h_=80,f_=zi`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,p_=zi`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,m_=zi`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,g_=K("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),y_=K(d_,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${Le.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${f_};
    animation-duration: ${ka}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${Le.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${Le.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${Le.childLeaving} {
    opacity: 0;
    animation-name: ${p_};
    animation-duration: ${ka}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${Le.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${m_};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,v_=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:a,...l}=r,[c,d]=A.useState([]),p=A.useRef(0),m=A.useRef(null);A.useEffect(()=>{m.current&&(m.current(),m.current=null)},[c]);const y=A.useRef(!1),_=Lh(),I=A.useRef(null),E=A.useRef(null),R=A.useCallback(P=>{const{pulsate:k,rippleX:M,rippleY:T,rippleSize:g,cb:S}=P;d(h=>[...h,$.jsx(y_,{classes:{ripple:lt(s.ripple,Le.ripple),rippleVisible:lt(s.rippleVisible,Le.rippleVisible),ripplePulsate:lt(s.ripplePulsate,Le.ripplePulsate),child:lt(s.child,Le.child),childLeaving:lt(s.childLeaving,Le.childLeaving),childPulsate:lt(s.childPulsate,Le.childPulsate)},timeout:ka,pulsate:k,rippleX:M,rippleY:T,rippleSize:g},p.current)]),p.current+=1,m.current=S},[s]),V=A.useCallback((P={},k={},M=()=>{})=>{const{pulsate:T=!1,center:g=i||k.pulsate,fakeElement:S=!1}=k;if((P==null?void 0:P.type)==="mousedown"&&y.current){y.current=!1;return}(P==null?void 0:P.type)==="touchstart"&&(y.current=!0);const h=S?null:E.current,w=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,b,q;if(g||P===void 0||P.clientX===0&&P.clientY===0||!P.clientX&&!P.touches)C=Math.round(w.width/2),b=Math.round(w.height/2);else{const{clientX:B,clientY:z}=P.touches&&P.touches.length>0?P.touches[0]:P;C=Math.round(B-w.left),b=Math.round(z-w.top)}if(g)q=Math.sqrt((2*w.width**2+w.height**2)/3),q%2===0&&(q+=1);else{const B=Math.max(Math.abs((h?h.clientWidth:0)-C),C)*2+2,z=Math.max(Math.abs((h?h.clientHeight:0)-b),b)*2+2;q=Math.sqrt(B**2+z**2)}P!=null&&P.touches?I.current===null&&(I.current=()=>{R({pulsate:T,rippleX:C,rippleY:b,rippleSize:q,cb:M})},_.start(h_,()=>{I.current&&(I.current(),I.current=null)})):R({pulsate:T,rippleX:C,rippleY:b,rippleSize:q,cb:M})},[i,R,_]),N=A.useCallback(()=>{V({},{pulsate:!0})},[V]),x=A.useCallback((P,k)=>{if(_.clear(),(P==null?void 0:P.type)==="touchend"&&I.current){I.current(),I.current=null,_.start(0,()=>{x(P,k)});return}I.current=null,d(M=>M.length>0?M.slice(1):M),m.current=k},[_]);return A.useImperativeHandle(n,()=>({pulsate:N,start:V,stop:x}),[N,V,x]),$.jsx(g_,{className:lt(Le.root,s.root,a),ref:E,...l,children:$.jsx(Cl,{component:null,exit:!0,children:c})})});function __(e){return Pt("MuiButtonBase",e)}const b_=kt("MuiButtonBase",["root","disabled","focusVisible"]),E_=e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,a=Vt({root:["root",t&&"disabled",n&&"focusVisible"]},__,i);return n&&r&&(a.root+=` ${r}`),a},T_=K("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${b_.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),tf=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:a,className:l,component:c="button",disabled:d=!1,disableRipple:p=!1,disableTouchRipple:m=!1,focusRipple:y=!1,focusVisibleClassName:_,LinkComponent:I="a",onBlur:E,onClick:R,onContextMenu:V,onDragLeave:N,onFocus:x,onFocusVisible:P,onKeyDown:k,onKeyUp:M,onMouseDown:T,onMouseLeave:g,onMouseUp:S,onTouchEnd:h,onTouchMove:w,onTouchStart:C,tabIndex:b=0,TouchRippleProps:q,touchRippleRef:B,type:z,...G}=r,st=A.useRef(null),j=c_(),ht=xe(j.ref,B),[Et,Dt]=A.useState(!1);d&&Et&&Dt(!1),A.useImperativeHandle(i,()=>({focusVisible:()=>{Dt(!0),st.current.focus()}}),[]);const rt=j.shouldMount&&!p&&!d;A.useEffect(()=>{Et&&y&&!p&&j.pulsate()},[p,y,Et,j]);const Tt=hn(j,"start",T,m),mt=hn(j,"stop",V,m),pe=hn(j,"stop",N,m),zt=hn(j,"stop",S,m),Ie=hn(j,"stop",Q=>{Et&&Q.preventDefault(),g&&g(Q)},m),Lt=hn(j,"start",C,m),tt=hn(j,"stop",h,m),ot=hn(j,"stop",w,m),at=hn(j,"stop",Q=>{Au(Q.target)||Dt(!1),E&&E(Q)},!1),jt=Zn(Q=>{st.current||(st.current=Q.currentTarget),Au(Q.target)&&(Dt(!0),P&&P(Q)),x&&x(Q)}),ut=()=>{const Q=st.current;return c&&c!=="button"&&!(Q.tagName==="A"&&Q.href)},wt=Zn(Q=>{y&&!Q.repeat&&Et&&Q.key===" "&&j.stop(Q,()=>{j.start(Q)}),Q.target===Q.currentTarget&&ut()&&Q.key===" "&&Q.preventDefault(),k&&k(Q),Q.target===Q.currentTarget&&ut()&&Q.key==="Enter"&&!d&&(Q.preventDefault(),R&&R(Q))}),me=Zn(Q=>{y&&Q.key===" "&&Et&&!Q.defaultPrevented&&j.stop(Q,()=>{j.pulsate(Q)}),M&&M(Q),R&&Q.target===Q.currentTarget&&ut()&&Q.key===" "&&!Q.defaultPrevented&&R(Q)});let le=c;le==="button"&&(G.href||G.to)&&(le=I);const Jt={};le==="button"?(Jt.type=z===void 0?"button":z,Jt.disabled=d):(!G.href&&!G.to&&(Jt.role="button"),d&&(Jt["aria-disabled"]=d));const Pe=xe(n,st),ee={...r,centerRipple:s,component:c,disabled:d,disableRipple:p,disableTouchRipple:m,focusRipple:y,tabIndex:b,focusVisible:Et},Wt=E_(ee);return $.jsxs(T_,{as:le,className:lt(Wt.root,l),ownerState:ee,onBlur:at,onClick:R,onContextMenu:mt,onFocus:jt,onKeyDown:wt,onKeyUp:me,onMouseDown:Tt,onMouseLeave:Ie,onMouseUp:zt,onDragLeave:pe,onTouchEnd:tt,onTouchMove:ot,onTouchStart:Lt,ref:Pe,tabIndex:d?-1:b,type:z,...Jt,...G,children:[a,rt?$.jsx(v_,{ref:ht,center:s,...q}):null]})});function hn(e,t,n,r=!1){return Zn(i=>(n&&n(i),r||e[t](i),!0))}function w_(e){return typeof e.main=="string"}function I_(e,t=[]){if(!w_(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||typeof e[n]!="string")return!1;return!0}function ir(e=[]){return([,t])=>t&&I_(t,e)}function S_(e){return Pt("MuiCircularProgress",e)}kt("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const Sn=44,Va=zi`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`,Da=zi`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: -126px;
  }
`,C_=typeof Va!="string"?hl`
        animation: ${Va} 1.4s linear infinite;
      `:null,R_=typeof Da!="string"?hl`
        animation: ${Da} 1.4s ease-in-out infinite;
      `:null,A_=e=>{const{classes:t,variant:n,color:r,disableShrink:i}=e,s={root:["root",n,`color${it(r)}`],svg:["svg"],circle:["circle",`circle${it(n)}`,i&&"circleDisableShrink"]};return Vt(s,S_,t)},x_=K("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`color${it(n.color)}`]]}})(Ut(({theme:e})=>({display:"inline-block",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("transform")}},{props:{variant:"indeterminate"},style:C_||{animation:`${Va} 1.4s linear infinite`}},...Object.entries(e.palette).filter(ir()).map(([t])=>({props:{color:t},style:{color:(e.vars||e).palette[t].main}}))]}))),P_=K("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(e,t)=>t.svg})({display:"block"}),k_=K("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.circle,t[`circle${it(n.variant)}`],n.disableShrink&&t.circleDisableShrink]}})(Ut(({theme:e})=>({stroke:"currentColor",variants:[{props:{variant:"determinate"},style:{transition:e.transitions.create("stroke-dashoffset")}},{props:{variant:"indeterminate"},style:{strokeDasharray:"80px, 200px",strokeDashoffset:0}},{props:({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink,style:R_||{animation:`${Da} 1.4s ease-in-out infinite`}}]}))),V_=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:a=!1,size:l=40,style:c,thickness:d=3.6,value:p=0,variant:m="indeterminate",...y}=r,_={...r,color:s,disableShrink:a,size:l,thickness:d,value:p,variant:m},I=A_(_),E={},R={},V={};if(m==="determinate"){const N=2*Math.PI*((Sn-d)/2);E.strokeDasharray=N.toFixed(3),V["aria-valuenow"]=Math.round(p),E.strokeDashoffset=`${((100-p)/100*N).toFixed(3)}px`,R.transform="rotate(-90deg)"}return $.jsx(x_,{className:lt(I.root,i),style:{width:l,height:l,...R,...c},ownerState:_,ref:n,role:"progressbar",...V,...y,children:$.jsx(P_,{className:I.svg,ownerState:_,viewBox:`${Sn/2} ${Sn/2} ${Sn} ${Sn}`,children:$.jsx(k_,{className:I.circle,style:E,ownerState:_,cx:Sn,cy:Sn,r:(Sn-d)/2,fill:"none",strokeWidth:d})})})});function D_(e){return typeof e=="function"?e():e}const N_=A.forwardRef(function(t,n){const{children:r,container:i,disablePortal:s=!1}=t,[a,l]=A.useState(null),c=xe(A.isValidElement(r)?Hi(r):null,n);if(er(()=>{s||l(D_(i)||document.body)},[i,s]),er(()=>{if(a&&!s)return Sa(n,a),()=>{Sa(n,null)}},[n,a,s]),s){if(A.isValidElement(r)){const d={ref:c};return A.cloneElement(r,d)}return r}return a&&Jh.createPortal(r,a)});function gs(e){return parseInt(e,10)||0}const M_={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function O_(e){for(const t in e)return!1;return!0}function Fu(e){return O_(e)||e.outerHeightStyle===0&&!e.overflowing}const L_=A.forwardRef(function(t,n){const{onChange:r,maxRows:i,minRows:s=1,style:a,value:l,...c}=t,{current:d}=A.useRef(l!=null),p=A.useRef(null),m=xe(n,p),y=A.useRef(null),_=A.useRef(null),I=A.useCallback(()=>{const x=p.current,P=_.current;if(!x||!P)return;const M=yn(x).getComputedStyle(x);if(M.width==="0px")return{outerHeightStyle:0,overflowing:!1};P.style.width=M.width,P.value=x.value||t.placeholder||"x",P.value.slice(-1)===`
`&&(P.value+=" ");const T=M.boxSizing,g=gs(M.paddingBottom)+gs(M.paddingTop),S=gs(M.borderBottomWidth)+gs(M.borderTopWidth),h=P.scrollHeight;P.value="x";const w=P.scrollHeight;let C=h;s&&(C=Math.max(Number(s)*w,C)),i&&(C=Math.min(Number(i)*w,C)),C=Math.max(C,w);const b=C+(T==="border-box"?g+S:0),q=Math.abs(C-h)<=1;return{outerHeightStyle:b,overflowing:q}},[i,s,t.placeholder]),E=Zn(()=>{const x=p.current,P=I();if(!x||!P||Fu(P))return!1;const k=P.outerHeightStyle;return y.current!=null&&y.current!==k}),R=A.useCallback(()=>{const x=p.current,P=I();if(!x||!P||Fu(P))return;const k=P.outerHeightStyle;y.current!==k&&(y.current=k,x.style.height=`${k}px`),x.style.overflow=P.overflowing?"hidden":""},[I]),V=A.useRef(-1);er(()=>{const x=Mh(R),P=p==null?void 0:p.current;if(!P)return;const k=yn(P);k.addEventListener("resize",x);let M;return typeof ResizeObserver<"u"&&(M=new ResizeObserver(()=>{E()&&(M.unobserve(P),cancelAnimationFrame(V.current),R(),V.current=requestAnimationFrame(()=>{M.observe(P)}))}),M.observe(P)),()=>{x.clear(),cancelAnimationFrame(V.current),k.removeEventListener("resize",x),M&&M.disconnect()}},[I,R,E]),er(()=>{R()});const N=x=>{d||R(),r&&r(x)};return $.jsxs(A.Fragment,{children:[$.jsx("textarea",{value:l,onChange:N,ref:m,rows:s,style:a,...c}),$.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:_,tabIndex:-1,style:{...M_.shadow,...a,paddingTop:0,paddingBottom:0}})]})});function Na(e){return typeof e=="string"}function Br({props:e,states:t,muiFormControl:n}){return t.reduce((r,i)=>(r[i]=e[i],n&&typeof e[i]>"u"&&(r[i]=n[i]),r),{})}const Rl=A.createContext(void 0);function Ur(){return A.useContext(Rl)}function Bu(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function Fs(e,t=!1){return e&&(Bu(e.value)&&e.value!==""||t&&Bu(e.defaultValue)&&e.defaultValue!=="")}function $_(e){return e.startAdornment}function F_(e){return Pt("MuiInputBase",e)}const xr=kt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var Uu;const yo=(e,t)=>{const{ownerState:n}=e;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,n.size==="small"&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t[`color${it(n.color)}`],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},vo=(e,t)=>{const{ownerState:n}=e;return[t.input,n.size==="small"&&t.inputSizeSmall,n.multiline&&t.inputMultiline,n.type==="search"&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},B_=e=>{const{classes:t,color:n,disabled:r,error:i,endAdornment:s,focused:a,formControl:l,fullWidth:c,hiddenLabel:d,multiline:p,readOnly:m,size:y,startAdornment:_,type:I}=e,E={root:["root",`color${it(n)}`,r&&"disabled",i&&"error",c&&"fullWidth",a&&"focused",l&&"formControl",y&&y!=="medium"&&`size${it(y)}`,p&&"multiline",_&&"adornedStart",s&&"adornedEnd",d&&"hiddenLabel",m&&"readOnly"],input:["input",r&&"disabled",I==="search"&&"inputTypeSearch",p&&"inputMultiline",y==="small"&&"inputSizeSmall",d&&"inputHiddenLabel",_&&"inputAdornedStart",s&&"inputAdornedEnd",m&&"readOnly"]};return Vt(E,F_,t)},_o=K("div",{name:"MuiInputBase",slot:"Root",overridesResolver:yo})(Ut(({theme:e})=>({...e.typography.body1,color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${xr.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:t})=>t.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:t,size:n})=>t.multiline&&n==="small",style:{paddingTop:1}},{props:({ownerState:t})=>t.fullWidth,style:{width:"100%"}}]}))),bo=K("input",{name:"MuiInputBase",slot:"Input",overridesResolver:vo})(Ut(({theme:e})=>{const t=e.palette.mode==="light",n={color:"currentColor",...e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5},transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})},r={opacity:"0 !important"},i=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:t?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${xr.formControl} &`]:{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":i,"&:focus::-moz-placeholder":i,"&:focus::-ms-input-placeholder":i},[`&.${xr.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},variants:[{props:({ownerState:s})=>!s.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:s})=>s.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),zu=Hv({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),Al=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiInputBase"}),{"aria-describedby":i,autoComplete:s,autoFocus:a,className:l,color:c,components:d={},componentsProps:p={},defaultValue:m,disabled:y,disableInjectingGlobalStyles:_,endAdornment:I,error:E,fullWidth:R=!1,id:V,inputComponent:N="input",inputProps:x={},inputRef:P,margin:k,maxRows:M,minRows:T,multiline:g=!1,name:S,onBlur:h,onChange:w,onClick:C,onFocus:b,onKeyDown:q,onKeyUp:B,placeholder:z,readOnly:G,renderSuffix:st,rows:j,size:ht,slotProps:Et={},slots:Dt={},startAdornment:rt,type:Tt="text",value:mt,...pe}=r,zt=x.value!=null?x.value:mt,{current:Ie}=A.useRef(zt!=null),Lt=A.useRef(),tt=A.useCallback(xt=>{},[]),ot=xe(Lt,P,x.ref,tt),[at,jt]=A.useState(!1),ut=Ur(),wt=Br({props:r,muiFormControl:ut,states:["color","disabled","error","hiddenLabel","size","required","filled"]});wt.focused=ut?ut.focused:at,A.useEffect(()=>{!ut&&y&&at&&(jt(!1),h&&h())},[ut,y,at,h]);const me=ut&&ut.onFilled,le=ut&&ut.onEmpty,Jt=A.useCallback(xt=>{Fs(xt)?me&&me():le&&le()},[me,le]);er(()=>{Ie&&Jt({value:zt})},[zt,Jt,Ie]);const Pe=xt=>{b&&b(xt),x.onFocus&&x.onFocus(xt),ut&&ut.onFocus?ut.onFocus(xt):jt(!0)},ee=xt=>{h&&h(xt),x.onBlur&&x.onBlur(xt),ut&&ut.onBlur?ut.onBlur(xt):jt(!1)},Wt=(xt,...Oe)=>{if(!Ie){const En=xt.target||Lt.current;if(En==null)throw new Error(mn(1));Jt({value:En.value})}x.onChange&&x.onChange(xt,...Oe),w&&w(xt,...Oe)};A.useEffect(()=>{Jt(Lt.current)},[]);const Q=xt=>{Lt.current&&xt.currentTarget===xt.target&&Lt.current.focus(),C&&C(xt)};let qe=N,oe=x;g&&qe==="input"&&(j?oe={type:void 0,minRows:j,maxRows:j,...oe}:oe={type:void 0,maxRows:M,minRows:T,...oe},qe=L_);const an=xt=>{Jt(xt.animationName==="mui-auto-fill-cancel"?Lt.current:{value:"x"})};A.useEffect(()=>{ut&&ut.setAdornedStart(!!rt)},[ut,rt]);const qt={...r,color:wt.color||"primary",disabled:wt.disabled,endAdornment:I,error:wt.error,focused:wt.focused,formControl:ut,fullWidth:R,hiddenLabel:wt.hiddenLabel,multiline:g,size:wt.size,startAdornment:rt,type:Tt},Qt=B_(qt),Be=Dt.root||d.Root||_o,ln=Et.root||p.root||{},He=Dt.input||d.Input||bo;return oe={...oe,...Et.input??p.input},$.jsxs(A.Fragment,{children:[!_&&typeof zu=="function"&&(Uu||(Uu=$.jsx(zu,{}))),$.jsxs(Be,{...ln,ref:n,onClick:Q,...pe,...!Na(Be)&&{ownerState:{...qt,...ln.ownerState}},className:lt(Qt.root,ln.className,l,G&&"MuiInputBase-readOnly"),children:[rt,$.jsx(Rl.Provider,{value:null,children:$.jsx(He,{"aria-invalid":wt.error,"aria-describedby":i,autoComplete:s,autoFocus:a,defaultValue:m,disabled:wt.disabled,id:V,onAnimationStart:an,name:S,placeholder:z,readOnly:G,required:wt.required,rows:j,value:zt,onKeyDown:q,onKeyUp:B,type:Tt,...oe,...!Na(He)&&{as:qe,ownerState:{...qt,...oe.ownerState}},ref:ot,className:lt(Qt.input,oe.className,G&&"MuiInputBase-readOnly"),onBlur:ee,onChange:Wt,onFocus:Pe})}),I,st?st({...wt,startAdornment:rt}):null]})]})});function U_(e){return Pt("MuiInput",e)}const ui={...xr,...kt("MuiInput",["root","underline","input"])};function z_(e){return Pt("MuiOutlinedInput",e)}const Qe={...xr,...kt("MuiOutlinedInput",["root","notchedOutline","input"])};function j_(e){return Pt("MuiFilledInput",e)}const qn={...xr,...kt("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},W_=Xv($.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),q_={entering:{opacity:1},entered:{opacity:1}},H_=A.forwardRef(function(t,n){const r=Il(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:l,easing:c,in:d,onEnter:p,onEntered:m,onEntering:y,onExit:_,onExited:I,onExiting:E,style:R,timeout:V=i,TransitionComponent:N=on,...x}=t,P=A.useRef(null),k=xe(P,Hi(l),n),M=q=>B=>{if(q){const z=P.current;B===void 0?q(z):q(z,B)}},T=M(y),g=M((q,B)=>{Zh(q);const z=Ls({style:R,timeout:V,easing:c},{mode:"enter"});q.style.webkitTransition=r.transitions.create("opacity",z),q.style.transition=r.transitions.create("opacity",z),p&&p(q,B)}),S=M(m),h=M(E),w=M(q=>{const B=Ls({style:R,timeout:V,easing:c},{mode:"exit"});q.style.webkitTransition=r.transitions.create("opacity",B),q.style.transition=r.transitions.create("opacity",B),_&&_(q)}),C=M(I),b=q=>{s&&s(P.current,q)};return $.jsx(N,{appear:a,in:d,nodeRef:P,onEnter:g,onEntered:S,onEntering:T,onExit:w,onExited:C,onExiting:h,addEndListener:b,timeout:V,...x,children:(q,{ownerState:B,...z})=>A.cloneElement(l,{style:{opacity:0,visibility:q==="exited"&&!d?"hidden":void 0,...q_[q],...R,...l.props.style},ref:k,...z})})});function G_(e){return Pt("MuiBackdrop",e)}kt("MuiBackdrop",["root","invisible"]);const K_=e=>{const{classes:t,invisible:n}=e;return Vt({root:["root",n&&"invisible"]},G_,t)},Q_=K("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),X_=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiBackdrop"}),{children:i,className:s,component:a="div",invisible:l=!1,open:c,components:d={},componentsProps:p={},slotProps:m={},slots:y={},TransitionComponent:_,transitionDuration:I,...E}=r,R={...r,component:a,invisible:l},V=K_(R),N={transition:_,root:d.Root,...y},x={...p,...m},P={slots:N,slotProps:x},[k,M]=Re("root",{elementType:Q_,externalForwardedProps:P,className:lt(V.root,s),ownerState:R}),[T,g]=Re("transition",{elementType:H_,externalForwardedProps:P,ownerState:R});return $.jsx(T,{in:c,timeout:I,...E,...g,children:$.jsx(k,{"aria-hidden":!0,...M,classes:V,ref:n,children:i})})}),Y_=kt("MuiBox",["root"]),J_=Kh(),Pr=xy({themeId:eo,defaultTheme:J_,defaultClassName:Y_.root,generateClassName:xh.generate});function Z_(e){return Pt("MuiButton",e)}const Hn=kt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),t0=A.createContext({}),e0=A.createContext(void 0),n0=e=>{const{color:t,disableElevation:n,fullWidth:r,size:i,variant:s,loading:a,loadingPosition:l,classes:c}=e,d={root:["root",a&&"loading",s,`${s}${it(t)}`,`size${it(i)}`,`${s}Size${it(i)}`,`color${it(t)}`,n&&"disableElevation",r&&"fullWidth",a&&`loadingPosition${it(l)}`],startIcon:["icon","startIcon",`iconSize${it(i)}`],endIcon:["icon","endIcon",`iconSize${it(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},p=Vt(d,Z_,c);return{...c,...p}},ef=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],r0=K(tf,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],t[`${n.variant}${it(n.color)}`],t[`size${it(n.size)}`],t[`${n.variant}Size${it(n.size)}`],n.color==="inherit"&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth,n.loading&&t.loading]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],n=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${Hn.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${Hn.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${Hn.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${Hn.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(ir()).map(([r])=>({props:{color:r},style:{"--variant-textColor":(e.vars||e).palette[r].main,"--variant-outlinedColor":(e.vars||e).palette[r].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[r].mainChannel} / 0.5)`:Ee(e.palette[r].main,.5),"--variant-containedColor":(e.vars||e).palette[r].contrastText,"--variant-containedBg":(e.vars||e).palette[r].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[r].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette[r].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[r].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[r].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette[r].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:n,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Hn.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Hn.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${Hn.loading}`]:{color:"transparent"}}}]}})),i0=K("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.startIcon,n.loading&&t.startIconLoadingStart,t[`iconSize${it(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...ef]})),s0=K("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.endIcon,n.loading&&t.endIconLoadingEnd,t[`iconSize${it(n.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...ef]})),o0=K("span",{name:"MuiButton",slot:"LoadingIndicator",overridesResolver:(e,t)=>t.loadingIndicator})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),ju=K("span",{name:"MuiButton",slot:"LoadingIconPlaceholder",overridesResolver:(e,t)=>t.loadingIconPlaceholder})({display:"inline-block",width:"1em",height:"1em"}),nf=A.forwardRef(function(t,n){const r=A.useContext(t0),i=A.useContext(e0),s=Ar(r,t),a=Ot({props:s,name:"MuiButton"}),{children:l,color:c="primary",component:d="button",className:p,disabled:m=!1,disableElevation:y=!1,disableFocusRipple:_=!1,endIcon:I,focusVisibleClassName:E,fullWidth:R=!1,id:V,loading:N=null,loadingIndicator:x,loadingPosition:P="center",size:k="medium",startIcon:M,type:T,variant:g="text",...S}=a,h=bl(V),w=x??$.jsx(V_,{"aria-labelledby":h,color:"inherit",size:16}),C={...a,color:c,component:d,disabled:m,disableElevation:y,disableFocusRipple:_,fullWidth:R,loading:N,loadingIndicator:w,loadingPosition:P,size:k,type:T,variant:g},b=n0(C),q=(M||N&&P==="start")&&$.jsx(i0,{className:b.startIcon,ownerState:C,children:M||$.jsx(ju,{className:b.loadingIconPlaceholder,ownerState:C})}),B=(I||N&&P==="end")&&$.jsx(s0,{className:b.endIcon,ownerState:C,children:I||$.jsx(ju,{className:b.loadingIconPlaceholder,ownerState:C})}),z=i||"",G=typeof N=="boolean"?$.jsx("span",{className:b.loadingWrapper,style:{display:"contents"},children:N&&$.jsx(o0,{className:b.loadingIndicator,ownerState:C,children:w})}):null;return $.jsxs(r0,{ownerState:C,className:lt(r.className,b.root,p,z),component:d,disabled:m||N,focusRipple:!_,focusVisibleClassName:lt(b.focusVisible,E),ref:n,type:T,id:N?h:V,...S,classes:b,children:[q,P!=="end"&&G,l,P==="end"&&G,B]})}),a0=pv({createStyledComponent:K("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`maxWidth${it(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>Ot({props:e,name:"MuiContainer"})});function l0(e){const t=je(e);return t.body===e?yn(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function Ei(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Wu(e){return parseInt(yn(e).getComputedStyle(e).paddingRight,10)||0}function c0(e){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),r=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return n||r}function qu(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,a=>{const l=!s.includes(a),c=!c0(a);l&&c&&Ei(a,i)})}function aa(e,t){let n=-1;return e.some((r,i)=>t(r)?(n=i,!0):!1),n}function u0(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(l0(r)){const a=$h(yn(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${Wu(r)+a}px`;const l=je(r).querySelectorAll(".mui-fixed");[].forEach.call(l,c=>{n.push({value:c.style.paddingRight,property:"padding-right",el:c}),c.style.paddingRight=`${Wu(c)+a}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=je(r).body;else{const a=r.parentElement,l=yn(r);s=(a==null?void 0:a.nodeName)==="HTML"&&l.getComputedStyle(a).overflowY==="scroll"?a:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:a,property:l})=>{s?a.style.setProperty(l,s):a.style.removeProperty(l)})}}function d0(e){const t=[];return[].forEach.call(e.children,n=>{n.getAttribute("aria-hidden")==="true"&&t.push(n)}),t}class h0{constructor(){this.modals=[],this.containers=[]}add(t,n){let r=this.modals.indexOf(t);if(r!==-1)return r;r=this.modals.length,this.modals.push(t),t.modalRef&&Ei(t.modalRef,!1);const i=d0(n);qu(n,t.mount,t.modalRef,i,!0);const s=aa(this.containers,a=>a.container===n);return s!==-1?(this.containers[s].modals.push(t),r):(this.containers.push({modals:[t],container:n,restore:null,hiddenSiblings:i}),r)}mount(t,n){const r=aa(this.containers,s=>s.modals.includes(t)),i=this.containers[r];i.restore||(i.restore=u0(i,n))}remove(t,n=!0){const r=this.modals.indexOf(t);if(r===-1)return r;const i=aa(this.containers,a=>a.modals.includes(t)),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(t),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),t.modalRef&&Ei(t.modalRef,n),qu(s.container,t.mount,t.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const a=s.modals[s.modals.length-1];a.modalRef&&Ei(a.modalRef,!1)}return r}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}const f0=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function p0(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function m0(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=r=>e.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=t(`[name="${e.name}"]:checked`);return n||(n=t(`[name="${e.name}"]`)),n!==e}function g0(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||m0(e))}function y0(e){const t=[],n=[];return Array.from(e.querySelectorAll(f0)).forEach((r,i)=>{const s=p0(r);s===-1||!g0(r)||(s===0?t.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(t)}function v0(){return!0}function _0(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=y0,isEnabled:a=v0,open:l}=e,c=A.useRef(!1),d=A.useRef(null),p=A.useRef(null),m=A.useRef(null),y=A.useRef(null),_=A.useRef(!1),I=A.useRef(null),E=xe(Hi(t),I),R=A.useRef(null);A.useEffect(()=>{!l||!I.current||(_.current=!n)},[n,l]),A.useEffect(()=>{if(!l||!I.current)return;const x=je(I.current);return I.current.contains(x.activeElement)||(I.current.hasAttribute("tabIndex")||I.current.setAttribute("tabIndex","-1"),_.current&&I.current.focus()),()=>{i||(m.current&&m.current.focus&&(c.current=!0,m.current.focus()),m.current=null)}},[l]),A.useEffect(()=>{if(!l||!I.current)return;const x=je(I.current),P=T=>{R.current=T,!(r||!a()||T.key!=="Tab")&&x.activeElement===I.current&&T.shiftKey&&(c.current=!0,p.current&&p.current.focus())},k=()=>{var S,h;const T=I.current;if(T===null)return;if(!x.hasFocus()||!a()||c.current){c.current=!1;return}if(T.contains(x.activeElement)||r&&x.activeElement!==d.current&&x.activeElement!==p.current)return;if(x.activeElement!==y.current)y.current=null;else if(y.current!==null)return;if(!_.current)return;let g=[];if((x.activeElement===d.current||x.activeElement===p.current)&&(g=s(I.current)),g.length>0){const w=!!((S=R.current)!=null&&S.shiftKey&&((h=R.current)==null?void 0:h.key)==="Tab"),C=g[0],b=g[g.length-1];typeof C!="string"&&typeof b!="string"&&(w?b.focus():C.focus())}else T.focus()};x.addEventListener("focusin",k),x.addEventListener("keydown",P,!0);const M=setInterval(()=>{x.activeElement&&x.activeElement.tagName==="BODY"&&k()},50);return()=>{clearInterval(M),x.removeEventListener("focusin",k),x.removeEventListener("keydown",P,!0)}},[n,r,i,a,l,s]);const V=x=>{m.current===null&&(m.current=x.relatedTarget),_.current=!0,y.current=x.target;const P=t.props.onFocus;P&&P(x)},N=x=>{m.current===null&&(m.current=x.relatedTarget),_.current=!0};return $.jsxs(A.Fragment,{children:[$.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:d,"data-testid":"sentinelStart"}),A.cloneElement(t,{ref:E,onFocus:V}),$.jsx("div",{tabIndex:l?0:-1,onFocus:N,ref:p,"data-testid":"sentinelEnd"})]})}function b0(e){return typeof e=="function"?e():e}function E0(e){return e?e.props.hasOwnProperty("in"):!1}const Hu=()=>{},ys=new h0;function T0(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:i=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:p}=e,m=A.useRef({}),y=A.useRef(null),_=A.useRef(null),I=xe(_,p),[E,R]=A.useState(!d),V=E0(l);let N=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(N=!1);const x=()=>je(y.current),P=()=>(m.current.modalRef=_.current,m.current.mount=y.current,m.current),k=()=>{ys.mount(P(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},M=Zn(()=>{const B=b0(t)||x().body;ys.add(P(),B),_.current&&k()}),T=()=>ys.isTopModal(P()),g=Zn(B=>{y.current=B,B&&(d&&T()?k():_.current&&Ei(_.current,N))}),S=A.useCallback(()=>{ys.remove(P(),N)},[N]);A.useEffect(()=>()=>{S()},[S]),A.useEffect(()=>{d?M():(!V||!i)&&S()},[d,S,V,i,M]);const h=B=>z=>{var G;(G=B.onKeyDown)==null||G.call(B,z),!(z.key!=="Escape"||z.which===229||!T())&&(n||(z.stopPropagation(),c&&c(z,"escapeKeyDown")))},w=B=>z=>{var G;(G=B.onClick)==null||G.call(B,z),z.target===z.currentTarget&&c&&c(z,"backdropClick")};return{getRootProps:(B={})=>{const z=Bh(e);delete z.onTransitionEnter,delete z.onTransitionExited;const G={...z,...B};return{role:"presentation",...G,onKeyDown:h(G),ref:I}},getBackdropProps:(B={})=>{const z=B;return{"aria-hidden":!0,...z,onClick:w(z),open:d}},getTransitionProps:()=>{const B=()=>{R(!1),s&&s()},z=()=>{R(!0),a&&a(),i&&S()};return{onEnter:wu(B,(l==null?void 0:l.props.onEnter)??Hu),onExited:wu(z,(l==null?void 0:l.props.onExited)??Hu)}},rootRef:I,portalRef:g,isTopModal:T,exited:E,hasTransition:V}}function w0(e){return Pt("MuiModal",e)}kt("MuiModal",["root","hidden","backdrop"]);const I0=e=>{const{open:t,exited:n,classes:r}=e;return Vt({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},w0,r)},S0=K("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Ut(({theme:e})=>({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:t})=>!t.open&&t.exited,style:{visibility:"hidden"}}]}))),C0=K(X_,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),R0=A.forwardRef(function(t,n){const r=Ot({name:"MuiModal",props:t}),{BackdropComponent:i=C0,BackdropProps:s,classes:a,className:l,closeAfterTransition:c=!1,children:d,container:p,component:m,components:y={},componentsProps:_={},disableAutoFocus:I=!1,disableEnforceFocus:E=!1,disableEscapeKeyDown:R=!1,disablePortal:V=!1,disableRestoreFocus:N=!1,disableScrollLock:x=!1,hideBackdrop:P=!1,keepMounted:k=!1,onBackdropClick:M,onClose:T,onTransitionEnter:g,onTransitionExited:S,open:h,slotProps:w={},slots:C={},theme:b,...q}=r,B={...r,closeAfterTransition:c,disableAutoFocus:I,disableEnforceFocus:E,disableEscapeKeyDown:R,disablePortal:V,disableRestoreFocus:N,disableScrollLock:x,hideBackdrop:P,keepMounted:k},{getRootProps:z,getBackdropProps:G,getTransitionProps:st,portalRef:j,isTopModal:ht,exited:Et,hasTransition:Dt}=T0({...B,rootRef:n}),rt={...B,exited:Et},Tt=I0(rt),mt={};if(d.props.tabIndex===void 0&&(mt.tabIndex="-1"),Dt){const{onEnter:ot,onExited:at}=st();mt.onEnter=ot,mt.onExited=at}const pe={slots:{root:y.Root,backdrop:y.Backdrop,...C},slotProps:{..._,...w}},[zt,Ie]=Re("root",{ref:n,elementType:S0,externalForwardedProps:{...pe,...q,component:m},getSlotProps:z,ownerState:rt,className:lt(l,Tt==null?void 0:Tt.root,!rt.open&&rt.exited&&(Tt==null?void 0:Tt.hidden))}),[Lt,tt]=Re("backdrop",{ref:s==null?void 0:s.ref,elementType:i,externalForwardedProps:pe,shouldForwardComponentProp:!0,additionalProps:s,getSlotProps:ot=>G({...ot,onClick:at=>{M&&M(at),ot!=null&&ot.onClick&&ot.onClick(at)}}),className:lt(s==null?void 0:s.className,Tt==null?void 0:Tt.backdrop),ownerState:rt});return!k&&!h&&(!Dt||Et)?null:$.jsx(N_,{ref:j,container:p,disablePortal:V,children:$.jsxs(zt,{...Ie,children:[!P&&i?$.jsx(Lt,{...tt}):null,$.jsx(_0,{disableEnforceFocus:E,disableAutoFocus:I,disableRestoreFocus:N,isEnabled:ht,open:h,children:A.cloneElement(d,mt)})]})})});function A0(e){return Pt("MuiDivider",e)}kt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const x0=e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:s,orientation:a,textAlign:l,variant:c}=e;return Vt({root:["root",t&&"absolute",c,s&&"light",a==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&a==="vertical"&&"withChildrenVertical",l==="right"&&a!=="vertical"&&"textAlignRight",l==="left"&&a!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",a==="vertical"&&"wrapperVertical"]},A0,r)},P0=K("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,n.orientation==="vertical"&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&n.orientation==="vertical"&&t.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&t.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&t.textAlignLeft]}})(Ut(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ee(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),k0=K("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,n.orientation==="vertical"&&t.wrapperVertical]}})(Ut(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Ma=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiDivider"}),{absolute:i=!1,children:s,className:a,orientation:l="horizontal",component:c=s||l==="vertical"?"div":"hr",flexItem:d=!1,light:p=!1,role:m=c!=="hr"?"separator":void 0,textAlign:y="center",variant:_="fullWidth",...I}=r,E={...r,absolute:i,component:c,flexItem:d,light:p,orientation:l,role:m,textAlign:y,variant:_},R=x0(E);return $.jsx(P0,{as:c,className:lt(R.root,a),role:m,ref:n,ownerState:E,"aria-orientation":m==="separator"&&(c!=="hr"||l==="vertical")?l:void 0,...I,children:s?$.jsx(k0,{className:R.wrapper,ownerState:E,children:s}):null})});Ma&&(Ma.muiSkipListHighlight=!0);const V0=e=>{const{classes:t,disableUnderline:n,startAdornment:r,endAdornment:i,size:s,hiddenLabel:a,multiline:l}=e,c={root:["root",!n&&"underline",r&&"adornedStart",i&&"adornedEnd",s==="small"&&`size${it(s)}`,a&&"hiddenLabel",l&&"multiline"],input:["input"]},d=Vt(c,j_,t);return{...t,...d}},D0=K(_o,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yo(e,t),!n.disableUnderline&&t.underline]}})(Ut(({theme:e})=>{const t=e.palette.mode==="light",n=t?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=t?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",i=t?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",s=t?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:i,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r}},[`&.${qn.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:r},[`&.${qn.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:s},variants:[{props:({ownerState:a})=>!a.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${qn.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${qn.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${qn.disabled}, .${qn.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${qn.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ir()).map(([a])=>{var l;return{props:{disableUnderline:!1,color:a},style:{"&::after":{borderBottom:`2px solid ${(l=(e.vars||e).palette[a])==null?void 0:l.main}`}}}}),{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:12}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:12}},{props:({ownerState:a})=>a.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:a,size:l})=>a.multiline&&l==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.multiline&&a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),N0=K(bo,{name:"MuiFilledInput",slot:"Input",overridesResolver:vo})(Ut(({theme:e})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:t})=>t.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}},{props:({ownerState:t})=>t.hiddenLabel&&t.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:t})=>t.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),xl=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiFilledInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,hiddenLabel:c,inputComponent:d="input",multiline:p=!1,slotProps:m,slots:y={},type:_="text",...I}=r,E={...r,disableUnderline:i,fullWidth:l,inputComponent:d,multiline:p,type:_},R=V0(r),V={root:{ownerState:E},input:{ownerState:E}},N=m??a?we(V,m??a):V,x=y.root??s.Root??D0,P=y.input??s.Input??N0;return $.jsx(Al,{slots:{root:x,input:P},slotProps:N,fullWidth:l,inputComponent:d,multiline:p,ref:n,type:_,...I,classes:R})});xl.muiName="Input";function M0(e){return Pt("MuiFormControl",e)}kt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const O0=e=>{const{classes:t,margin:n,fullWidth:r}=e,i={root:["root",n!=="none"&&`margin${it(n)}`,r&&"fullWidth"]};return Vt(i,M0,t)},L0=K("div",{name:"MuiFormControl",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`margin${it(n.margin)}`],n.fullWidth&&t.fullWidth]}})({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top",variants:[{props:{margin:"normal"},style:{marginTop:16,marginBottom:8}},{props:{margin:"dense"},style:{marginTop:8,marginBottom:4}},{props:{fullWidth:!0},style:{width:"100%"}}]}),$0=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiFormControl"}),{children:i,className:s,color:a="primary",component:l="div",disabled:c=!1,error:d=!1,focused:p,fullWidth:m=!1,hiddenLabel:y=!1,margin:_="none",required:I=!1,size:E="medium",variant:R="outlined",...V}=r,N={...r,color:a,component:l,disabled:c,error:d,fullWidth:m,hiddenLabel:y,margin:_,required:I,size:E,variant:R},x=O0(N),[P,k]=A.useState(()=>{let B=!1;return i&&A.Children.forEach(i,z=>{if(!ia(z,["Input","Select"]))return;const G=ia(z,["Select"])?z.props.input:z;G&&$_(G.props)&&(B=!0)}),B}),[M,T]=A.useState(()=>{let B=!1;return i&&A.Children.forEach(i,z=>{ia(z,["Input","Select"])&&(Fs(z.props,!0)||Fs(z.props.inputProps,!0))&&(B=!0)}),B}),[g,S]=A.useState(!1);c&&g&&S(!1);const h=p!==void 0&&!c?p:g;let w;A.useRef(!1);const C=A.useCallback(()=>{T(!0)},[]),b=A.useCallback(()=>{T(!1)},[]),q=A.useMemo(()=>({adornedStart:P,setAdornedStart:k,color:a,disabled:c,error:d,filled:M,focused:h,fullWidth:m,hiddenLabel:y,size:E,onBlur:()=>{S(!1)},onFocus:()=>{S(!0)},onEmpty:b,onFilled:C,registerEffect:w,required:I,variant:R}),[P,a,c,d,M,h,m,y,w,b,C,I,E,R]);return $.jsx(Rl.Provider,{value:q,children:$.jsx(L0,{as:l,ownerState:N,className:lt(x.root,s),ref:n,...V,children:i})})});function F0(e){return Pt("MuiFormHelperText",e)}const Gu=kt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var Ku;const B0=e=>{const{classes:t,contained:n,size:r,disabled:i,error:s,filled:a,focused:l,required:c}=e,d={root:["root",i&&"disabled",s&&"error",r&&`size${it(r)}`,n&&"contained",l&&"focused",a&&"filled",c&&"required"]};return Vt(d,F0,t)},U0=K("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.size&&t[`size${it(n.size)}`],n.contained&&t.contained,n.filled&&t.filled]}})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.caption,textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${Gu.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Gu.error}`]:{color:(e.vars||e).palette.error.main},variants:[{props:{size:"small"},style:{marginTop:4}},{props:({ownerState:t})=>t.contained,style:{marginLeft:14,marginRight:14}}]}))),z0=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiFormHelperText"}),{children:i,className:s,component:a="p",disabled:l,error:c,filled:d,focused:p,margin:m,required:y,variant:_,...I}=r,E=Ur(),R=Br({props:r,muiFormControl:E,states:["variant","size","disabled","error","filled","focused","required"]}),V={...r,component:a,contained:R.variant==="filled"||R.variant==="outlined",variant:R.variant,size:R.size,disabled:R.disabled,error:R.error,filled:R.filled,focused:R.focused,required:R.required};delete V.ownerState;const N=B0(V);return $.jsx(U0,{as:a,className:lt(N.root,s),ref:n,...I,ownerState:V,children:i===" "?Ku||(Ku=$.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):i})});function j0(e){return Pt("MuiFormLabel",e)}const Ti=kt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),W0=e=>{const{classes:t,color:n,focused:r,disabled:i,error:s,filled:a,required:l}=e,c={root:["root",`color${it(n)}`,i&&"disabled",s&&"error",a&&"filled",r&&"focused",l&&"required"],asterisk:["asterisk",s&&"error"]};return Vt(c,j0,t)},q0=K("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.color==="secondary"&&t.colorSecondary,n.filled&&t.filled]}})(Ut(({theme:e})=>({color:(e.vars||e).palette.text.secondary,...e.typography.body1,lineHeight:"1.4375em",padding:0,position:"relative",variants:[...Object.entries(e.palette).filter(ir()).map(([t])=>({props:{color:t},style:{[`&.${Ti.focused}`]:{color:(e.vars||e).palette[t].main}}})),{props:{},style:{[`&.${Ti.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${Ti.error}`]:{color:(e.vars||e).palette.error.main}}}]}))),H0=K("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(Ut(({theme:e})=>({[`&.${Ti.error}`]:{color:(e.vars||e).palette.error.main}}))),G0=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiFormLabel"}),{children:i,className:s,color:a,component:l="label",disabled:c,error:d,filled:p,focused:m,required:y,..._}=r,I=Ur(),E=Br({props:r,muiFormControl:I,states:["color","required","focused","disabled","error","filled"]}),R={...r,color:E.color||"primary",component:l,disabled:E.disabled,error:E.error,filled:E.filled,focused:E.focused,required:E.required},V=W0(R);return $.jsxs(q0,{as:l,ownerState:R,className:lt(V.root,s),ref:n,..._,children:[i,E.required&&$.jsxs(H0,{ownerState:R,"aria-hidden":!0,className:V.asterisk,children:[" ","*"]})]})});function Oa(e){return`scale(${e}, ${e**2})`}const K0={entering:{opacity:1,transform:Oa(1)},entered:{opacity:1,transform:"none"}},la=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),La=A.forwardRef(function(t,n){const{addEndListener:r,appear:i=!0,children:s,easing:a,in:l,onEnter:c,onEntered:d,onEntering:p,onExit:m,onExited:y,onExiting:_,style:I,timeout:E="auto",TransitionComponent:R=on,...V}=t,N=Lh(),x=A.useRef(),P=Il(),k=A.useRef(null),M=xe(k,Hi(s),n),T=B=>z=>{if(B){const G=k.current;z===void 0?B(G):B(G,z)}},g=T(p),S=T((B,z)=>{Zh(B);const{duration:G,delay:st,easing:j}=Ls({style:I,timeout:E,easing:a},{mode:"enter"});let ht;E==="auto"?(ht=P.transitions.getAutoHeightDuration(B.clientHeight),x.current=ht):ht=G,B.style.transition=[P.transitions.create("opacity",{duration:ht,delay:st}),P.transitions.create("transform",{duration:la?ht:ht*.666,delay:st,easing:j})].join(","),c&&c(B,z)}),h=T(d),w=T(_),C=T(B=>{const{duration:z,delay:G,easing:st}=Ls({style:I,timeout:E,easing:a},{mode:"exit"});let j;E==="auto"?(j=P.transitions.getAutoHeightDuration(B.clientHeight),x.current=j):j=z,B.style.transition=[P.transitions.create("opacity",{duration:j,delay:G}),P.transitions.create("transform",{duration:la?j:j*.666,delay:la?G:G||j*.333,easing:st})].join(","),B.style.opacity=0,B.style.transform=Oa(.75),m&&m(B)}),b=T(y),q=B=>{E==="auto"&&N.start(x.current||0,B),r&&r(k.current,B)};return $.jsx(R,{appear:i,in:l,nodeRef:k,onEnter:S,onEntered:h,onEntering:g,onExit:C,onExited:b,onExiting:w,addEndListener:q,timeout:E==="auto"?null:E,...V,children:(B,{ownerState:z,...G})=>A.cloneElement(s,{style:{opacity:0,transform:Oa(.75),visibility:B==="exited"&&!l?"hidden":void 0,...K0[B],...I,...s.props.style},ref:M,...G})})});La&&(La.muiSupportAuto=!0);const Q0=e=>{const{classes:t,disableUnderline:n}=e,i=Vt({root:["root",!n&&"underline"],input:["input"]},U_,t);return{...t,...i}},X0=K(_o,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[...yo(e,t),!n.disableUnderline&&t.underline]}})(Ut(({theme:e})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),{position:"relative",variants:[{props:({ownerState:r})=>r.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:r})=>!r.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ui.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ui.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ui.disabled}, .${ui.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${ui.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(e.palette).filter(ir()).map(([r])=>({props:{color:r,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[r].main}`}}}))]}})),Y0=K(bo,{name:"MuiInput",slot:"Input",overridesResolver:vo})({}),Pl=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiInput"}),{disableUnderline:i=!1,components:s={},componentsProps:a,fullWidth:l=!1,inputComponent:c="input",multiline:d=!1,slotProps:p,slots:m={},type:y="text",..._}=r,I=Q0(r),R={root:{ownerState:{disableUnderline:i}}},V=p??a?we(p??a,R):R,N=m.root??s.Root??X0,x=m.input??s.Input??Y0;return $.jsx(Al,{slots:{root:N,input:x},slotProps:V,fullWidth:l,inputComponent:c,multiline:d,ref:n,type:y,..._,classes:I})});Pl.muiName="Input";function J0(e){return Pt("MuiInputLabel",e)}kt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Z0=e=>{const{classes:t,formControl:n,size:r,shrink:i,disableAnimation:s,variant:a,required:l}=e,c={root:["root",n&&"formControl",!s&&"animated",i&&"shrink",r&&r!=="normal"&&`size${it(r)}`,a],asterisk:[l&&"asterisk"]},d=Vt(c,J0,t);return{...t,...d}},tb=K(G0,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Ti.asterisk}`]:t.asterisk},t.root,n.formControl&&t.formControl,n.size==="small"&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})(Ut(({theme:e})=>({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",variants:[{props:({ownerState:t})=>t.formControl,style:{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"}},{props:{size:"small"},style:{transform:"translate(0, 17px) scale(1)"}},{props:({ownerState:t})=>t.shrink,style:{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"}},{props:({ownerState:t})=>!t.disableAnimation,style:{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})}},{props:{variant:"filled"},style:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"filled",size:"small"},style:{transform:"translate(12px, 13px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="filled"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"}},{props:({variant:t,ownerState:n,size:r})=>t==="filled"&&n.shrink&&r==="small",style:{transform:"translate(12px, 4px) scale(0.75)"}},{props:{variant:"outlined"},style:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"}},{props:{variant:"outlined",size:"small"},style:{transform:"translate(14px, 9px) scale(1)"}},{props:({variant:t,ownerState:n})=>t==="outlined"&&n.shrink,style:{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}}]}))),eb=A.forwardRef(function(t,n){const r=Ot({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,margin:s,shrink:a,variant:l,className:c,...d}=r,p=Ur();let m=a;typeof m>"u"&&p&&(m=p.filled||p.focused||p.adornedStart);const y=Br({props:r,muiFormControl:p,states:["size","variant","required","focused"]}),_={...r,disableAnimation:i,formControl:p,shrink:m,size:y.size,variant:y.variant,required:y.required,focused:y.focused},I=Z0(_);return $.jsx(tb,{"data-shrink":m,ref:n,className:lt(I.root,c),...d,ownerState:_,classes:I})}),nb=A.createContext({});function rb(e){return Pt("MuiList",e)}kt("MuiList",["root","padding","dense","subheader"]);const ib=e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Vt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},rb,t)},sb=K("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:e})=>!e.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:e})=>e.subheader,style:{paddingTop:0}}]}),ob=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiList"}),{children:i,className:s,component:a="ul",dense:l=!1,disablePadding:c=!1,subheader:d,...p}=r,m=A.useMemo(()=>({dense:l}),[l]),y={...r,component:a,dense:l,disablePadding:c},_=ib(y);return $.jsx(nb.Provider,{value:m,children:$.jsxs(sb,{as:a,className:lt(_.root,s),ref:n,ownerState:y,...p,children:[d,i]})})});function ca(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Qu(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function rf(e,t){if(t===void 0)return!0;let n=e.innerText;return n===void 0&&(n=e.textContent),n=n.trim().toLowerCase(),n.length===0?!1:t.repeating?n[0]===t.keys[0]:n.startsWith(t.keys.join(""))}function di(e,t,n,r,i,s){let a=!1,l=i(e,t,t?n:!1);for(;l;){if(l===e.firstChild){if(a)return!1;a=!0}const c=r?!1:l.disabled||l.getAttribute("aria-disabled")==="true";if(!l.hasAttribute("tabindex")||!rf(l,s)||c)l=i(e,l,n);else return l.focus(),!0}return!1}const ab=A.forwardRef(function(t,n){const{actions:r,autoFocus:i=!1,autoFocusItem:s=!1,children:a,className:l,disabledItemsFocusable:c=!1,disableListWrap:d=!1,onKeyDown:p,variant:m="selectedMenu",...y}=t,_=A.useRef(null),I=A.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});er(()=>{i&&_.current.focus()},[i]),A.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(x,{direction:P})=>{const k=!_.current.style.width;if(x.clientHeight<_.current.clientHeight&&k){const M=`${$h(yn(x))}px`;_.current.style[P==="rtl"?"paddingLeft":"paddingRight"]=M,_.current.style.width=`calc(100% + ${M})`}return _.current}}),[]);const E=x=>{const P=_.current,k=x.key;if(x.ctrlKey||x.metaKey||x.altKey){p&&p(x);return}const T=je(P).activeElement;if(k==="ArrowDown")x.preventDefault(),di(P,T,d,c,ca);else if(k==="ArrowUp")x.preventDefault(),di(P,T,d,c,Qu);else if(k==="Home")x.preventDefault(),di(P,null,d,c,ca);else if(k==="End")x.preventDefault(),di(P,null,d,c,Qu);else if(k.length===1){const g=I.current,S=k.toLowerCase(),h=performance.now();g.keys.length>0&&(h-g.lastTime>500?(g.keys=[],g.repeating=!0,g.previousKeyMatched=!0):g.repeating&&S!==g.keys[0]&&(g.repeating=!1)),g.lastTime=h,g.keys.push(S);const w=T&&!g.repeating&&rf(T,g);g.previousKeyMatched&&(w||di(P,T,!1,c,ca,g))?x.preventDefault():g.previousKeyMatched=!1}p&&p(x)},R=xe(_,n);let V=-1;A.Children.forEach(a,(x,P)=>{if(!A.isValidElement(x)){V===P&&(V+=1,V>=a.length&&(V=-1));return}x.props.disabled||(m==="selectedMenu"&&x.props.selected||V===-1)&&(V=P),V===P&&(x.props.disabled||x.props.muiSkipListHighlight||x.type.muiSkipListHighlight)&&(V+=1,V>=a.length&&(V=-1))});const N=A.Children.map(a,(x,P)=>{if(P===V){const k={};return s&&(k.autoFocus=!0),x.props.tabIndex===void 0&&m==="selectedMenu"&&(k.tabIndex=0),A.cloneElement(x,k)}return x});return $.jsx(ob,{role:"menu",ref:R,className:l,onKeyDown:E,tabIndex:i?0:-1,...y,children:N})});function lb(e){return Pt("MuiPopover",e)}kt("MuiPopover",["root","paper"]);function Xu(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.height/2:t==="bottom"&&(n=e.height),n}function Yu(e,t){let n=0;return typeof t=="number"?n=t:t==="center"?n=e.width/2:t==="right"&&(n=e.width),n}function Ju(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function ua(e){return typeof e=="function"?e():e}const cb=e=>{const{classes:t}=e;return Vt({root:["root"],paper:["paper"]},lb,t)},ub=K(R0,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),sf=K(l_,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),db=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiPopover"}),{action:i,anchorEl:s,anchorOrigin:a={vertical:"top",horizontal:"left"},anchorPosition:l,anchorReference:c="anchorEl",children:d,className:p,container:m,elevation:y=8,marginThreshold:_=16,open:I,PaperProps:E={},slots:R={},slotProps:V={},transformOrigin:N={vertical:"top",horizontal:"left"},TransitionComponent:x,transitionDuration:P="auto",TransitionProps:k={},disableScrollLock:M=!1,...T}=r,g=A.useRef(),S={...r,anchorOrigin:a,anchorReference:c,elevation:y,marginThreshold:_,transformOrigin:N,TransitionComponent:x,transitionDuration:P,TransitionProps:k},h=cb(S),w=A.useCallback(()=>{if(c==="anchorPosition")return l;const tt=ua(s),at=(tt&&tt.nodeType===1?tt:je(g.current).body).getBoundingClientRect();return{top:at.top+Xu(at,a.vertical),left:at.left+Yu(at,a.horizontal)}},[s,a.horizontal,a.vertical,l,c]),C=A.useCallback(tt=>({vertical:Xu(tt,N.vertical),horizontal:Yu(tt,N.horizontal)}),[N.horizontal,N.vertical]),b=A.useCallback(tt=>{const ot={width:tt.offsetWidth,height:tt.offsetHeight},at=C(ot);if(c==="none")return{top:null,left:null,transformOrigin:Ju(at)};const jt=w();let ut=jt.top-at.vertical,wt=jt.left-at.horizontal;const me=ut+ot.height,le=wt+ot.width,Jt=yn(ua(s)),Pe=Jt.innerHeight-_,ee=Jt.innerWidth-_;if(_!==null&&ut<_){const Wt=ut-_;ut-=Wt,at.vertical+=Wt}else if(_!==null&&me>Pe){const Wt=me-Pe;ut-=Wt,at.vertical+=Wt}if(_!==null&&wt<_){const Wt=wt-_;wt-=Wt,at.horizontal+=Wt}else if(le>ee){const Wt=le-ee;wt-=Wt,at.horizontal+=Wt}return{top:`${Math.round(ut)}px`,left:`${Math.round(wt)}px`,transformOrigin:Ju(at)}},[s,c,w,C,_]),[q,B]=A.useState(I),z=A.useCallback(()=>{const tt=g.current;if(!tt)return;const ot=b(tt);ot.top!==null&&tt.style.setProperty("top",ot.top),ot.left!==null&&(tt.style.left=ot.left),tt.style.transformOrigin=ot.transformOrigin,B(!0)},[b]);A.useEffect(()=>(M&&window.addEventListener("scroll",z),()=>window.removeEventListener("scroll",z)),[s,M,z]);const G=()=>{z()},st=()=>{B(!1)};A.useEffect(()=>{I&&z()}),A.useImperativeHandle(i,()=>I?{updatePosition:()=>{z()}}:null,[I,z]),A.useEffect(()=>{if(!I)return;const tt=Mh(()=>{z()}),ot=yn(s);return ot.addEventListener("resize",tt),()=>{tt.clear(),ot.removeEventListener("resize",tt)}},[s,I,z]);let j=P;const ht={slots:{transition:x,...R},slotProps:{transition:k,paper:E,...V}},[Et,Dt]=Re("transition",{elementType:La,externalForwardedProps:ht,ownerState:S,getSlotProps:tt=>({...tt,onEntering:(ot,at)=>{var jt;(jt=tt.onEntering)==null||jt.call(tt,ot,at),G()},onExited:ot=>{var at;(at=tt.onExited)==null||at.call(tt,ot),st()}}),additionalProps:{appear:!0,in:I}});P==="auto"&&!Et.muiSupportAuto&&(j=void 0);const rt=m||(s?je(ua(s)).body:void 0),[Tt,{slots:mt,slotProps:pe,...zt}]=Re("root",{ref:n,elementType:ub,externalForwardedProps:{...ht,...T},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:R.backdrop},slotProps:{backdrop:Yv(typeof V.backdrop=="function"?V.backdrop(S):V.backdrop,{invisible:!0})},container:rt,open:I},ownerState:S,className:lt(h.root,p)}),[Ie,Lt]=Re("paper",{ref:g,className:h.paper,elementType:sf,externalForwardedProps:ht,shouldForwardComponentProp:!0,additionalProps:{elevation:y,style:q?void 0:{opacity:0}},ownerState:S});return $.jsx(Tt,{...zt,...!Na(Tt)&&{slots:mt,slotProps:pe,disableScrollLock:M},children:$.jsx(Et,{...Dt,timeout:j,children:$.jsx(Ie,{...Lt,children:d})})})});function hb(e){return Pt("MuiMenu",e)}kt("MuiMenu",["root","paper","list"]);const fb={vertical:"top",horizontal:"right"},pb={vertical:"top",horizontal:"left"},mb=e=>{const{classes:t}=e;return Vt({root:["root"],paper:["paper"],list:["list"]},hb,t)},gb=K(db,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),yb=K(sf,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),vb=K(ab,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),_b=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiMenu"}),{autoFocus:i=!0,children:s,className:a,disableAutoFocusItem:l=!1,MenuListProps:c={},onClose:d,open:p,PaperProps:m={},PopoverClasses:y,transitionDuration:_="auto",TransitionProps:{onEntering:I,...E}={},variant:R="selectedMenu",slots:V={},slotProps:N={},...x}=r,P=tv(),k={...r,autoFocus:i,disableAutoFocusItem:l,MenuListProps:c,onEntering:I,PaperProps:m,transitionDuration:_,TransitionProps:E,variant:R},M=mb(k),T=i&&!l&&p,g=A.useRef(null),S=(j,ht)=>{g.current&&g.current.adjustStyleForScrollbar(j,{direction:P?"rtl":"ltr"}),I&&I(j,ht)},h=j=>{j.key==="Tab"&&(j.preventDefault(),d&&d(j,"tabKeyDown"))};let w=-1;A.Children.map(s,(j,ht)=>{A.isValidElement(j)&&(j.props.disabled||(R==="selectedMenu"&&j.props.selected||w===-1)&&(w=ht))});const C={slots:V,slotProps:{list:c,transition:E,paper:m,...N}},b=Jy({elementType:V.root,externalSlotProps:N.root,ownerState:k,className:[M.root,a]}),[q,B]=Re("paper",{className:M.paper,elementType:yb,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:k}),[z,G]=Re("list",{className:lt(M.list,c.className),elementType:vb,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:j=>({...j,onKeyDown:ht=>{var Et;h(ht),(Et=j.onKeyDown)==null||Et.call(j,ht)}}),ownerState:k}),st=typeof C.slotProps.transition=="function"?C.slotProps.transition(k):C.slotProps.transition;return $.jsx(gb,{onClose:d,anchorOrigin:{vertical:"bottom",horizontal:P?"right":"left"},transformOrigin:P?fb:pb,slots:{root:V.root,paper:q,backdrop:V.backdrop,...V.transition&&{transition:V.transition}},slotProps:{root:b,paper:B,backdrop:typeof N.backdrop=="function"?N.backdrop(k):N.backdrop,transition:{...st,onEntering:(...j)=>{var ht;S(...j),(ht=st==null?void 0:st.onEntering)==null||ht.call(st,...j)}}},open:p,ref:n,transitionDuration:_,ownerState:k,...x,classes:y,children:$.jsx(z,{actions:g,autoFocus:i&&(w===-1||l),autoFocusItem:T,variant:R,...G,children:s})})});function bb(e){return Pt("MuiNativeSelect",e)}const kl=kt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Eb=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:a}=e,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${it(n)}`,s&&"iconOpen",r&&"disabled"]};return Vt(l,bb,t)},of=K("select")(({theme:e})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${kl.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},variants:[{props:({ownerState:t})=>t.variant!=="filled"&&t.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}}]})),Tb=K(of,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:We,overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.select,t[n.variant],n.error&&t.error,{[`&.${kl.multiple}`]:t.multiple}]}})({}),af=K("svg")(({theme:e})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${kl.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:({ownerState:t})=>t.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),wb=K(af,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${it(n.variant)}`],n.open&&t.iconOpen]}})({}),Ib=A.forwardRef(function(t,n){const{className:r,disabled:i,error:s,IconComponent:a,inputRef:l,variant:c="standard",...d}=t,p={...t,disabled:i,variant:c,error:s},m=Eb(p);return $.jsxs(A.Fragment,{children:[$.jsx(Tb,{ownerState:p,className:lt(m.select,r),disabled:i,ref:l||n,...d}),t.multiple?null:$.jsx(wb,{as:a,ownerState:p,className:m.icon})]})});var Zu;const Sb=K("fieldset",{shouldForwardProp:We})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Cb=K("legend",{shouldForwardProp:We})(Ut(({theme:e})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:t})=>!t.withLabel,style:{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})}},{props:({ownerState:t})=>t.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:t})=>t.withLabel&&t.notched,style:{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}]})));function Rb(e){const{children:t,classes:n,className:r,label:i,notched:s,...a}=e,l=i!=null&&i!=="",c={...e,notched:s,withLabel:l};return $.jsx(Sb,{"aria-hidden":!0,className:r,ownerState:c,...a,children:$.jsx(Cb,{ownerState:c,children:l?$.jsx("span",{children:i}):Zu||(Zu=$.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"}))})})}const Ab=e=>{const{classes:t}=e,r=Vt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},z_,t);return{...t,...r}},xb=K(_o,{shouldForwardProp:e=>We(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:yo})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Qe.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Qe.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}},[`&.${Qe.focused} .${Qe.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(e.palette).filter(ir()).map(([n])=>({props:{color:n},style:{[`&.${Qe.focused} .${Qe.notchedOutline}`]:{borderColor:(e.vars||e).palette[n].main}}})),{props:{},style:{[`&.${Qe.error} .${Qe.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Qe.disabled} .${Qe.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}}},{props:({ownerState:n})=>n.startAdornment,style:{paddingLeft:14}},{props:({ownerState:n})=>n.endAdornment,style:{paddingRight:14}},{props:({ownerState:n})=>n.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:n,size:r})=>n.multiline&&r==="small",style:{padding:"8.5px 14px"}}]}})),Pb=K(Rb,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(Ut(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}})),kb=K(bo,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:vo})(Ut(({theme:e})=>({padding:"16.5px 14px",...!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:t})=>t.multiline,style:{padding:0}},{props:({ownerState:t})=>t.startAdornment,style:{paddingLeft:0}},{props:({ownerState:t})=>t.endAdornment,style:{paddingRight:0}}]}))),Vl=A.forwardRef(function(t,n){var r;const i=Ot({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:a=!1,inputComponent:l="input",label:c,multiline:d=!1,notched:p,slots:m={},type:y="text",..._}=i,I=Ab(i),E=Ur(),R=Br({props:i,muiFormControl:E,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),V={...i,color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:E,fullWidth:a,hiddenLabel:R.hiddenLabel,multiline:d,size:R.size,type:y},N=m.root??s.Root??xb,x=m.input??s.Input??kb;return $.jsx(Al,{slots:{root:N,input:x},renderSuffix:P=>$.jsx(Pb,{ownerState:V,className:I.notchedOutline,label:c!=null&&c!==""&&R.required?r||(r=$.jsxs(A.Fragment,{children:[c," ","*"]})):c,notched:typeof p<"u"?p:!!(P.startAdornment||P.filled||P.focused)}),fullWidth:a,inputComponent:l,multiline:d,ref:n,type:y,..._,classes:{...I,notchedOutline:null}})});Vl.muiName="Input";function lf(e){return Pt("MuiSelect",e)}const hi=kt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var td;const Vb=K(of,{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`&.${hi.select}`]:t.select},{[`&.${hi.select}`]:t[n.variant]},{[`&.${hi.error}`]:t.error},{[`&.${hi.multiple}`]:t.multiple}]}})({[`&.${hi.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Db=K(af,{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.icon,n.variant&&t[`icon${it(n.variant)}`],n.open&&t.iconOpen]}})({}),Nb=K("input",{shouldForwardProp:e=>Qh(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function ed(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Mb(e){return e==null||typeof e=="string"&&!e.trim()}const Ob=e=>{const{classes:t,variant:n,disabled:r,multiple:i,open:s,error:a}=e,l={select:["select",n,r&&"disabled",i&&"multiple",a&&"error"],icon:["icon",`icon${it(n)}`,s&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return Vt(l,lf,t)},Lb=A.forwardRef(function(t,n){var Gr;const{"aria-describedby":r,"aria-label":i,autoFocus:s,autoWidth:a,children:l,className:c,defaultOpen:d,defaultValue:p,disabled:m,displayEmpty:y,error:_=!1,IconComponent:I,inputRef:E,labelId:R,MenuProps:V={},multiple:N,name:x,onBlur:P,onChange:k,onClose:M,onFocus:T,onOpen:g,open:S,readOnly:h,renderValue:w,required:C,SelectDisplayProps:b={},tabIndex:q,type:B,value:z,variant:G="standard",...st}=t,[j,ht]=Cu({controlled:z,default:p,name:"Select"}),[Et,Dt]=Cu({controlled:S,default:d,name:"Select"}),rt=A.useRef(null),Tt=A.useRef(null),[mt,pe]=A.useState(null),{current:zt}=A.useRef(S!=null),[Ie,Lt]=A.useState(),tt=xe(n,E),ot=A.useCallback(Y=>{Tt.current=Y,Y&&pe(Y)},[]),at=mt==null?void 0:mt.parentNode;A.useImperativeHandle(tt,()=>({focus:()=>{Tt.current.focus()},node:rt.current,value:j}),[j]),A.useEffect(()=>{d&&Et&&mt&&!zt&&(Lt(a?null:at.clientWidth),Tt.current.focus())},[mt,a]),A.useEffect(()=>{s&&Tt.current.focus()},[s]),A.useEffect(()=>{if(!R)return;const Y=je(Tt.current).getElementById(R);if(Y){const St=()=>{getSelection().isCollapsed&&Tt.current.focus()};return Y.addEventListener("click",St),()=>{Y.removeEventListener("click",St)}}},[R]);const jt=(Y,St)=>{Y?g&&g(St):M&&M(St),zt||(Lt(a?null:at.clientWidth),Dt(Y))},ut=Y=>{Y.button===0&&(Y.preventDefault(),Tt.current.focus(),jt(!0,Y))},wt=Y=>{jt(!1,Y)},me=A.Children.toArray(l),le=Y=>{const St=me.find(ne=>ne.props.value===Y.target.value);St!==void 0&&(ht(St.props.value),k&&k(Y,St))},Jt=Y=>St=>{let ne;if(St.currentTarget.hasAttribute("tabindex")){if(N){ne=Array.isArray(j)?j.slice():[];const Ge=j.indexOf(Y.props.value);Ge===-1?ne.push(Y.props.value):ne.splice(Ge,1)}else ne=Y.props.value;if(Y.props.onClick&&Y.props.onClick(St),j!==ne&&(ht(ne),k)){const Ge=St.nativeEvent||St,Kr=new Ge.constructor(Ge.type,Ge);Object.defineProperty(Kr,"target",{writable:!0,value:{value:ne,name:x}}),k(Kr,Y)}N||jt(!1,St)}},Pe=Y=>{h||[" ","ArrowUp","ArrowDown","Enter"].includes(Y.key)&&(Y.preventDefault(),jt(!0,Y))},ee=mt!==null&&Et,Wt=Y=>{!ee&&P&&(Object.defineProperty(Y,"target",{writable:!0,value:{value:j,name:x}}),P(Y))};delete st["aria-invalid"];let Q,qe;const oe=[];let an=!1;(Fs({value:j})||y)&&(w?Q=w(j):an=!0);const qt=me.map(Y=>{if(!A.isValidElement(Y))return null;let St;if(N){if(!Array.isArray(j))throw new Error(mn(2));St=j.some(ne=>ed(ne,Y.props.value)),St&&an&&oe.push(Y.props.children)}else St=ed(j,Y.props.value),St&&an&&(qe=Y.props.children);return A.cloneElement(Y,{"aria-selected":St?"true":"false",onClick:Jt(Y),onKeyUp:ne=>{ne.key===" "&&ne.preventDefault(),Y.props.onKeyUp&&Y.props.onKeyUp(ne)},role:"option",selected:St,value:void 0,"data-value":Y.props.value})});an&&(N?oe.length===0?Q=null:Q=oe.reduce((Y,St,ne)=>(Y.push(St),ne<oe.length-1&&Y.push(", "),Y),[]):Q=qe);let Qt=Ie;!a&&zt&&mt&&(Qt=at.clientWidth);let Be;typeof q<"u"?Be=q:Be=m?null:0;const ln=b.id||(x?`mui-component-select-${x}`:void 0),He={...t,variant:G,value:j,open:ee,error:_},xt=Ob(He),Oe={...V.PaperProps,...(Gr=V.slotProps)==null?void 0:Gr.paper},En=bl();return $.jsxs(A.Fragment,{children:[$.jsx(Vb,{as:"div",ref:ot,tabIndex:Be,role:"combobox","aria-controls":ee?En:void 0,"aria-disabled":m?"true":void 0,"aria-expanded":ee?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[R,ln].filter(Boolean).join(" ")||void 0,"aria-describedby":r,"aria-required":C?"true":void 0,"aria-invalid":_?"true":void 0,onKeyDown:Pe,onMouseDown:m||h?null:ut,onBlur:Wt,onFocus:T,...b,ownerState:He,className:lt(b.className,xt.select,c),id:ln,children:Mb(Q)?td||(td=$.jsx("span",{className:"notranslate","aria-hidden":!0,children:"​"})):Q}),$.jsx(Nb,{"aria-invalid":_,value:Array.isArray(j)?j.join(","):j,name:x,ref:rt,"aria-hidden":!0,onChange:le,tabIndex:-1,disabled:m,className:xt.nativeInput,autoFocus:s,required:C,...st,ownerState:He}),$.jsx(Db,{as:I,className:xt.icon,ownerState:He}),$.jsx(_b,{id:`menu-${x||""}`,anchorEl:at,open:ee,onClose:wt,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...V,slotProps:{...V.slotProps,list:{"aria-labelledby":R,role:"listbox","aria-multiselectable":N?"true":void 0,disableListWrap:!0,id:En,...V.MenuListProps},paper:{...Oe,style:{minWidth:Qt,...Oe!=null?Oe.style:null}}},children:qt})]})}),$b=e=>{const{classes:t}=e,r=Vt({root:["root"]},lf,t);return{...t,...r}},Dl={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>We(e)&&e!=="variant",slot:"Root"},Fb=K(Pl,Dl)(""),Bb=K(Vl,Dl)(""),Ub=K(xl,Dl)(""),cf=A.forwardRef(function(t,n){const r=Ot({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:s,classes:a={},className:l,defaultOpen:c=!1,displayEmpty:d=!1,IconComponent:p=W_,id:m,input:y,inputProps:_,label:I,labelId:E,MenuProps:R,multiple:V=!1,native:N=!1,onClose:x,onOpen:P,open:k,renderValue:M,SelectDisplayProps:T,variant:g="outlined",...S}=r,h=N?Ib:Lb,w=Ur(),C=Br({props:r,muiFormControl:w,states:["variant","error"]}),b=C.variant||g,q={...r,variant:b,classes:a},B=$b(q),{root:z,...G}=B,st=y||{standard:$.jsx(Fb,{ownerState:q}),outlined:$.jsx(Bb,{label:I,ownerState:q}),filled:$.jsx(Ub,{ownerState:q})}[b],j=xe(n,Hi(st));return $.jsx(A.Fragment,{children:A.cloneElement(st,{inputComponent:h,inputProps:{children:s,error:C.error,IconComponent:p,variant:b,type:void 0,multiple:V,...N?{id:m}:{autoWidth:i,defaultOpen:c,displayEmpty:d,labelId:E,MenuProps:R,onClose:x,onOpen:P,open:k,renderValue:M,SelectDisplayProps:{id:m,...T}},..._,classes:_?we(G,_.classes):G,...y?y.props.inputProps:{}},...(V&&N||d)&&b==="outlined"?{notched:!0}:{},ref:j,className:lt(st.props.className,l,B.root),...!y&&{variant:b},...S})})});cf.muiName="Select";function zb(e){return Pt("MuiTextField",e)}kt("MuiTextField",["root"]);const jb={standard:Pl,filled:xl,outlined:Vl},Wb=e=>{const{classes:t}=e;return Vt({root:["root"]},zb,t)},qb=K($0,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Hb=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:s=!1,children:a,className:l,color:c="primary",defaultValue:d,disabled:p=!1,error:m=!1,FormHelperTextProps:y,fullWidth:_=!1,helperText:I,id:E,InputLabelProps:R,inputProps:V,InputProps:N,inputRef:x,label:P,maxRows:k,minRows:M,multiline:T=!1,name:g,onBlur:S,onChange:h,onFocus:w,placeholder:C,required:b=!1,rows:q,select:B=!1,SelectProps:z,slots:G={},slotProps:st={},type:j,value:ht,variant:Et="outlined",...Dt}=r,rt={...r,autoFocus:s,color:c,disabled:p,error:m,fullWidth:_,multiline:T,required:b,select:B,variant:Et},Tt=Wb(rt),mt=bl(E),pe=I&&mt?`${mt}-helper-text`:void 0,zt=P&&mt?`${mt}-label`:void 0,Ie=jb[Et],Lt={slots:G,slotProps:{input:N,inputLabel:R,htmlInput:V,formHelperText:y,select:z,...st}},tt={},ot=Lt.slotProps.inputLabel;Et==="outlined"&&(ot&&typeof ot.shrink<"u"&&(tt.notched=ot.shrink),tt.label=P),B&&((!z||!z.native)&&(tt.id=void 0),tt["aria-describedby"]=void 0);const[at,jt]=Re("input",{elementType:Ie,externalForwardedProps:Lt,additionalProps:tt,ownerState:rt}),[ut,wt]=Re("inputLabel",{elementType:eb,externalForwardedProps:Lt,ownerState:rt}),[me,le]=Re("htmlInput",{elementType:"input",externalForwardedProps:Lt,ownerState:rt}),[Jt,Pe]=Re("formHelperText",{elementType:z0,externalForwardedProps:Lt,ownerState:rt}),[ee,Wt]=Re("select",{elementType:cf,externalForwardedProps:Lt,ownerState:rt}),Q=$.jsx(at,{"aria-describedby":pe,autoComplete:i,autoFocus:s,defaultValue:d,fullWidth:_,multiline:T,name:g,rows:q,maxRows:k,minRows:M,type:j,value:ht,id:mt,inputRef:x,onBlur:S,onChange:h,onFocus:w,placeholder:C,inputProps:le,slots:{input:G.htmlInput?me:void 0},...jt});return $.jsxs(qb,{className:lt(Tt.root,l),disabled:p,error:m,fullWidth:_,ref:n,required:b,color:c,variant:Et,ownerState:rt,...Dt,children:[P!=null&&P!==""&&$.jsx(ut,{htmlFor:mt,id:zt,...wt,children:P}),B?$.jsx(ee,{"aria-describedby":pe,id:mt,labelId:zt,value:ht,input:Q,...Wt,children:a}):Q,I&&$.jsx(Jt,{id:pe,...Pe,children:I})]})});function Gb(e){return Pt("MuiToggleButton",e)}const Yn=kt("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),uf=A.createContext({}),df=A.createContext(void 0);function Kb(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.includes(e):e===t}const Qb=e=>{const{classes:t,fullWidth:n,selected:r,disabled:i,size:s,color:a}=e,l={root:["root",r&&"selected",i&&"disabled",n&&"fullWidth",`size${it(s)}`,a]};return Vt(l,Gb,t)},Xb=K(tf,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${it(n.size)}`]]}})(Ut(({theme:e})=>({...e.typography.button,borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active,[`&.${Yn.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Ee(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[{props:{color:"standard"},style:{[`&.${Yn.selected}`]:{color:(e.vars||e).palette.text.primary,backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:Ee(e.palette.text.primary,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ee(e.palette.text.primary,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.selectedOpacity})`:Ee(e.palette.text.primary,e.palette.action.selectedOpacity)}}}}},...Object.entries(e.palette).filter(ir()).map(([t])=>({props:{color:t},style:{[`&.${Yn.selected}`]:{color:(e.vars||e).palette[t].main,backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ee(e.palette[t].main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:Ee(e.palette[t].main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette[t].mainChannel} / ${e.vars.palette.action.selectedOpacity})`:Ee(e.palette[t].main,e.palette.action.selectedOpacity)}}}}})),{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{padding:7,fontSize:e.typography.pxToRem(13)}},{props:{size:"large"},style:{padding:15,fontSize:e.typography.pxToRem(15)}}]}))),hf=A.forwardRef(function(t,n){const{value:r,...i}=A.useContext(uf),s=A.useContext(df),a=Ar({...i,selected:Kb(t.value,r)},t),l=Ot({props:a,name:"MuiToggleButton"}),{children:c,className:d,color:p="standard",disabled:m=!1,disableFocusRipple:y=!1,fullWidth:_=!1,onChange:I,onClick:E,selected:R,size:V="medium",value:N,...x}=l,P={...l,color:p,disabled:m,disableFocusRipple:y,fullWidth:_,size:V},k=Qb(P),M=g=>{E&&(E(g,N),g.defaultPrevented)||I&&I(g,N)},T=s||"";return $.jsx(Xb,{className:lt(i.className,k.root,d,T),disabled:m,focusRipple:!y,ref:n,onClick:M,onChange:I,value:N,ownerState:P,"aria-pressed":R,...x,children:c})});function Yb(e){return Pt("MuiToggleButtonGroup",e)}const Mt=kt("MuiToggleButtonGroup",["root","selected","horizontal","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth","firstButton","lastButton","middleButton"]),Jb=e=>{const{classes:t,orientation:n,fullWidth:r,disabled:i}=e,s={root:["root",n,r&&"fullWidth"],grouped:["grouped",`grouped${it(n)}`,i&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return Vt(s,Yb,t)},Zb=K("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Mt.grouped}`]:t.grouped},{[`& .${Mt.grouped}`]:t[`grouped${it(n.orientation)}`]},{[`& .${Mt.firstButton}`]:t.firstButton},{[`& .${Mt.lastButton}`]:t.lastButton},{[`& .${Mt.middleButton}`]:t.middleButton},t.root,n.orientation==="vertical"&&t.vertical,n.fullWidth&&t.fullWidth]}})(Ut(({theme:e})=>({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius,variants:[{props:{orientation:"vertical"},style:{flexDirection:"column",[`& .${Mt.grouped}`]:{[`&.${Mt.selected} + .${Mt.grouped}.${Mt.selected}`]:{borderTop:0,marginTop:0}},[`& .${Mt.firstButton},& .${Mt.middleButton}`]:{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`& .${Mt.lastButton},& .${Mt.middleButton}`]:{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},[`& .${Mt.lastButton}.${Yn.disabled},& .${Mt.middleButton}.${Yn.disabled}`]:{borderTop:"1px solid transparent"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{orientation:"horizontal"},style:{[`& .${Mt.grouped}`]:{[`&.${Mt.selected} + .${Mt.grouped}.${Mt.selected}`]:{borderLeft:0,marginLeft:0}},[`& .${Mt.firstButton},& .${Mt.middleButton}`]:{borderTopRightRadius:0,borderBottomRightRadius:0},[`& .${Mt.lastButton},& .${Mt.middleButton}`]:{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},[`& .${Mt.lastButton}.${Yn.disabled},& .${Mt.middleButton}.${Yn.disabled}`]:{borderLeft:"1px solid transparent"}}}]}))),ff=A.forwardRef(function(t,n){const r=Ot({props:t,name:"MuiToggleButtonGroup"}),{children:i,className:s,color:a="standard",disabled:l=!1,exclusive:c=!1,fullWidth:d=!1,onChange:p,orientation:m="horizontal",size:y="medium",value:_,...I}=r,E={...r,disabled:l,fullWidth:d,orientation:m,size:y},R=Jb(E),V=A.useCallback((T,g)=>{if(!p)return;const S=_&&_.indexOf(g);let h;_&&S>=0?(h=_.slice(),h.splice(S,1)):h=_?_.concat(g):[g],p(T,h)},[p,_]),N=A.useCallback((T,g)=>{p&&p(T,_===g?null:g)},[p,_]),x=A.useMemo(()=>({className:R.grouped,onChange:c?N:V,value:_,size:y,fullWidth:d,color:a,disabled:l}),[R.grouped,c,N,V,_,y,d,a,l]),P=Xy(i),k=P.length,M=T=>{const g=T===0,S=T===k-1;return g&&S?"":g?R.firstButton:S?R.lastButton:R.middleButton};return $.jsx(Zb,{role:"group",className:lt(R.root,s),ref:n,ownerState:E,...I,children:$.jsx(uf.Provider,{value:x,children:P.map((T,g)=>$.jsx(df.Provider,{value:M(g),children:T},g))})})}),tE=()=>{};var nd={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},eE=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],a=e[n++],l=e[n++],c=((i&7)<<18|(s&63)<<12|(a&63)<<6|l&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return t.join("")},mf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],a=i+1<e.length,l=a?e[i+1]:0,c=i+2<e.length,d=c?e[i+2]:0,p=s>>2,m=(s&3)<<4|l>>4;let y=(l&15)<<2|d>>6,_=d&63;c||(_=64,a||(y=64)),r.push(n[p],n[m],n[y],n[_])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pf(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):eE(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],l=i<e.length?n[e.charAt(i)]:0;++i;const d=i<e.length?n[e.charAt(i)]:64;++i;const m=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||l==null||d==null||m==null)throw new nE;const y=s<<2|l>>4;if(r.push(y),d!==64){const _=l<<4&240|d>>2;if(r.push(_),m!==64){const I=d<<6&192|m;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class nE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rE=function(e){const t=pf(e);return mf.encodeByteArray(t,!0)},Bs=function(e){return rE(e).replace(/\./g,"")},iE=function(e){try{return mf.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=()=>sE().__FIREBASE_DEFAULTS__,aE=()=>{if(typeof process>"u"||typeof nd>"u")return;const e=nd.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},lE=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&iE(e[1]);return t&&JSON.parse(t)},Nl=()=>{try{return tE()||oE()||aE()||lE()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},cE=e=>{var t,n;return(n=(t=Nl())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},uE=e=>{const t=cE(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},gf=()=>{var e;return(e=Nl())===null||e===void 0?void 0:e.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Bs(JSON.stringify(n)),Bs(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pE(){var e;const t=(e=Nl())===null||e===void 0?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mE(){return!pE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gE(){try{return typeof indexedDB=="object"}catch{return!1}}function yE(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="FirebaseError";class zr extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=vE,Object.setPrototypeOf(this,zr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yf.prototype.create)}}class yf{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],a=s?_E(s,r):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new zr(i,l,r)}}function _E(e,t){return e.replace(bE,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const bE=/\{\$([^}]+)}/g;function ki(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],a=t[i];if(rd(s)&&rd(a)){if(!ki(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rd(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dn(e){return e&&e._delegate?e._delegate:e}class Vi{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new dE;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wE(t))try{this.getOrInitializeService({instanceIdentifier:Qn})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=Qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qn){return this.instances.has(t)}getOptions(t=Qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&a.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&t(a,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TE(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Qn){return this.component?this.component.multipleInstances?t:Qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function TE(e){return e===Qn?void 0:e}function wE(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new EE(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(pt||(pt={}));const SE={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},CE=pt.INFO,RE={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},AE=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=RE[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class vf{constructor(t){this.name=t,this._logLevel=CE,this._logHandler=AE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?SE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...t),this._logHandler(this,pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...t),this._logHandler(this,pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...t),this._logHandler(this,pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...t),this._logHandler(this,pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...t),this._logHandler(this,pt.ERROR,...t)}}const xE=(e,t)=>t.some(n=>e instanceof n);let id,sd;function PE(){return id||(id=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kE(){return sd||(sd=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _f=new WeakMap,$a=new WeakMap,bf=new WeakMap,da=new WeakMap,Ml=new WeakMap;function VE(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",a)},s=()=>{n(Rn(e.result)),i()},a=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",a)});return t.then(n=>{n instanceof IDBCursor&&_f.set(n,e)}).catch(()=>{}),Ml.set(t,e),t}function DE(e){if($a.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",a),e.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",a),e.addEventListener("abort",a)});$a.set(e,t)}let Fa={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return $a.get(e);if(t==="objectStoreNames")return e.objectStoreNames||bf.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rn(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function NE(e){Fa=e(Fa)}function ME(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(ha(this),t,...n);return bf.set(r,t.sort?t.sort():[t]),Rn(r)}:kE().includes(e)?function(...t){return e.apply(ha(this),t),Rn(_f.get(this))}:function(...t){return Rn(e.apply(ha(this),t))}}function OE(e){return typeof e=="function"?ME(e):(e instanceof IDBTransaction&&DE(e),xE(e,PE())?new Proxy(e,Fa):e)}function Rn(e){if(e instanceof IDBRequest)return VE(e);if(da.has(e))return da.get(e);const t=OE(e);return t!==e&&(da.set(e,t),Ml.set(t,e)),t}const ha=e=>Ml.get(e);function LE(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(e,t),l=Rn(a);return r&&a.addEventListener("upgradeneeded",c=>{r(Rn(a.result),c.oldVersion,c.newVersion,Rn(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const $E=["get","getKey","getAll","getAllKeys","count"],FE=["put","add","delete","clear"],fa=new Map;function od(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(fa.get(t))return fa.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=FE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||$E.includes(n)))return;const s=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return fa.set(t,s),s}NE(e=>({...e,get:(t,n,r)=>od(t,n)||e.get(t,n,r),has:(t,n)=>!!od(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UE(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Ba="@firebase/app",ad="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn=new vf("@firebase/app"),zE="@firebase/app-compat",jE="@firebase/analytics-compat",WE="@firebase/analytics",qE="@firebase/app-check-compat",HE="@firebase/app-check",GE="@firebase/auth",KE="@firebase/auth-compat",QE="@firebase/database",XE="@firebase/data-connect",YE="@firebase/database-compat",JE="@firebase/functions",ZE="@firebase/functions-compat",tT="@firebase/installations",eT="@firebase/installations-compat",nT="@firebase/messaging",rT="@firebase/messaging-compat",iT="@firebase/performance",sT="@firebase/performance-compat",oT="@firebase/remote-config",aT="@firebase/remote-config-compat",lT="@firebase/storage",cT="@firebase/storage-compat",uT="@firebase/firestore",dT="@firebase/vertexai",hT="@firebase/firestore-compat",fT="firebase",pT="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="[DEFAULT]",mT={[Ba]:"fire-core",[zE]:"fire-core-compat",[WE]:"fire-analytics",[jE]:"fire-analytics-compat",[HE]:"fire-app-check",[qE]:"fire-app-check-compat",[GE]:"fire-auth",[KE]:"fire-auth-compat",[QE]:"fire-rtdb",[XE]:"fire-data-connect",[YE]:"fire-rtdb-compat",[JE]:"fire-fn",[ZE]:"fire-fn-compat",[tT]:"fire-iid",[eT]:"fire-iid-compat",[nT]:"fire-fcm",[rT]:"fire-fcm-compat",[iT]:"fire-perf",[sT]:"fire-perf-compat",[oT]:"fire-rc",[aT]:"fire-rc-compat",[lT]:"fire-gcs",[cT]:"fire-gcs-compat",[uT]:"fire-fst",[hT]:"fire-fst-compat",[dT]:"fire-vertex","fire-js":"fire-js",[fT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Map,gT=new Map,za=new Map;function ld(e,t){try{e.container.addComponent(t)}catch(n){vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zs(e){const t=e.name;if(za.has(t))return vn.debug(`There were multiple attempts to register component ${t}.`),!1;za.set(t,e);for(const n of Us.values())ld(n,e);for(const n of gT.values())ld(n,e);return!0}function yT(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vT(e){return e==null?!1:e.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},An=new yf("app","Firebase",_T);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw An.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=pT;function Ef(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:Ua,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw An.create("bad-app-name",{appName:String(i)});if(n||(n=gf()),!n)throw An.create("no-options");const s=Us.get(i);if(s){if(ki(n,s.options)&&ki(r,s.config))return s;throw An.create("duplicate-app",{appName:i})}const a=new IE(i);for(const c of za.values())a.addComponent(c);const l=new bT(n,r,a);return Us.set(i,l),l}function TT(e=Ua){const t=Us.get(e);if(!t&&e===Ua&&gf())return Ef();if(!t)throw An.create("no-app",{appName:e});return t}function Sr(e,t,n){var r;let i=(r=mT[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const l=[`Unable to register library "${i}" with version "${t}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&l.push("and"),a&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vn.warn(l.join(" "));return}zs(new Vi(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="firebase-heartbeat-database",IT=1,Di="firebase-heartbeat-store";let pa=null;function Tf(){return pa||(pa=LE(wT,IT,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Di)}catch(n){console.warn(n)}}}}).catch(e=>{throw An.create("idb-open",{originalErrorMessage:e.message})})),pa}async function ST(e){try{const n=(await Tf()).transaction(Di),r=await n.objectStore(Di).get(wf(e));return await n.done,r}catch(t){if(t instanceof zr)vn.warn(t.message);else{const n=An.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});vn.warn(n.message)}}}async function cd(e,t){try{const r=(await Tf()).transaction(Di,"readwrite");await r.objectStore(Di).put(t,wf(e)),await r.done}catch(n){if(n instanceof zr)vn.warn(n.message);else{const r=An.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});vn.warn(r.message)}}}function wf(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=1024,RT=30;class AT{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new PT(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ud();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>RT){const a=kT(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){vn.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ud(),{heartbeatsToSend:r,unsentEntries:i}=xT(this._heartbeatsCache.heartbeats),s=Bs(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return vn.warn(n),""}}}function ud(){return new Date().toISOString().substring(0,10)}function xT(e,t=CT){const n=[];let r=e.slice();for(const i of e){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),dd(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dd(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class PT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gE()?yE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ST(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cd(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function dd(e){return Bs(JSON.stringify({version:2,heartbeats:e})).length}function kT(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(e){zs(new Vi("platform-logger",t=>new BE(t),"PRIVATE")),zs(new Vi("heartbeat",t=>new AT(t),"PRIVATE")),Sr(Ba,ad,e),Sr(Ba,ad,"esm2017"),Sr("fire-js","")}VT("");var DT="firebase",NT="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Sr(DT,NT,"app");var hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xn,If;(function(){var e;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(T,g){function S(){}S.prototype=g.prototype,T.D=g.prototype,T.prototype=new S,T.prototype.constructor=T,T.C=function(h,w,C){for(var b=Array(arguments.length-2),q=2;q<arguments.length;q++)b[q-2]=arguments[q];return g.prototype[w].apply(h,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,g,S){S||(S=0);var h=Array(16);if(typeof g=="string")for(var w=0;16>w;++w)h[w]=g.charCodeAt(S++)|g.charCodeAt(S++)<<8|g.charCodeAt(S++)<<16|g.charCodeAt(S++)<<24;else for(w=0;16>w;++w)h[w]=g[S++]|g[S++]<<8|g[S++]<<16|g[S++]<<24;g=T.g[0],S=T.g[1],w=T.g[2];var C=T.g[3],b=g+(C^S&(w^C))+h[0]+3614090360&4294967295;g=S+(b<<7&4294967295|b>>>25),b=C+(w^g&(S^w))+h[1]+3905402710&4294967295,C=g+(b<<12&4294967295|b>>>20),b=w+(S^C&(g^S))+h[2]+606105819&4294967295,w=C+(b<<17&4294967295|b>>>15),b=S+(g^w&(C^g))+h[3]+3250441966&4294967295,S=w+(b<<22&4294967295|b>>>10),b=g+(C^S&(w^C))+h[4]+4118548399&4294967295,g=S+(b<<7&4294967295|b>>>25),b=C+(w^g&(S^w))+h[5]+1200080426&4294967295,C=g+(b<<12&4294967295|b>>>20),b=w+(S^C&(g^S))+h[6]+2821735955&4294967295,w=C+(b<<17&4294967295|b>>>15),b=S+(g^w&(C^g))+h[7]+4249261313&4294967295,S=w+(b<<22&4294967295|b>>>10),b=g+(C^S&(w^C))+h[8]+1770035416&4294967295,g=S+(b<<7&4294967295|b>>>25),b=C+(w^g&(S^w))+h[9]+2336552879&4294967295,C=g+(b<<12&4294967295|b>>>20),b=w+(S^C&(g^S))+h[10]+4294925233&4294967295,w=C+(b<<17&4294967295|b>>>15),b=S+(g^w&(C^g))+h[11]+2304563134&4294967295,S=w+(b<<22&4294967295|b>>>10),b=g+(C^S&(w^C))+h[12]+1804603682&4294967295,g=S+(b<<7&4294967295|b>>>25),b=C+(w^g&(S^w))+h[13]+4254626195&4294967295,C=g+(b<<12&4294967295|b>>>20),b=w+(S^C&(g^S))+h[14]+2792965006&4294967295,w=C+(b<<17&4294967295|b>>>15),b=S+(g^w&(C^g))+h[15]+1236535329&4294967295,S=w+(b<<22&4294967295|b>>>10),b=g+(w^C&(S^w))+h[1]+4129170786&4294967295,g=S+(b<<5&4294967295|b>>>27),b=C+(S^w&(g^S))+h[6]+3225465664&4294967295,C=g+(b<<9&4294967295|b>>>23),b=w+(g^S&(C^g))+h[11]+643717713&4294967295,w=C+(b<<14&4294967295|b>>>18),b=S+(C^g&(w^C))+h[0]+3921069994&4294967295,S=w+(b<<20&4294967295|b>>>12),b=g+(w^C&(S^w))+h[5]+3593408605&4294967295,g=S+(b<<5&4294967295|b>>>27),b=C+(S^w&(g^S))+h[10]+38016083&4294967295,C=g+(b<<9&4294967295|b>>>23),b=w+(g^S&(C^g))+h[15]+3634488961&4294967295,w=C+(b<<14&4294967295|b>>>18),b=S+(C^g&(w^C))+h[4]+3889429448&4294967295,S=w+(b<<20&4294967295|b>>>12),b=g+(w^C&(S^w))+h[9]+568446438&4294967295,g=S+(b<<5&4294967295|b>>>27),b=C+(S^w&(g^S))+h[14]+3275163606&4294967295,C=g+(b<<9&4294967295|b>>>23),b=w+(g^S&(C^g))+h[3]+4107603335&4294967295,w=C+(b<<14&4294967295|b>>>18),b=S+(C^g&(w^C))+h[8]+1163531501&4294967295,S=w+(b<<20&4294967295|b>>>12),b=g+(w^C&(S^w))+h[13]+2850285829&4294967295,g=S+(b<<5&4294967295|b>>>27),b=C+(S^w&(g^S))+h[2]+4243563512&4294967295,C=g+(b<<9&4294967295|b>>>23),b=w+(g^S&(C^g))+h[7]+1735328473&4294967295,w=C+(b<<14&4294967295|b>>>18),b=S+(C^g&(w^C))+h[12]+2368359562&4294967295,S=w+(b<<20&4294967295|b>>>12),b=g+(S^w^C)+h[5]+4294588738&4294967295,g=S+(b<<4&4294967295|b>>>28),b=C+(g^S^w)+h[8]+2272392833&4294967295,C=g+(b<<11&4294967295|b>>>21),b=w+(C^g^S)+h[11]+1839030562&4294967295,w=C+(b<<16&4294967295|b>>>16),b=S+(w^C^g)+h[14]+4259657740&4294967295,S=w+(b<<23&4294967295|b>>>9),b=g+(S^w^C)+h[1]+2763975236&4294967295,g=S+(b<<4&4294967295|b>>>28),b=C+(g^S^w)+h[4]+1272893353&4294967295,C=g+(b<<11&4294967295|b>>>21),b=w+(C^g^S)+h[7]+4139469664&4294967295,w=C+(b<<16&4294967295|b>>>16),b=S+(w^C^g)+h[10]+3200236656&4294967295,S=w+(b<<23&4294967295|b>>>9),b=g+(S^w^C)+h[13]+681279174&4294967295,g=S+(b<<4&4294967295|b>>>28),b=C+(g^S^w)+h[0]+3936430074&4294967295,C=g+(b<<11&4294967295|b>>>21),b=w+(C^g^S)+h[3]+3572445317&4294967295,w=C+(b<<16&4294967295|b>>>16),b=S+(w^C^g)+h[6]+76029189&4294967295,S=w+(b<<23&4294967295|b>>>9),b=g+(S^w^C)+h[9]+3654602809&4294967295,g=S+(b<<4&4294967295|b>>>28),b=C+(g^S^w)+h[12]+3873151461&4294967295,C=g+(b<<11&4294967295|b>>>21),b=w+(C^g^S)+h[15]+530742520&4294967295,w=C+(b<<16&4294967295|b>>>16),b=S+(w^C^g)+h[2]+3299628645&4294967295,S=w+(b<<23&4294967295|b>>>9),b=g+(w^(S|~C))+h[0]+4096336452&4294967295,g=S+(b<<6&4294967295|b>>>26),b=C+(S^(g|~w))+h[7]+1126891415&4294967295,C=g+(b<<10&4294967295|b>>>22),b=w+(g^(C|~S))+h[14]+2878612391&4294967295,w=C+(b<<15&4294967295|b>>>17),b=S+(C^(w|~g))+h[5]+4237533241&4294967295,S=w+(b<<21&4294967295|b>>>11),b=g+(w^(S|~C))+h[12]+1700485571&4294967295,g=S+(b<<6&4294967295|b>>>26),b=C+(S^(g|~w))+h[3]+2399980690&4294967295,C=g+(b<<10&4294967295|b>>>22),b=w+(g^(C|~S))+h[10]+4293915773&4294967295,w=C+(b<<15&4294967295|b>>>17),b=S+(C^(w|~g))+h[1]+2240044497&4294967295,S=w+(b<<21&4294967295|b>>>11),b=g+(w^(S|~C))+h[8]+1873313359&4294967295,g=S+(b<<6&4294967295|b>>>26),b=C+(S^(g|~w))+h[15]+4264355552&4294967295,C=g+(b<<10&4294967295|b>>>22),b=w+(g^(C|~S))+h[6]+2734768916&4294967295,w=C+(b<<15&4294967295|b>>>17),b=S+(C^(w|~g))+h[13]+1309151649&4294967295,S=w+(b<<21&4294967295|b>>>11),b=g+(w^(S|~C))+h[4]+4149444226&4294967295,g=S+(b<<6&4294967295|b>>>26),b=C+(S^(g|~w))+h[11]+3174756917&4294967295,C=g+(b<<10&4294967295|b>>>22),b=w+(g^(C|~S))+h[2]+718787259&4294967295,w=C+(b<<15&4294967295|b>>>17),b=S+(C^(w|~g))+h[9]+3951481745&4294967295,T.g[0]=T.g[0]+g&4294967295,T.g[1]=T.g[1]+(w+(b<<21&4294967295|b>>>11))&4294967295,T.g[2]=T.g[2]+w&4294967295,T.g[3]=T.g[3]+C&4294967295}r.prototype.u=function(T,g){g===void 0&&(g=T.length);for(var S=g-this.blockSize,h=this.B,w=this.h,C=0;C<g;){if(w==0)for(;C<=S;)i(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<g;)if(h[w++]=T.charCodeAt(C++),w==this.blockSize){i(this,h),w=0;break}}else for(;C<g;)if(h[w++]=T[C++],w==this.blockSize){i(this,h),w=0;break}}this.h=w,this.o+=g},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var g=1;g<T.length-8;++g)T[g]=0;var S=8*this.o;for(g=T.length-8;g<T.length;++g)T[g]=S&255,S/=256;for(this.u(T),T=Array(16),g=S=0;4>g;++g)for(var h=0;32>h;h+=8)T[S++]=this.g[g]>>>h&255;return T};function s(T,g){var S=l;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=g(T)}function a(T,g){this.h=g;for(var S=[],h=!0,w=T.length-1;0<=w;w--){var C=T[w]|0;h&&C==g||(S[w]=C,h=!1)}this.g=S}var l={};function c(T){return-128<=T&&128>T?s(T,function(g){return new a([g|0],0>g?-1:0)}):new a([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return m;if(0>T)return R(d(-T));for(var g=[],S=1,h=0;T>=S;h++)g[h]=T/S|0,S*=4294967296;return new a(g,0)}function p(T,g){if(T.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(T.charAt(0)=="-")return R(p(T.substring(1),g));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=d(Math.pow(g,8)),h=m,w=0;w<T.length;w+=8){var C=Math.min(8,T.length-w),b=parseInt(T.substring(w,w+C),g);8>C?(C=d(Math.pow(g,C)),h=h.j(C).add(d(b))):(h=h.j(S),h=h.add(d(b)))}return h}var m=c(0),y=c(1),_=c(16777216);e=a.prototype,e.m=function(){if(E(this))return-R(this).m();for(var T=0,g=1,S=0;S<this.g.length;S++){var h=this.i(S);T+=(0<=h?h:4294967296+h)*g,g*=4294967296}return T},e.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(I(this))return"0";if(E(this))return"-"+R(this).toString(T);for(var g=d(Math.pow(T,6)),S=this,h="";;){var w=P(S,g).g;S=V(S,w.j(g));var C=((0<S.g.length?S.g[0]:S.h)>>>0).toString(T);if(S=w,I(S))return C+h;for(;6>C.length;)C="0"+C;h=C+h}},e.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function I(T){if(T.h!=0)return!1;for(var g=0;g<T.g.length;g++)if(T.g[g]!=0)return!1;return!0}function E(T){return T.h==-1}e.l=function(T){return T=V(this,T),E(T)?-1:I(T)?0:1};function R(T){for(var g=T.g.length,S=[],h=0;h<g;h++)S[h]=~T.g[h];return new a(S,~T.h).add(y)}e.abs=function(){return E(this)?R(this):this},e.add=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],h=0,w=0;w<=g;w++){var C=h+(this.i(w)&65535)+(T.i(w)&65535),b=(C>>>16)+(this.i(w)>>>16)+(T.i(w)>>>16);h=b>>>16,C&=65535,b&=65535,S[w]=b<<16|C}return new a(S,S[S.length-1]&-2147483648?-1:0)};function V(T,g){return T.add(R(g))}e.j=function(T){if(I(this)||I(T))return m;if(E(this))return E(T)?R(this).j(R(T)):R(R(this).j(T));if(E(T))return R(this.j(R(T)));if(0>this.l(_)&&0>T.l(_))return d(this.m()*T.m());for(var g=this.g.length+T.g.length,S=[],h=0;h<2*g;h++)S[h]=0;for(h=0;h<this.g.length;h++)for(var w=0;w<T.g.length;w++){var C=this.i(h)>>>16,b=this.i(h)&65535,q=T.i(w)>>>16,B=T.i(w)&65535;S[2*h+2*w]+=b*B,N(S,2*h+2*w),S[2*h+2*w+1]+=C*B,N(S,2*h+2*w+1),S[2*h+2*w+1]+=b*q,N(S,2*h+2*w+1),S[2*h+2*w+2]+=C*q,N(S,2*h+2*w+2)}for(h=0;h<g;h++)S[h]=S[2*h+1]<<16|S[2*h];for(h=g;h<2*g;h++)S[h]=0;return new a(S,0)};function N(T,g){for(;(T[g]&65535)!=T[g];)T[g+1]+=T[g]>>>16,T[g]&=65535,g++}function x(T,g){this.g=T,this.h=g}function P(T,g){if(I(g))throw Error("division by zero");if(I(T))return new x(m,m);if(E(T))return g=P(R(T),g),new x(R(g.g),R(g.h));if(E(g))return g=P(T,R(g)),new x(R(g.g),g.h);if(30<T.g.length){if(E(T)||E(g))throw Error("slowDivide_ only works with positive integers.");for(var S=y,h=g;0>=h.l(T);)S=k(S),h=k(h);var w=M(S,1),C=M(h,1);for(h=M(h,2),S=M(S,2);!I(h);){var b=C.add(h);0>=b.l(T)&&(w=w.add(S),C=b),h=M(h,1),S=M(S,1)}return g=V(T,w.j(g)),new x(w,g)}for(w=m;0<=T.l(g);){for(S=Math.max(1,Math.floor(T.m()/g.m())),h=Math.ceil(Math.log(S)/Math.LN2),h=48>=h?1:Math.pow(2,h-48),C=d(S),b=C.j(g);E(b)||0<b.l(T);)S-=h,C=d(S),b=C.j(g);I(C)&&(C=y),w=w.add(C),T=V(T,b)}return new x(w,T)}e.A=function(T){return P(this,T).h},e.and=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],h=0;h<g;h++)S[h]=this.i(h)&T.i(h);return new a(S,this.h&T.h)},e.or=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],h=0;h<g;h++)S[h]=this.i(h)|T.i(h);return new a(S,this.h|T.h)},e.xor=function(T){for(var g=Math.max(this.g.length,T.g.length),S=[],h=0;h<g;h++)S[h]=this.i(h)^T.i(h);return new a(S,this.h^T.h)};function k(T){for(var g=T.g.length+1,S=[],h=0;h<g;h++)S[h]=T.i(h)<<1|T.i(h-1)>>>31;return new a(S,T.h)}function M(T,g){var S=g>>5;g%=32;for(var h=T.g.length-S,w=[],C=0;C<h;C++)w[C]=0<g?T.i(C+S)>>>g|T.i(C+S+1)<<32-g:T.i(C+S);return new a(w,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,If=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=p,xn=a}).apply(typeof hd<"u"?hd:typeof self<"u"?self:typeof window<"u"?window:{});var vs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Sf,gi,Cf,As,ja,Rf,Af,xf;(function(){var e,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,f){return o==Array.prototype||o==Object.prototype||(o[u]=f.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof vs=="object"&&vs];for(var u=0;u<o.length;++u){var f=o[u];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(o,u){if(u)t:{var f=r;o=o.split(".");for(var v=0;v<o.length-1;v++){var D=o[v];if(!(D in f))break t;f=f[D]}o=o[o.length-1],v=f[o],u=u(v),u!=v&&u!=null&&t(f,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var f=0,v=!1,D={next:function(){if(!v&&f<o.length){var O=f++;return{value:u(O,o[O]),done:!1}}return v=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,f){return f})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},l=this||self;function c(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function d(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function p(o,u,f){return o.call.apply(o.bind,arguments)}function m(o,u,f){if(!o)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,v),o.apply(u,D)}}return function(){return o.apply(u,arguments)}}function y(o,u,f){return y=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:m,y.apply(null,arguments)}function _(o,u){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),o.apply(this,v)}}function I(o,u){function f(){}f.prototype=u.prototype,o.aa=u.prototype,o.prototype=new f,o.prototype.constructor=o,o.Qb=function(v,D,O){for(var W=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)W[Ct-2]=arguments[Ct];return u.prototype[D].apply(v,W)}}function E(o){const u=o.length;if(0<u){const f=Array(u);for(let v=0;v<u;v++)f[v]=o[v];return f}return[]}function R(o,u){for(let f=1;f<arguments.length;f++){const v=arguments[f];if(c(v)){const D=o.length||0,O=v.length||0;o.length=D+O;for(let W=0;W<O;W++)o[D+W]=v[W]}else o.push(v)}}class V{constructor(u,f){this.i=u,this.j=f,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function N(o){return/^[\s\xa0]*$/.test(o)}function x(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function P(o){return P[" "](o),o}P[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function M(o,u,f){for(const v in o)u.call(f,o[v],v,o)}function T(o,u){for(const f in o)u.call(void 0,o[f],f,o)}function g(o){const u={};for(const f in o)u[f]=o[f];return u}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function h(o,u){let f,v;for(let D=1;D<arguments.length;D++){v=arguments[D];for(f in v)o[f]=v[f];for(let O=0;O<S.length;O++)f=S[O],Object.prototype.hasOwnProperty.call(v,f)&&(o[f]=v[f])}}function w(o){var u=1;o=o.split(":");const f=[];for(;0<u&&o.length;)f.push(o.shift()),u--;return o.length&&f.push(o.join(":")),f}function C(o){l.setTimeout(()=>{throw o},0)}function b(){var o=j;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class q{constructor(){this.h=this.g=null}add(u,f){const v=B.get();v.set(u,f),this.h?this.h.next=v:this.g=v,this.h=v}}var B=new V(()=>new z,o=>o.reset());class z{constructor(){this.next=this.g=this.h=null}set(u,f){this.h=u,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let G,st=!1,j=new q,ht=()=>{const o=l.Promise.resolve(void 0);G=()=>{o.then(Et)}};var Et=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(f){C(f)}var u=B;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}st=!1};function Dt(){this.s=this.s,this.C=this.C}Dt.prototype.s=!1,Dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function rt(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}rt.prototype.h=function(){this.defaultPrevented=!0};var Tt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,u),l.removeEventListener("test",f,u)}catch{}return o}();function mt(o,u){if(rt.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var f=this.type=o.type,v=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(k){t:{try{P(u.nodeName);var D=!0;break t}catch{}D=!1}D||(u=null)}}else f=="mouseover"?u=o.fromElement:f=="mouseout"&&(u=o.toElement);this.relatedTarget=u,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:pe[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&mt.aa.h.call(this)}}I(mt,rt);var pe={2:"touch",3:"pen",4:"mouse"};mt.prototype.h=function(){mt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var zt="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Lt(o,u,f,v,D){this.listener=o,this.proxy=null,this.src=u,this.type=f,this.capture=!!v,this.ha=D,this.key=++Ie,this.da=this.fa=!1}function tt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ot(o){this.src=o,this.g={},this.h=0}ot.prototype.add=function(o,u,f,v,D){var O=o.toString();o=this.g[O],o||(o=this.g[O]=[],this.h++);var W=jt(o,u,v,D);return-1<W?(u=o[W],f||(u.fa=!1)):(u=new Lt(u,this.src,O,!!v,D),u.fa=f,o.push(u)),u};function at(o,u){var f=u.type;if(f in o.g){var v=o.g[f],D=Array.prototype.indexOf.call(v,u,void 0),O;(O=0<=D)&&Array.prototype.splice.call(v,D,1),O&&(tt(u),o.g[f].length==0&&(delete o.g[f],o.h--))}}function jt(o,u,f,v){for(var D=0;D<o.length;++D){var O=o[D];if(!O.da&&O.listener==u&&O.capture==!!f&&O.ha==v)return D}return-1}var ut="closure_lm_"+(1e6*Math.random()|0),wt={};function me(o,u,f,v,D){if(Array.isArray(u)){for(var O=0;O<u.length;O++)me(o,u[O],f,v,D);return null}return f=an(f),o&&o[zt]?o.K(u,f,d(v)?!!v.capture:!1,D):le(o,u,f,!1,v,D)}function le(o,u,f,v,D,O){if(!u)throw Error("Invalid event type");var W=d(D)?!!D.capture:!!D,Ct=qe(o);if(Ct||(o[ut]=Ct=new ot(o)),f=Ct.add(u,f,v,W,O),f.proxy)return f;if(v=Jt(),f.proxy=v,v.src=o,v.listener=f,o.addEventListener)Tt||(D=W),D===void 0&&(D=!1),o.addEventListener(u.toString(),v,D);else if(o.attachEvent)o.attachEvent(Wt(u.toString()),v);else if(o.addListener&&o.removeListener)o.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function Jt(){function o(f){return u.call(o.src,o.listener,f)}const u=Q;return o}function Pe(o,u,f,v,D){if(Array.isArray(u))for(var O=0;O<u.length;O++)Pe(o,u[O],f,v,D);else v=d(v)?!!v.capture:!!v,f=an(f),o&&o[zt]?(o=o.i,u=String(u).toString(),u in o.g&&(O=o.g[u],f=jt(O,f,v,D),-1<f&&(tt(O[f]),Array.prototype.splice.call(O,f,1),O.length==0&&(delete o.g[u],o.h--)))):o&&(o=qe(o))&&(u=o.g[u.toString()],o=-1,u&&(o=jt(u,f,v,D)),(f=-1<o?u[o]:null)&&ee(f))}function ee(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[zt])at(u.i,o);else{var f=o.type,v=o.proxy;u.removeEventListener?u.removeEventListener(f,v,o.capture):u.detachEvent?u.detachEvent(Wt(f),v):u.addListener&&u.removeListener&&u.removeListener(v),(f=qe(u))?(at(f,o),f.h==0&&(f.src=null,u[ut]=null)):tt(o)}}}function Wt(o){return o in wt?wt[o]:wt[o]="on"+o}function Q(o,u){if(o.da)o=!0;else{u=new mt(u,this);var f=o.listener,v=o.ha||o.src;o.fa&&ee(o),o=f.call(v,u)}return o}function qe(o){return o=o[ut],o instanceof ot?o:null}var oe="__closure_events_fn_"+(1e9*Math.random()>>>0);function an(o){return typeof o=="function"?o:(o[oe]||(o[oe]=function(u){return o.handleEvent(u)}),o[oe])}function qt(){Dt.call(this),this.i=new ot(this),this.M=this,this.F=null}I(qt,Dt),qt.prototype[zt]=!0,qt.prototype.removeEventListener=function(o,u,f,v){Pe(this,o,u,f,v)};function Qt(o,u){var f,v=o.F;if(v)for(f=[];v;v=v.F)f.push(v);if(o=o.M,v=u.type||u,typeof u=="string")u=new rt(u,o);else if(u instanceof rt)u.target=u.target||o;else{var D=u;u=new rt(v,o),h(u,D)}if(D=!0,f)for(var O=f.length-1;0<=O;O--){var W=u.g=f[O];D=Be(W,v,!0,u)&&D}if(W=u.g=o,D=Be(W,v,!0,u)&&D,D=Be(W,v,!1,u)&&D,f)for(O=0;O<f.length;O++)W=u.g=f[O],D=Be(W,v,!1,u)&&D}qt.prototype.N=function(){if(qt.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var f=o.g[u],v=0;v<f.length;v++)tt(f[v]);delete o.g[u],o.h--}}this.F=null},qt.prototype.K=function(o,u,f,v){return this.i.add(String(o),u,!1,f,v)},qt.prototype.L=function(o,u,f,v){return this.i.add(String(o),u,!0,f,v)};function Be(o,u,f,v){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var D=!0,O=0;O<u.length;++O){var W=u[O];if(W&&!W.da&&W.capture==f){var Ct=W.listener,ce=W.ha||W.src;W.fa&&at(o.i,W),D=Ct.call(ce,v)!==!1&&D}}return D&&!v.defaultPrevented}function ln(o,u,f){if(typeof o=="function")f&&(o=y(o,f));else if(o&&typeof o.handleEvent=="function")o=y(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:l.setTimeout(o,u||0)}function He(o){o.g=ln(()=>{o.g=null,o.i&&(o.i=!1,He(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class xt extends Dt{constructor(u,f){super(),this.m=u,this.l=f,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:He(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oe(o){Dt.call(this),this.h=o,this.g={}}I(Oe,Dt);var En=[];function Gr(o){M(o.g,function(u,f){this.g.hasOwnProperty(f)&&ee(u)},o),o.g={}}Oe.prototype.N=function(){Oe.aa.N.call(this),Gr(this)},Oe.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Y=l.JSON.stringify,St=l.JSON.parse,ne=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ge(){}Ge.prototype.h=null;function Kr(o){return o.h||(o.h=o.i())}function fc(){}var Qr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fo(){rt.call(this,"d")}I(Fo,rt);function Bo(){rt.call(this,"c")}I(Bo,rt);var Un={},pc=null;function Yi(){return pc=pc||new qt}Un.La="serverreachability";function mc(o){rt.call(this,Un.La,o)}I(mc,rt);function Xr(o){const u=Yi();Qt(u,new mc(u))}Un.STAT_EVENT="statevent";function gc(o,u){rt.call(this,Un.STAT_EVENT,o),this.stat=u}I(gc,rt);function Se(o){const u=Yi();Qt(u,new gc(u,o))}Un.Ma="timingevent";function yc(o,u){rt.call(this,Un.Ma,o),this.size=u}I(yc,rt);function Yr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},u)}function Jr(){this.g=!0}Jr.prototype.xa=function(){this.g=!1};function Xp(o,u,f,v,D,O){o.info(function(){if(o.g)if(O)for(var W="",Ct=O.split("&"),ce=0;ce<Ct.length;ce++){var gt=Ct[ce].split("=");if(1<gt.length){var ge=gt[0];gt=gt[1];var ye=ge.split("_");W=2<=ye.length&&ye[1]=="type"?W+(ge+"="+gt+"&"):W+(ge+"=redacted&")}}else W=null;else W=O;return"XMLHTTP REQ ("+v+") [attempt "+D+"]: "+u+`
`+f+`
`+W})}function Yp(o,u,f,v,D,O,W){o.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+D+"]: "+u+`
`+f+`
`+O+" "+W})}function lr(o,u,f,v){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Zp(o,f)+(v?" "+v:"")})}function Jp(o,u){o.info(function(){return"TIMEOUT: "+u})}Jr.prototype.info=function(){};function Zp(o,u){if(!o.g)return u;if(!u)return null;try{var f=JSON.parse(u);if(f){for(o=0;o<f.length;o++)if(Array.isArray(f[o])){var v=f[o];if(!(2>v.length)){var D=v[1];if(Array.isArray(D)&&!(1>D.length)){var O=D[0];if(O!="noop"&&O!="stop"&&O!="close")for(var W=1;W<D.length;W++)D[W]=""}}}}return Y(f)}catch{return u}}var Ji={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Uo;function Zi(){}I(Zi,Ge),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Uo=new Zi;function Tn(o,u,f,v){this.j=o,this.i=u,this.l=f,this.R=v||1,this.U=new Oe(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _c}function _c(){this.i=null,this.g="",this.h=!1}var bc={},zo={};function jo(o,u,f){o.L=1,o.v=rs(cn(u)),o.m=f,o.P=!0,Ec(o,null)}function Ec(o,u){o.F=Date.now(),ts(o),o.A=cn(o.v);var f=o.A,v=o.R;Array.isArray(v)||(v=[String(v)]),Mc(f.i,"t",v),o.C=0,f=o.j.J,o.h=new _c,o.g=Zc(o.j,f?u:null,!o.m),0<o.O&&(o.M=new xt(y(o.Y,o,o.g),o.O)),u=o.U,f=o.g,v=o.ca;var D="readystatechange";Array.isArray(D)||(D&&(En[0]=D.toString()),D=En);for(var O=0;O<D.length;O++){var W=me(f,D[O],v||u.handleEvent,!1,u.h||u);if(!W)break;u.g[W.key]=W}u=o.H?g(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),Xr(),Xp(o.i,o.u,o.A,o.l,o.R,o.m)}Tn.prototype.ca=function(o){o=o.target;const u=this.M;u&&un(o)==3?u.j():this.Y(o)},Tn.prototype.Y=function(o){try{if(o==this.g)t:{const ye=un(this.g);var u=this.g.Ba();const dr=this.g.Z();if(!(3>ye)&&(ye!=3||this.g&&(this.h.h||this.g.oa()||zc(this.g)))){this.J||ye!=4||u==7||(u==8||0>=dr?Xr(3):Xr(2)),Wo(this);var f=this.g.Z();this.X=f;e:if(Tc(this)){var v=zc(this.g);o="";var D=v.length,O=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zn(this),Zr(this);var W="";break e}this.h.i=new l.TextDecoder}for(u=0;u<D;u++)this.h.h=!0,o+=this.h.i.decode(v[u],{stream:!(O&&u==D-1)});v.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=f==200,Yp(this.i,this.u,this.A,this.l,this.R,ye,f),this.o){if(this.T&&!this.K){e:{if(this.g){var Ct,ce=this.g;if((Ct=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(Ct)){var gt=Ct;break e}}gt=null}if(f=gt)lr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qo(this,f);else{this.o=!1,this.s=3,Se(12),zn(this),Zr(this);break t}}if(this.P){f=!0;let Ue;for(;!this.J&&this.C<W.length;)if(Ue=tm(this,W),Ue==zo){ye==4&&(this.s=4,Se(14),f=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==bc){this.s=4,Se(15),lr(this.i,this.l,W,"[Invalid Chunk]"),f=!1;break}else lr(this.i,this.l,Ue,null),qo(this,Ue);if(Tc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ye!=4||W.length!=0||this.h.h||(this.s=1,Se(16),f=!1),this.o=this.o&&f,!f)lr(this.i,this.l,W,"[Invalid Chunked Response]"),zn(this),Zr(this);else if(0<W.length&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.ba&&!ge.M&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yo(ge),ge.M=!0,Se(11))}}else lr(this.i,this.l,W,null),qo(this,W);ye==4&&zn(this),this.o&&!this.J&&(ye==4?Qc(this.j,this):(this.o=!1,ts(this)))}else ym(this.g),f==400&&0<W.indexOf("Unknown SID")?(this.s=3,Se(12)):(this.s=0,Se(13)),zn(this),Zr(this)}}}catch{}finally{}};function Tc(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function tm(o,u){var f=o.C,v=u.indexOf(`
`,f);return v==-1?zo:(f=Number(u.substring(f,v)),isNaN(f)?bc:(v+=1,v+f>u.length?zo:(u=u.slice(v,v+f),o.C=v+f,u)))}Tn.prototype.cancel=function(){this.J=!0,zn(this)};function ts(o){o.S=Date.now()+o.I,wc(o,o.I)}function wc(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Yr(y(o.ba,o),u)}function Wo(o){o.B&&(l.clearTimeout(o.B),o.B=null)}Tn.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Jp(this.i,this.A),this.L!=2&&(Xr(),Se(17)),zn(this),this.s=2,Zr(this)):wc(this,this.S-o)};function Zr(o){o.j.G==0||o.J||Qc(o.j,o)}function zn(o){Wo(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,Gr(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function qo(o,u){try{var f=o.j;if(f.G!=0&&(f.g==o||Ho(f.h,o))){if(!o.K&&Ho(f.h,o)&&f.G==3){try{var v=f.Da.g.parse(u)}catch{v=null}if(Array.isArray(v)&&v.length==3){var D=v;if(D[0]==0){t:if(!f.u){if(f.g)if(f.g.F+3e3<o.F)cs(f),as(f);else break t;Xo(f),Se(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=Yr(y(f.Za,f),6e3));if(1>=Cc(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Wn(f,11)}else if((o.K||f.g==o)&&cs(f),!N(u))for(D=f.Da.g.parse(u),u=0;u<D.length;u++){let gt=D[u];if(f.T=gt[0],gt=gt[1],f.G==2)if(gt[0]=="c"){f.K=gt[1],f.ia=gt[2];const ge=gt[3];ge!=null&&(f.la=ge,f.j.info("VER="+f.la));const ye=gt[4];ye!=null&&(f.Aa=ye,f.j.info("SVER="+f.Aa));const dr=gt[5];dr!=null&&typeof dr=="number"&&0<dr&&(v=1.5*dr,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;const Ue=o.g;if(Ue){const ds=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ds){var O=v.h;O.g||ds.indexOf("spdy")==-1&&ds.indexOf("quic")==-1&&ds.indexOf("h2")==-1||(O.j=O.l,O.g=new Set,O.h&&(Go(O,O.h),O.h=null))}if(v.D){const Jo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(v.ya=Jo,Nt(v.I,v.D,Jo))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-o.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var W=o;if(v.qa=Jc(v,v.J?v.ia:null,v.W),W.K){Rc(v.h,W);var Ct=W,ce=v.L;ce&&(Ct.I=ce),Ct.B&&(Wo(Ct),ts(Ct)),v.g=W}else Gc(v);0<f.i.length&&ls(f)}else gt[0]!="stop"&&gt[0]!="close"||Wn(f,7);else f.G==3&&(gt[0]=="stop"||gt[0]=="close"?gt[0]=="stop"?Wn(f,7):Qo(f):gt[0]!="noop"&&f.l&&f.l.ta(gt),f.v=0)}}Xr(4)}catch{}}var em=class{constructor(o,u){this.g=o,this.map=u}};function Ic(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Sc(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Cc(o){return o.h?1:o.g?o.g.size:0}function Ho(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function Go(o,u){o.g?o.g.add(u):o.h=u}function Rc(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Ic.prototype.cancel=function(){if(this.i=Ac(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ac(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const f of o.g.values())u=u.concat(f.D);return u}return E(o.i)}function nm(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(c(o)){for(var u=[],f=o.length,v=0;v<f;v++)u.push(o[v]);return u}u=[],f=0;for(v in o)u[f++]=o[v];return u}function rm(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(c(o)||typeof o=="string"){var u=[];o=o.length;for(var f=0;f<o;f++)u.push(f);return u}u=[],f=0;for(const v in o)u[f++]=v;return u}}}function xc(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(c(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var f=rm(o),v=nm(o),D=v.length,O=0;O<D;O++)u.call(void 0,v[O],f&&f[O],o)}var Pc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function im(o,u){if(o){o=o.split("&");for(var f=0;f<o.length;f++){var v=o[f].indexOf("="),D=null;if(0<=v){var O=o[f].substring(0,v);D=o[f].substring(v+1)}else O=o[f];u(O,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function jn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof jn){this.h=o.h,es(this,o.j),this.o=o.o,this.g=o.g,ns(this,o.s),this.l=o.l;var u=o.i,f=new ni;f.i=u.i,u.g&&(f.g=new Map(u.g),f.h=u.h),kc(this,f),this.m=o.m}else o&&(u=String(o).match(Pc))?(this.h=!1,es(this,u[1]||"",!0),this.o=ti(u[2]||""),this.g=ti(u[3]||"",!0),ns(this,u[4]),this.l=ti(u[5]||"",!0),kc(this,u[6]||"",!0),this.m=ti(u[7]||"")):(this.h=!1,this.i=new ni(null,this.h))}jn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(ei(u,Vc,!0),":");var f=this.g;return(f||u=="file")&&(o.push("//"),(u=this.o)&&o.push(ei(u,Vc,!0),"@"),o.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&o.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(ei(f,f.charAt(0)=="/"?am:om,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",ei(f,cm)),o.join("")};function cn(o){return new jn(o)}function es(o,u,f){o.j=f?ti(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function ns(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function kc(o,u,f){u instanceof ni?(o.i=u,um(o.i,o.h)):(f||(u=ei(u,lm)),o.i=new ni(u,o.h))}function Nt(o,u,f){o.i.set(u,f)}function rs(o){return Nt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ti(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ei(o,u,f){return typeof o=="string"?(o=encodeURI(o).replace(u,sm),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function sm(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Vc=/[#\/\?@]/g,om=/[#\?:]/g,am=/[#\?]/g,lm=/[#\?@]/g,cm=/#/g;function ni(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function wn(o){o.g||(o.g=new Map,o.h=0,o.i&&im(o.i,function(u,f){o.add(decodeURIComponent(u.replace(/\+/g," ")),f)}))}e=ni.prototype,e.add=function(o,u){wn(this),this.i=null,o=cr(this,o);var f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(u),this.h+=1,this};function Dc(o,u){wn(o),u=cr(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function Nc(o,u){return wn(o),u=cr(o,u),o.g.has(u)}e.forEach=function(o,u){wn(this),this.g.forEach(function(f,v){f.forEach(function(D){o.call(u,D,v,this)},this)},this)},e.na=function(){wn(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),f=[];for(let v=0;v<u.length;v++){const D=o[v];for(let O=0;O<D.length;O++)f.push(u[v])}return f},e.V=function(o){wn(this);let u=[];if(typeof o=="string")Nc(this,o)&&(u=u.concat(this.g.get(cr(this,o))));else{o=Array.from(this.g.values());for(let f=0;f<o.length;f++)u=u.concat(o[f])}return u},e.set=function(o,u){return wn(this),this.i=null,o=cr(this,o),Nc(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},e.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Mc(o,u,f){Dc(o,u),0<f.length&&(o.i=null,o.g.set(cr(o,u),E(f)),o.h+=f.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var f=0;f<u.length;f++){var v=u[f];const O=encodeURIComponent(String(v)),W=this.V(v);for(v=0;v<W.length;v++){var D=O;W[v]!==""&&(D+="="+encodeURIComponent(String(W[v]))),o.push(D)}}return this.i=o.join("&")};function cr(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function um(o,u){u&&!o.j&&(wn(o),o.i=null,o.g.forEach(function(f,v){var D=v.toLowerCase();v!=D&&(Dc(this,v),Mc(this,D,f))},o)),o.j=u}function dm(o,u){const f=new Jr;if(l.Image){const v=new Image;v.onload=_(In,f,"TestLoadImage: loaded",!0,u,v),v.onerror=_(In,f,"TestLoadImage: error",!1,u,v),v.onabort=_(In,f,"TestLoadImage: abort",!1,u,v),v.ontimeout=_(In,f,"TestLoadImage: timeout",!1,u,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=o}else u(!1)}function hm(o,u){const f=new Jr,v=new AbortController,D=setTimeout(()=>{v.abort(),In(f,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:v.signal}).then(O=>{clearTimeout(D),O.ok?In(f,"TestPingServer: ok",!0,u):In(f,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(D),In(f,"TestPingServer: error",!1,u)})}function In(o,u,f,v,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),v(f)}catch{}}function fm(){this.g=new ne}function pm(o,u,f){const v=f||"";try{xc(o,function(D,O){let W=D;d(D)&&(W=Y(D)),u.push(v+O+"="+encodeURIComponent(W))})}catch(D){throw u.push(v+"type="+encodeURIComponent("_badmap")),D}}function is(o){this.l=o.Ub||null,this.j=o.eb||!1}I(is,Ge),is.prototype.g=function(){return new ss(this.l,this.j)},is.prototype.i=function(o){return function(){return o}}({});function ss(o,u){qt.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(ss,qt),e=ss.prototype,e.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,ii(this)},e.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||l).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},e.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Oc(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Oc(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}e.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?ri(this):ii(this),this.readyState==3&&Oc(this)}},e.Ra=function(o){this.g&&(this.response=this.responseText=o,ri(this))},e.Qa=function(o){this.g&&(this.response=o,ri(this))},e.ga=function(){this.g&&ri(this)};function ri(o){o.readyState=4,o.l=null,o.j=null,o.v=null,ii(o)}e.setRequestHeader=function(o,u){this.u.append(o,u)},e.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var f=u.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=u.next();return o.join(`\r
`)};function ii(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Lc(o){let u="";return M(o,function(f,v){u+=v,u+=":",u+=f,u+=`\r
`}),u}function Ko(o,u,f){t:{for(v in f){var v=!1;break t}v=!0}v||(f=Lc(f),typeof o=="string"?f!=null&&encodeURIComponent(String(f)):Nt(o,u,f))}function Ht(o){qt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ht,qt);var mm=/^https?$/i,gm=["POST","PUT"];e=Ht.prototype,e.Ha=function(o){this.J=o},e.ea=function(o,u,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Uo.g(),this.v=this.o?Kr(this.o):Kr(Uo),this.g.onreadystatechange=y(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(O){$c(this,O);return}if(o=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var D in v)f.set(D,v[D]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const O of v.keys())f.set(O,v.get(O));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(O=>O.toLowerCase()=="content-type"),D=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(gm,u,void 0))||v||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[O,W]of f)this.g.setRequestHeader(O,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Uc(this),this.u=!0,this.g.send(o),this.u=!1}catch(O){$c(this,O)}};function $c(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,Fc(o),os(o)}function Fc(o){o.A||(o.A=!0,Qt(o,"complete"),Qt(o,"error"))}e.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Qt(this,"complete"),Qt(this,"abort"),os(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),Ht.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bc(this):this.bb())},e.bb=function(){Bc(this)};function Bc(o){if(o.h&&typeof a<"u"&&(!o.v[1]||un(o)!=4||o.Z()!=2)){if(o.u&&un(o)==4)ln(o.Ea,0,o);else if(Qt(o,"readystatechange"),un(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break t;default:u=!1}var f;if(!(f=u)){var v;if(v=W===0){var D=String(o.D).match(Pc)[1]||null;!D&&l.self&&l.self.location&&(D=l.self.location.protocol.slice(0,-1)),v=!mm.test(D?D.toLowerCase():"")}f=v}if(f)Qt(o,"complete"),Qt(o,"success");else{o.m=6;try{var O=2<un(o)?o.g.statusText:""}catch{O=""}o.l=O+" ["+o.Z()+"]",Fc(o)}}finally{os(o)}}}}function os(o,u){if(o.g){Uc(o);const f=o.g,v=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Qt(o,"ready");try{f.onreadystatechange=v}catch{}}}function Uc(o){o.I&&(l.clearTimeout(o.I),o.I=null)}e.isActive=function(){return!!this.g};function un(o){return o.g?o.g.readyState:0}e.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},e.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),St(u)}};function zc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function ym(o){const u={};o=(o.g&&2<=un(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<o.length;v++){if(N(o[v]))continue;var f=w(o[v]);const D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const O=u[D]||[];u[D]=O,O.push(f)}T(u,function(v){return v.join(", ")})}e.Ba=function(){return this.m},e.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function si(o,u,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||u}function jc(o){this.Aa=0,this.i=[],this.j=new Jr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=si("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=si("baseRetryDelayMs",5e3,o),this.cb=si("retryDelaySeedMs",1e4,o),this.Wa=si("forwardChannelMaxRetries",2,o),this.wa=si("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ic(o&&o.concurrentRequestLimit),this.Da=new fm,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}e=jc.prototype,e.la=8,e.G=1,e.connect=function(o,u,f,v){Se(0),this.W=o,this.H=u||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=Jc(this,null,this.W),ls(this)};function Qo(o){if(Wc(o),o.G==3){var u=o.U++,f=cn(o.I);if(Nt(f,"SID",o.K),Nt(f,"RID",u),Nt(f,"TYPE","terminate"),oi(o,f),u=new Tn(o,o.j,u),u.L=2,u.v=rs(cn(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(u.v.toString(),"")}catch{}!f&&l.Image&&(new Image().src=u.v,f=!0),f||(u.g=Zc(u.j,null),u.g.ea(u.v)),u.F=Date.now(),ts(u)}Yc(o)}function as(o){o.g&&(Yo(o),o.g.cancel(),o.g=null)}function Wc(o){as(o),o.u&&(l.clearTimeout(o.u),o.u=null),cs(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function ls(o){if(!Sc(o.h)&&!o.s){o.s=!0;var u=o.Ga;G||ht(),st||(G(),st=!0),j.add(u,o),o.B=0}}function vm(o,u){return Cc(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Yr(y(o.Ga,o,u),Xc(o,o.B)),o.B++,!0)}e.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const D=new Tn(this,this.j,o);let O=this.o;if(this.S&&(O?(O=g(O),h(O,this.S)):O=this.S),this.m!==null||this.O||(D.H=O,O=null),this.P)t:{for(var u=0,f=0;f<this.i.length;f++){e:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break e}v=void 0}if(v===void 0)break;if(u+=v,4096<u){u=f;break t}if(u===4096||f===this.i.length-1){u=f+1;break t}}u=1e3}else u=1e3;u=Hc(this,D,u),f=cn(this.I),Nt(f,"RID",o),Nt(f,"CVER",22),this.D&&Nt(f,"X-HTTP-Session-Id",this.D),oi(this,f),O&&(this.O?u="headers="+encodeURIComponent(String(Lc(O)))+"&"+u:this.m&&Ko(f,this.m,O)),Go(this.h,D),this.Ua&&Nt(f,"TYPE","init"),this.P?(Nt(f,"$req",u),Nt(f,"SID","null"),D.T=!0,jo(D,f,null)):jo(D,f,u),this.G=2}}else this.G==3&&(o?qc(this,o):this.i.length==0||Sc(this.h)||qc(this))};function qc(o,u){var f;u?f=u.l:f=o.U++;const v=cn(o.I);Nt(v,"SID",o.K),Nt(v,"RID",f),Nt(v,"AID",o.T),oi(o,v),o.m&&o.o&&Ko(v,o.m,o.o),f=new Tn(o,o.j,f,o.B+1),o.m===null&&(f.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Hc(o,f,1e3),f.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Go(o.h,f),jo(f,v,u)}function oi(o,u){o.H&&M(o.H,function(f,v){Nt(u,v,f)}),o.l&&xc({},function(f,v){Nt(u,v,f)})}function Hc(o,u,f){f=Math.min(o.i.length,f);var v=o.l?y(o.l.Na,o.l,o):null;t:{var D=o.i;let O=-1;for(;;){const W=["count="+f];O==-1?0<f?(O=D[0].g,W.push("ofs="+O)):O=0:W.push("ofs="+O);let Ct=!0;for(let ce=0;ce<f;ce++){let gt=D[ce].g;const ge=D[ce].map;if(gt-=O,0>gt)O=Math.max(0,D[ce].g-100),Ct=!1;else try{pm(ge,W,"req"+gt+"_")}catch{v&&v(ge)}}if(Ct){v=W.join("&");break t}}}return o=o.i.splice(0,f),u.D=o,v}function Gc(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;G||ht(),st||(G(),st=!0),j.add(u,o),o.v=0}}function Xo(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Yr(y(o.Fa,o),Xc(o,o.v)),o.v++,!0)}e.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Yr(y(this.ab,this),o)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Se(10),as(this),Kc(this))};function Yo(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function Kc(o){o.g=new Tn(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=cn(o.qa);Nt(u,"RID","rpc"),Nt(u,"SID",o.K),Nt(u,"AID",o.T),Nt(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&Nt(u,"TO",o.ja),Nt(u,"TYPE","xmlhttp"),oi(o,u),o.m&&o.o&&Ko(u,o.m,o.o),o.L&&(o.g.I=o.L);var f=o.g;o=o.ia,f.L=1,f.v=rs(cn(u)),f.m=null,f.P=!0,Ec(f,o)}e.Za=function(){this.C!=null&&(this.C=null,as(this),Xo(this),Se(19))};function cs(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Qc(o,u){var f=null;if(o.g==u){cs(o),Yo(o),o.g=null;var v=2}else if(Ho(o.h,u))f=u.D,Rc(o.h,u),v=1;else return;if(o.G!=0){if(u.o)if(v==1){f=u.m?u.m.length:0,u=Date.now()-u.F;var D=o.B;v=Yi(),Qt(v,new yc(v,f)),ls(o)}else Gc(o);else if(D=u.s,D==3||D==0&&0<u.X||!(v==1&&vm(o,u)||v==2&&Xo(o)))switch(f&&0<f.length&&(u=o.h,u.i=u.i.concat(f)),D){case 1:Wn(o,5);break;case 4:Wn(o,10);break;case 3:Wn(o,6);break;default:Wn(o,2)}}}function Xc(o,u){let f=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(f*=2),f*u}function Wn(o,u){if(o.j.info("Error code "+u),u==2){var f=y(o.fb,o),v=o.Xa;const D=!v;v=new jn(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||es(v,"https"),rs(v),D?dm(v.toString(),f):hm(v.toString(),f)}else Se(2);o.G=0,o.l&&o.l.sa(u),Yc(o),Wc(o)}e.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Se(2)):(this.j.info("Failed to ping google.com"),Se(1))};function Yc(o){if(o.G=0,o.ka=[],o.l){const u=Ac(o.h);(u.length!=0||o.i.length!=0)&&(R(o.ka,u),R(o.ka,o.i),o.h.i.length=0,E(o.i),o.i.length=0),o.l.ra()}}function Jc(o,u,f){var v=f instanceof jn?cn(f):new jn(f);if(v.g!="")u&&(v.g=u+"."+v.g),ns(v,v.s);else{var D=l.location;v=D.protocol,u=u?u+"."+D.hostname:D.hostname,D=+D.port;var O=new jn(null);v&&es(O,v),u&&(O.g=u),D&&ns(O,D),f&&(O.l=f),v=O}return f=o.D,u=o.ya,f&&u&&Nt(v,f,u),Nt(v,"VER",o.la),oi(o,v),v}function Zc(o,u,f){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new Ht(new is({eb:f})):new Ht(o.pa),u.Ha(o.J),u}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function tu(){}e=tu.prototype,e.ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){};function us(){}us.prototype.g=function(o,u){return new ke(o,u)};function ke(o,u){qt.call(this),this.g=new jc(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!N(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!N(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new ur(this)}I(ke,qt),ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ke.prototype.close=function(){Qo(this.g)},ke.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.u&&(f={},f.__data__=Y(o),o=f);u.i.push(new em(u.Ya++,o)),u.G==3&&ls(u)},ke.prototype.N=function(){this.g.l=null,delete this.j,Qo(this.g),delete this.g,ke.aa.N.call(this)};function eu(o){Fo.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){t:{for(const f in u){o=f;break t}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}I(eu,Fo);function nu(){Bo.call(this),this.status=1}I(nu,Bo);function ur(o){this.g=o}I(ur,tu),ur.prototype.ua=function(){Qt(this.g,"a")},ur.prototype.ta=function(o){Qt(this.g,new eu(o))},ur.prototype.sa=function(o){Qt(this.g,new nu)},ur.prototype.ra=function(){Qt(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,ke.prototype.send=ke.prototype.o,ke.prototype.open=ke.prototype.m,ke.prototype.close=ke.prototype.close,xf=function(){return new us},Af=function(){return Yi()},Rf=Un,ja={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ji.NO_ERROR=0,Ji.TIMEOUT=8,Ji.HTTP_ERROR=6,As=Ji,vc.COMPLETE="complete",Cf=vc,fc.EventType=Qr,Qr.OPEN="a",Qr.CLOSE="b",Qr.ERROR="c",Qr.MESSAGE="d",qt.prototype.listen=qt.prototype.K,gi=fc,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,Sf=Ht}).apply(typeof vs<"u"?vs:typeof self<"u"?self:typeof window<"u"?window:{});const fd="@firebase/firestore",pd="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}be.UNAUTHENTICATED=new be(null),be.GOOGLE_CREDENTIALS=new be("google-credentials-uid"),be.FIRST_PARTY=new be("first-party-uid"),be.MOCK_USER=new be("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jr="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new vf("@firebase/firestore");function _r(){return nr.logLevel}function H(e,...t){if(nr.logLevel<=pt.DEBUG){const n=t.map(Ol);nr.debug(`Firestore (${jr}): ${e}`,...n)}}function _n(e,...t){if(nr.logLevel<=pt.ERROR){const n=t.map(Ol);nr.error(`Firestore (${jr}): ${e}`,...n)}}function kr(e,...t){if(nr.logLevel<=pt.WARN){const n=t.map(Ol);nr.warn(`Firestore (${jr}): ${e}`,...n)}}function Ol(e){if(typeof e=="string")return e;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(e)}catch{return e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e="Unexpected state"){const t=`FIRESTORE (${jr}) INTERNAL ASSERTION FAILED: `+e;throw _n(t),new Error(t)}function bt(e,t){e||Z()}function nt(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends zr{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(be.UNAUTHENTICATED))}shutdown(){}}class OT{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class LT{constructor(t){this.t=t,this.currentUser=be.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){bt(this.o===void 0);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new Pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Pn,t.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=s;t.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Pn)}},0),a()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string"),new Pf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return bt(t===null||typeof t=="string"),new be(t)}}class $T{constructor(t,n,r){this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=be.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class FT{constructor(t,n,r){this.l=t,this.h=n,this.P=r}getToken(){return Promise.resolve(new $T(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(be.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class md{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BT{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,vT(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){bt(this.o===void 0);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new md(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(bt(typeof n.token=="string"),this.R=n.token,new md(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=UT(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%62))}return r}}function ct(e,t){return e<t?-1:e>t?1:0}function Wa(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return ct(r,i);{const s=kf(),a=zT(s.encode(gd(e,n)),s.encode(gd(t,n)));return a!==0?a:ct(r,i)}}n+=r>65535?2:1}return ct(e.length,t.length)}function gd(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function zT(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return ct(e[n],t[n]);return ct(e.length,t.length)}function Vr(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yd=-62135596800,vd=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*vd);return new ie(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<yd)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new X(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vd}_compareTo(t){return this.seconds===t.seconds?ct(this.nanoseconds,t.nanoseconds):ct(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-yd;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{static fromTimestamp(t){return new et(t)}static min(){return new et(new ie(0,0))}static max(){return new et(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="__name__";class Xe{constructor(t,n,r){n===void 0?n=0:n>t.length&&Z(),r===void 0?r=t.length-n:r>t.length-n&&Z(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Xe.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Xe?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=Xe.compareSegments(t.get(i),n.get(i));if(s!==0)return s}return ct(t.length,n.length)}static compareSegments(t,n){const r=Xe.isNumericId(t),i=Xe.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xe.extractNumericId(t).compare(Xe.extractNumericId(n)):Wa(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return xn.fromString(t.substring(4,t.length-2))}}class Ft extends Xe{construct(t,n,r){return new Ft(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new X(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ft(n)}static emptyPath(){return new Ft([])}}const jT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class he extends Xe{construct(t,n,r){return new he(t,n,r)}static isValidIdentifier(t){return jT.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),he.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_d}static keyField(){return new he([_d])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new X(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<t.length;){const l=t[i];if(l==="\\"){if(i+1===t.length)throw new X(U.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const c=t[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new X(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(r+=l,i++):(s(),i++)}if(s(),a)throw new X(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new he(n)}static emptyPath(){return new he([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.path=t}static fromPath(t){return new J(Ft.fromString(t))}static fromName(t){return new J(Ft.fromString(t).popFirst(5))}static empty(){return new J(Ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ft.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Ft.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new J(new Ft(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=-1;function WT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=et.fromTimestamp(r===1e9?new ie(n+1,0):new ie(n,r));return new Nn(i,J.empty(),t)}function qT(e){return new Nn(e.readTime,e.key,Ni)}class Nn{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new Nn(et.min(),J.empty(),Ni)}static max(){return new Nn(et.max(),J.empty(),Ni)}}function HT(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=J.comparator(e.documentKey,t.documentKey),n!==0?n:ct(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wr(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==GT)throw e;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):F.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):F.reject(n)}static resolve(t){return new F((n,r)=>{n(t)})}static reject(t){return new F((n,r)=>{r(t)})}static waitFor(t){return new F((n,r)=>{let i=0,s=0,a=!1;t.forEach(l=>{++i,l.next(()=>{++s,a&&s===i&&n()},c=>r(c))}),a=!0,s===i&&n()})}static or(t){let n=F.resolve(!1);for(const r of t)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new F((r,i)=>{const s=t.length,a=new Array(s);let l=0;for(let c=0;c<s;c++){const d=c;n(t[d]).next(p=>{a[d]=p,++l,l===s&&r(a)},p=>i(p))}})}static doWhile(t,n){return new F((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}}function QT(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function qr(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Eo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function To(e){return e==null}function js(e){return e===0&&1/e==-1/0}function XT(e){return typeof e=="number"&&Number.isInteger(e)&&!js(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="";function YT(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=bd(t)),t=JT(e.get(n),t);return bd(t)}function JT(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const s=e.charAt(i);switch(s){case"\0":n+="";break;case Df:n+="";break;default:n+=s}}return n}function bd(e){return e+Df+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bn(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Nf(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(t,n){this.comparator=t,this.root=n||ue.EMPTY}insert(t,n){return new Bt(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ue.BLACK,null,null))}remove(t){return new Bt(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ue.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new _s(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new _s(this.root,t,this.comparator,!1)}getReverseIterator(){return new _s(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new _s(this.root,t,this.comparator,!0)}}class _s{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ue{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??ue.RED,this.left=i??ue.EMPTY,this.right=s??ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new ue(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ue.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return ue.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const t=this.left.check();if(t!==this.right.check())throw Z();return t+(this.isRed()?0:1)}}ue.EMPTY=null,ue.RED=!0,ue.BLACK=!1;ue.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(t,n,r,i,s){return this}insert(t,n,r){return new ue(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.comparator=t,this.data=new Bt(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Td(this.data.getIterator())}getIteratorFrom(t){return new Td(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof se)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new se(this.comparator);return n.data=t,n}}class Td{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(t){this.fields=t,t.sort(he.comparator)}static empty(){return new ze([])}unionWith(t){let n=new se(he.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new ze(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return Vr(this.fields,t.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Mf("Invalid base64 string: "+s):s}}(t);return new fe(n)}static fromUint8Array(t){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(t);return new fe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ct(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}fe.EMPTY_BYTE_STRING=new fe("");const ZT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mn(e){if(bt(!!e),typeof e=="string"){let t=0;const n=ZT.exec(e);if(bt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Xt(e.seconds),nanos:Xt(e.nanos)}}function Xt(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function On(e){return typeof e=="string"?fe.fromBase64String(e):fe.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="server_timestamp",Lf="__type__",$f="__previous_value__",Ff="__local_write_time__";function $l(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lf])===null||n===void 0?void 0:n.stringValue)===Of}function wo(e){const t=e.mapValue.fields[$f];return $l(t)?wo(t):t}function Mi(e){const t=Mn(e.mapValue.fields[Ff].timestampValue);return new ie(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(t,n,r,i,s,a,l,c,d){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d}}const Ws="(default)";class Oi{constructor(t,n){this.projectId=t,this.database=n||Ws}static empty(){return new Oi("","")}get isDefaultDatabase(){return this.database===Ws}isEqual(t){return t instanceof Oi&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="__type__",ew="__max__",bs={mapValue:{}},Uf="__vector__",qs="value";function Ln(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?$l(e)?4:rw(e)?9007199254740991:nw(e)?10:11:Z()}function rn(e,t){if(e===t)return!0;const n=Ln(e);if(n!==Ln(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Mi(e).isEqual(Mi(t));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Mn(i.timestampValue),l=Mn(s.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(i,s){return On(i.bytesValue).isEqual(On(s.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(i,s){return Xt(i.geoPointValue.latitude)===Xt(s.geoPointValue.latitude)&&Xt(i.geoPointValue.longitude)===Xt(s.geoPointValue.longitude)}(e,t);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Xt(i.integerValue)===Xt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Xt(i.doubleValue),l=Xt(s.doubleValue);return a===l?js(a)===js(l):isNaN(a)&&isNaN(l)}return!1}(e,t);case 9:return Vr(e.arrayValue.values||[],t.arrayValue.values||[],rn);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},l=s.mapValue.fields||{};if(Ed(a)!==Ed(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!rn(a[c],l[c])))return!1;return!0}(e,t);default:return Z()}}function Li(e,t){return(e.values||[]).find(n=>rn(n,t))!==void 0}function Dr(e,t){if(e===t)return 0;const n=Ln(e),r=Ln(t);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(e.booleanValue,t.booleanValue);case 2:return function(s,a){const l=Xt(s.integerValue||s.doubleValue),c=Xt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(e,t);case 3:return wd(e.timestampValue,t.timestampValue);case 4:return wd(Mi(e),Mi(t));case 5:return Wa(e.stringValue,t.stringValue);case 6:return function(s,a){const l=On(s),c=On(a);return l.compareTo(c)}(e.bytesValue,t.bytesValue);case 7:return function(s,a){const l=s.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const p=ct(l[d],c[d]);if(p!==0)return p}return ct(l.length,c.length)}(e.referenceValue,t.referenceValue);case 8:return function(s,a){const l=ct(Xt(s.latitude),Xt(a.latitude));return l!==0?l:ct(Xt(s.longitude),Xt(a.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Id(e.arrayValue,t.arrayValue);case 10:return function(s,a){var l,c,d,p;const m=s.fields||{},y=a.fields||{},_=(l=m[qs])===null||l===void 0?void 0:l.arrayValue,I=(c=y[qs])===null||c===void 0?void 0:c.arrayValue,E=ct(((d=_==null?void 0:_.values)===null||d===void 0?void 0:d.length)||0,((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0);return E!==0?E:Id(_,I)}(e.mapValue,t.mapValue);case 11:return function(s,a){if(s===bs.mapValue&&a===bs.mapValue)return 0;if(s===bs.mapValue)return 1;if(a===bs.mapValue)return-1;const l=s.fields||{},c=Object.keys(l),d=a.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let m=0;m<c.length&&m<p.length;++m){const y=Wa(c[m],p[m]);if(y!==0)return y;const _=Dr(l[c[m]],d[p[m]]);if(_!==0)return _}return ct(c.length,p.length)}(e.mapValue,t.mapValue);default:throw Z()}}function wd(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return ct(e,t);const n=Mn(e),r=Mn(t),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function Id(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Dr(n[i],r[i]);if(s)return s}return ct(n.length,r.length)}function Nr(e){return qa(e)}function qa(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(n){const r=Mn(n);return`time(${r.seconds},${r.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(n){return On(n).toBase64()}(e.bytesValue):"referenceValue"in e?function(n){return J.fromName(n).toString()}(e.referenceValue):"geoPointValue"in e?function(n){return`geo(${n.latitude},${n.longitude})`}(e.geoPointValue):"arrayValue"in e?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=qa(s);return r+"]"}(e.arrayValue):"mapValue"in e?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${qa(n.fields[a])}`;return i+"}"}(e.mapValue):Z()}function xs(e){switch(Ln(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wo(e);return t?16+xs(t):16;case 5:return 2*e.stringValue.length;case 6:return On(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+xs(s),0)}(e.arrayValue);case 10:case 11:return function(r){let i=0;return Bn(r.fields,(s,a)=>{i+=s.length+xs(a)}),i}(e.mapValue);default:throw Z()}}function Ha(e){return!!e&&"integerValue"in e}function Fl(e){return!!e&&"arrayValue"in e}function Sd(e){return!!e&&"nullValue"in e}function Cd(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ps(e){return!!e&&"mapValue"in e}function nw(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{})[Bf])===null||n===void 0?void 0:n.stringValue)===Uf}function wi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bn(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=wi(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wi(e.arrayValue.values[n]);return t}return Object.assign({},e)}function rw(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(t){this.value=t}static empty(){return new De({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Ps(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=wi(n)}setAll(t){let n=he.emptyPath(),r={},i=[];t.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}a?r[l.lastSegment()]=wi(a):i.push(l.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());Ps(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return rn(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];Ps(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Bn(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new De(wi(this.value))}}function zf(e){const t=[];return Bn(e.fields,(n,r)=>{const i=new he([n]);if(Ps(r)){const s=zf(r.mapValue).fields;if(s.length===0)t.push(i);else for(const a of s)t.push(i.child(a))}else t.push(i)}),new ze(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(t,n,r,i,s,a,l){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=l}static newInvalidDocument(t){return new Te(t,0,et.min(),et.min(),et.min(),De.empty(),0)}static newFoundDocument(t,n,r,i){return new Te(t,1,n,et.min(),r,i,0)}static newNoDocument(t,n){return new Te(t,2,n,et.min(),et.min(),De.empty(),0)}static newUnknownDocument(t,n){return new Te(t,3,n,et.min(),et.min(),De.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=De.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=De.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Te&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Te(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(t,n){this.position=t,this.inclusive=n}}function Rd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(a.referenceValue),n.key):r=Dr(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ad(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!rn(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(t,n="asc"){this.field=t,this.dir=n}}function iw(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{}class re extends jf{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new ow(t,n,r):n==="array-contains"?new cw(t,r):n==="in"?new uw(t,r):n==="not-in"?new dw(t,r):n==="array-contains-any"?new hw(t,r):new re(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new aw(t,r):new lw(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Dr(n,this.value)):n!==null&&Ln(this.value)===Ln(n)&&this.matchesComparison(Dr(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class sn extends jf{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new sn(t,n)}matches(t){return Wf(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Wf(e){return e.op==="and"}function qf(e){return sw(e)&&Wf(e)}function sw(e){for(const t of e.filters)if(t instanceof sn)return!1;return!0}function Ga(e){if(e instanceof re)return e.field.canonicalString()+e.op.toString()+Nr(e.value);if(qf(e))return e.filters.map(t=>Ga(t)).join(",");{const t=e.filters.map(n=>Ga(n)).join(",");return`${e.op}(${t})`}}function Hf(e,t){return e instanceof re?function(r,i){return i instanceof re&&r.op===i.op&&r.field.isEqual(i.field)&&rn(r.value,i.value)}(e,t):e instanceof sn?function(r,i){return i instanceof sn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,l)=>s&&Hf(a,i.filters[l]),!0):!1}(e,t):void Z()}function Gf(e){return e instanceof re?function(n){return`${n.field.canonicalString()} ${n.op} ${Nr(n.value)}`}(e):e instanceof sn?function(n){return n.op.toString()+" {"+n.getFilters().map(Gf).join(" ,")+"}"}(e):"Filter"}class ow extends re{constructor(t,n,r){super(t,n,r),this.key=J.fromName(r.referenceValue)}matches(t){const n=J.comparator(t.key,this.key);return this.matchesComparison(n)}}class aw extends re{constructor(t,n){super(t,"in",n),this.keys=Kf("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class lw extends re{constructor(t,n){super(t,"not-in",n),this.keys=Kf("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function Kf(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class cw extends re{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fl(n)&&Li(n.arrayValue,this.value)}}class uw extends re{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Li(this.value.arrayValue,n)}}class dw extends re{constructor(t,n){super(t,"not-in",n)}matches(t){if(Li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Li(this.value.arrayValue,n)}}class hw extends re{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fl(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Li(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(t,n=null,r=[],i=[],s=null,a=null,l=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=l,this.le=null}}function xd(e,t=null,n=[],r=[],i=null,s=null,a=null){return new fw(e,t,n,r,i,s,a)}function Bl(e){const t=nt(e);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>Ga(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),To(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>Nr(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>Nr(r)).join(",")),t.le=n}return t.le}function Ul(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!iw(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Hf(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ad(e.startAt,t.startAt)&&Ad(e.endAt,t.endAt)}function Ka(e){return J.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,n=null,r=[],i=[],s=null,a="F",l=null,c=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=l,this.endAt=c,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function pw(e,t,n,r,i,s,a,l){return new Io(e,t,n,r,i,s,a,l)}function zl(e){return new Io(e)}function Pd(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function mw(e){return e.collectionGroup!==null}function Ii(e){const t=nt(e);if(t.he===null){t.he=[];const n=new Set;for(const s of t.explicitOrderBy)t.he.push(s),n.add(s.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new se(he.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(t).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||t.he.push(new Gs(s,r))}),n.has(he.keyField().canonicalString())||t.he.push(new Gs(he.keyField(),r))}return t.he}function en(e){const t=nt(e);return t.Pe||(t.Pe=gw(t,Ii(e))),t.Pe}function gw(e,t){if(e.limitType==="F")return xd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Gs(i.field,s)});const n=e.endAt?new Hs(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hs(e.startAt.position,e.startAt.inclusive):null;return xd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Qa(e,t,n){return new Io(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function So(e,t){return Ul(en(e),en(t))&&e.limitType===t.limitType}function Qf(e){return`${Bl(en(e))}|lt:${e.limitType}`}function br(e){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Gf(i)).join(", ")}]`),To(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Nr(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Nr(i)).join(",")),`Target(${r})`}(en(e))}; limitType=${e.limitType})`}function Co(e,t){return t.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(e,t)&&function(r,i){for(const s of Ii(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(e,t)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(e,t)&&function(r,i){return!(r.startAt&&!function(a,l,c){const d=Rd(a,l,c);return a.inclusive?d<=0:d<0}(r.startAt,Ii(r),i)||r.endAt&&!function(a,l,c){const d=Rd(a,l,c);return a.inclusive?d>=0:d>0}(r.endAt,Ii(r),i))}(e,t)}function yw(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Xf(e){return(t,n)=>{let r=!1;for(const i of Ii(e)){const s=vw(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function vw(e,t,n){const r=e.field.isKeyField()?J.comparator(t.key,n.key):function(s,a,l){const c=a.data.field(s),d=l.data.field(s);return c!==null&&d!==null?Dr(c,d):Z()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Bn(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return Nf(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=new Bt(J.comparator);function bn(){return _w}const Yf=new Bt(J.comparator);function yi(...e){let t=Yf;for(const n of e)t=t.insert(n.key,n);return t}function Jf(e){let t=Yf;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Jn(){return Si()}function Zf(){return Si()}function Si(){return new sr(e=>e.toString(),(e,t)=>e.isEqual(t))}const bw=new Bt(J.comparator),Ew=new se(J.comparator);function dt(...e){let t=Ew;for(const n of e)t=t.add(n);return t}const Tw=new se(ct);function ww(){return Tw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:js(t)?"-0":t}}function tp(e){return{integerValue:""+e}}function Iw(e,t){return XT(t)?tp(t):jl(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this._=void 0}}function Sw(e,t,n){return e instanceof Ks?function(i,s){const a={fields:{[Lf]:{stringValue:Of},[Ff]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&$l(s)&&(s=wo(s)),s&&(a.fields[$f]=s),{mapValue:a}}(n,t):e instanceof Mr?np(e,t):e instanceof $i?rp(e,t):function(i,s){const a=ep(i,s),l=kd(a)+kd(i.Ie);return Ha(a)&&Ha(i.Ie)?tp(l):jl(i.serializer,l)}(e,t)}function Cw(e,t,n){return e instanceof Mr?np(e,t):e instanceof $i?rp(e,t):n}function ep(e,t){return e instanceof Qs?function(r){return Ha(r)||function(s){return!!s&&"doubleValue"in s}(r)}(t)?t:{integerValue:0}:null}class Ks extends Ro{}class Mr extends Ro{constructor(t){super(),this.elements=t}}function np(e,t){const n=ip(t);for(const r of e.elements)n.some(i=>rn(i,r))||n.push(r);return{arrayValue:{values:n}}}class $i extends Ro{constructor(t){super(),this.elements=t}}function rp(e,t){let n=ip(t);for(const r of e.elements)n=n.filter(i=>!rn(i,r));return{arrayValue:{values:n}}}class Qs extends Ro{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function kd(e){return Xt(e.integerValue||e.doubleValue)}function ip(e){return Fl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,n){this.field=t,this.transform=n}}function Aw(e,t){return e.field.isEqual(t.field)&&function(r,i){return r instanceof Mr&&i instanceof Mr||r instanceof $i&&i instanceof $i?Vr(r.elements,i.elements,rn):r instanceof Qs&&i instanceof Qs?rn(r.Ie,i.Ie):r instanceof Ks&&i instanceof Ks}(e.transform,t.transform)}class xw{constructor(t,n){this.version=t,this.transformResults=n}}class pn{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new pn}static exists(t){return new pn(void 0,t)}static updateTime(t){return new pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ks(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}class Ao{}function sp(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new ap(e.key,pn.none()):new xo(e.key,e.data,pn.none());{const n=e.data,r=De.empty();let i=new se(he.comparator);for(let s of t.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new or(e.key,r,new ze(i.toArray()),pn.none())}}function Pw(e,t,n){e instanceof xo?function(i,s,a){const l=i.value.clone(),c=Dd(i.fieldTransforms,s,a.transformResults);l.setAll(c),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(e,t,n):e instanceof or?function(i,s,a){if(!ks(i.precondition,s))return void s.convertToUnknownDocument(a.version);const l=Dd(i.fieldTransforms,s,a.transformResults),c=s.data;c.setAll(op(i)),c.setAll(l),s.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(e,t,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,t,n)}function Ci(e,t,n,r){return e instanceof xo?function(s,a,l,c){if(!ks(s.precondition,a))return l;const d=s.value.clone(),p=Nd(s.fieldTransforms,c,a);return d.setAll(p),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(e,t,n,r):e instanceof or?function(s,a,l,c){if(!ks(s.precondition,a))return l;const d=Nd(s.fieldTransforms,c,a),p=a.data;return p.setAll(op(s)),p.setAll(d),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),l===null?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(e,t,n,r):function(s,a,l){return ks(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(e,t,n)}function kw(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=ep(r.transform,i||null);s!=null&&(n===null&&(n=De.empty()),n.set(r.field,s))}return n||null}function Vd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Vr(r,i,(s,a)=>Aw(s,a))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xo extends Ao{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class or extends Ao{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function op(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Dd(e,t,n){const r=new Map;bt(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,l=t.data.field(s.field);r.set(s.field,Cw(a,l,n[i]))}return r}function Nd(e,t,n){const r=new Map;for(const i of e){const s=i.transform,a=n.data.field(i.field);r.set(i.field,Sw(s,a,t))}return r}class ap extends Ao{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw extends Ao{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Pw(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=Ci(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=Ci(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Zf();return this.mutations.forEach(i=>{const s=t.get(i.key),a=s.overlayedDocument;let l=this.applyToLocalView(a,s.mutatedFields);l=n.has(i.key)?null:l;const c=sp(a,l);c!==null&&r.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(et.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),dt())}isEqual(t){return this.batchId===t.batchId&&Vr(this.mutations,t.mutations,(n,r)=>Vd(n,r))&&Vr(this.baseMutations,t.baseMutations,(n,r)=>Vd(n,r))}}class Wl{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){bt(t.mutations.length===r.length);let i=function(){return bw}();const s=t.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new Wl(t,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zt,ft;function Ow(e){switch(e){case U.OK:return Z();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return Z()}}function lp(e){if(e===void 0)return _n("GRPC error has no .code"),U.UNKNOWN;switch(e){case Zt.OK:return U.OK;case Zt.CANCELLED:return U.CANCELLED;case Zt.UNKNOWN:return U.UNKNOWN;case Zt.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Zt.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Zt.INTERNAL:return U.INTERNAL;case Zt.UNAVAILABLE:return U.UNAVAILABLE;case Zt.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Zt.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Zt.NOT_FOUND:return U.NOT_FOUND;case Zt.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Zt.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Zt.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Zt.ABORTED:return U.ABORTED;case Zt.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Zt.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Zt.DATA_LOSS:return U.DATA_LOSS;default:return Z()}}(ft=Zt||(Zt={}))[ft.OK=0]="OK",ft[ft.CANCELLED=1]="CANCELLED",ft[ft.UNKNOWN=2]="UNKNOWN",ft[ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ft[ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ft[ft.NOT_FOUND=5]="NOT_FOUND",ft[ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",ft[ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",ft[ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",ft[ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ft[ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ft[ft.ABORTED=10]="ABORTED",ft[ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",ft[ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",ft[ft.INTERNAL=13]="INTERNAL",ft[ft.UNAVAILABLE=14]="UNAVAILABLE",ft[ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=new xn([4294967295,4294967295],0);function Md(e){const t=kf().encode(e),n=new If;return n.update(t),new Uint8Array(n.digest())}function Od(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new xn([n,r],0),new xn([i,s],0)]}class ql{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vi(`Invalid padding: ${n}`);if(r<0)throw new vi(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new vi(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new vi(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=xn.fromNumber(this.Ee)}Ae(t,n,r){let i=t.add(n.multiply(xn.fromNumber(r)));return i.compare(Lw)===1&&(i=new xn([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=Md(t),[r,i]=Od(n);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);if(!this.Re(a))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),a=new ql(s,i,n);return r.forEach(l=>a.insert(l)),a}insert(t){if(this.Ee===0)return;const n=Md(t),[r,i]=Od(n);for(let s=0;s<this.hashCount;s++){const a=this.Ae(r,i,s);this.Ve(a)}}Ve(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class vi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,Gi.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new Po(et.min(),i,new Bt(ct),bn(),dt())}}class Gi{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new Gi(r,n,dt(),dt(),dt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t,n,r,i){this.me=t,this.removedTargetIds=n,this.key=r,this.fe=i}}class cp{constructor(t,n){this.targetId=t,this.ge=n}}class up{constructor(t,n,r=fe.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Ld{constructor(){this.pe=0,this.ye=$d(),this.we=fe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=dt(),n=dt(),r=dt();return this.ye.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Gi(this.we,this.Se,t,n,r)}Me(){this.be=!1,this.ye=$d()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,bt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $w{constructor(t){this.ke=t,this.qe=new Map,this.Qe=bn(),this.$e=Es(),this.Ue=Es(),this.Ke=new Bt(ct)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const r=this.He(n);switch(t.state){case 0:this.Je(n)&&r.Ce(t.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(t.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(t.resumeToken));break;default:Z()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(t){const n=t.targetId,r=t.ge.count,i=this.Xe(n);if(i){const s=i.target;if(Ka(s))if(r===0){const a=new J(s.path);this.ze(n,a,Te.newNoDocument(a,et.min()))}else bt(r===1);else{const a=this.et(n);if(a!==r){const l=this.tt(t),c=l?this.nt(l,t,a):1;if(c!==0){this.Ye(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,d)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,l;try{a=On(r).toUint8Array()}catch(c){if(c instanceof Mf)return kr("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ql(a,i,s)}catch(c){return kr(c instanceof vi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ee===0?null:l}nt(t,n,r){return n.ge.count===r-this.st(t,n.targetId)?0:2}st(t,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.ke.it(),l=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;t.mightContain(l)||(this.ze(n,s,null),i++)}),i}ot(t){const n=new Map;this.qe.forEach((s,a)=>{const l=this.Xe(a);if(l){if(s.current&&Ka(l.target)){const c=new J(l.target.path);this._t(c).has(a)||this.ut(a,c)||this.ze(a,c,Te.newNoDocument(c,t))}s.ve&&(n.set(a,s.Fe()),s.Me())}});let r=dt();this.Ue.forEach((s,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.Xe(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(s))}),this.Qe.forEach((s,a)=>a.setReadTime(t));const i=new Po(t,n,this.Ke,this.Qe,r);return this.Qe=bn(),this.$e=Es(),this.Ue=Es(),this.Ke=new Bt(ct),i}Ge(t,n){if(!this.Je(t))return;const r=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,r){if(!this.Je(t))return;const i=this.He(t);this.ut(t,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new Ld,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new se(ct),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new se(ct),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||H("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new Ld),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function Es(){return new Bt(J.comparator)}function $d(){return new Bt(J.comparator)}const Fw={asc:"ASCENDING",desc:"DESCENDING"},Bw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uw={and:"AND",or:"OR"};class zw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Xa(e,t){return e.useProto3Json||To(t)?t:{value:t}}function Xs(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dp(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function jw(e,t){return Xs(e,t.toTimestamp())}function nn(e){return bt(!!e),et.fromTimestamp(function(n){const r=Mn(n);return new ie(r.seconds,r.nanos)}(e))}function Hl(e,t){return Ya(e,t).canonicalString()}function Ya(e,t){const n=function(i){return new Ft(["projects",i.projectId,"databases",i.database])}(e).child("documents");return t===void 0?n:n.child(t)}function hp(e){const t=Ft.fromString(e);return bt(yp(t)),t}function Ja(e,t){return Hl(e.databaseId,t.path)}function ma(e,t){const n=hp(t);if(n.get(1)!==e.databaseId.projectId)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new X(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new J(pp(n))}function fp(e,t){return Hl(e.databaseId,t)}function Ww(e){const t=hp(e);return t.length===4?Ft.emptyPath():pp(t)}function Za(e){return new Ft(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pp(e){return bt(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function Fd(e,t,n){return{name:Ja(e,t),fields:n.value.mapValue.fields}}function qw(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Z()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(bt(p===void 0||typeof p=="string"),fe.fromBase64String(p||"")):(bt(p===void 0||p instanceof Buffer||p instanceof Uint8Array),fe.fromUint8Array(p||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(d){const p=d.code===void 0?U.UNKNOWN:lp(d.code);return new X(p,d.message||"")}(a);n=new up(r,i,s,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ma(e,r.document.name),s=nn(r.document.updateTime),a=r.document.createTime?nn(r.document.createTime):et.min(),l=new De({mapValue:{fields:r.document.fields}}),c=Te.newFoundDocument(i,s,a,l),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Vs(d,p,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ma(e,r.document),s=r.readTime?nn(r.readTime):et.min(),a=Te.newNoDocument(i,s),l=r.removedTargetIds||[];n=new Vs([],l,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ma(e,r.document),s=r.removedTargetIds||[];n=new Vs([],s,i,null)}else{if(!("filter"in t))return Z();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new Mw(i,s),l=r.targetId;n=new cp(l,a)}}return n}function Hw(e,t){let n;if(t instanceof xo)n={update:Fd(e,t.key,t.value)};else if(t instanceof ap)n={delete:Ja(e,t.key)};else if(t instanceof or)n={update:Fd(e,t.key,t.data),updateMask:eI(t.fieldMask)};else{if(!(t instanceof Vw))return Z();n={verify:Ja(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(s,a){const l=a.transform;if(l instanceof Ks)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Mr)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $i)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qs)return{fieldPath:a.field.canonicalString(),increment:l.Ie};throw Z()}(0,r))),t.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:jw(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Z()}(e,t.precondition)),n}function Gw(e,t){return e&&e.length>0?(bt(t!==void 0),e.map(n=>function(i,s){let a=i.updateTime?nn(i.updateTime):nn(s);return a.isEqual(et.min())&&(a=nn(s)),new xw(a,i.transformResults||[])}(n,t))):[]}function Kw(e,t){return{documents:[fp(e,t.path)]}}function Qw(e,t){const n={structuredQuery:{}},r=t.path;let i;t.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=fp(e,i);const s=function(d){if(d.length!==0)return gp(sn.create(d,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(d){if(d.length!==0)return d.map(p=>function(y){return{field:Er(y.field),direction:Jw(y.dir)}}(p))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Xa(e,t.limit);return l!==null&&(n.structuredQuery.limit=l),t.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(t.endAt)),{ht:n,parent:i}}function Xw(e){let t=Ww(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1);const p=n.from[0];p.allDescendants?i=p.collectionId:t=t.child(p.collectionId)}let s=[];n.where&&(s=function(m){const y=mp(m);return y instanceof sn&&qf(y)?y.getFilters():[y]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(y=>function(I){return new Gs(Tr(I.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(y))}(n.orderBy));let l=null;n.limit&&(l=function(m){let y;return y=typeof m=="object"?m.value:m,To(y)?null:y}(n.limit));let c=null;n.startAt&&(c=function(m){const y=!!m.before,_=m.values||[];return new Hs(_,y)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const y=!m.before,_=m.values||[];return new Hs(_,y)}(n.endAt)),pw(t,i,a,s,l,"F",c,d)}function Yw(e,t){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function mp(e){return e.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Tr(n.unaryFilter.field);return re.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tr(n.unaryFilter.field);return re.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Tr(n.unaryFilter.field);return re.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Tr(n.unaryFilter.field);return re.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(e):e.fieldFilter!==void 0?function(n){return re.create(Tr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(n){return sn.create(n.compositeFilter.filters.map(r=>mp(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(e):Z()}function Jw(e){return Fw[e]}function Zw(e){return Bw[e]}function tI(e){return Uw[e]}function Er(e){return{fieldPath:e.canonicalString()}}function Tr(e){return he.fromServerFormat(e.fieldPath)}function gp(e){return e instanceof re?function(n){if(n.op==="=="){if(Cd(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NAN"}};if(Sd(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Cd(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NOT_NAN"}};if(Sd(n.value))return{unaryFilter:{field:Er(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Er(n.field),op:Zw(n.op),value:n.value}}}(e):e instanceof sn?function(n){const r=n.getFilters().map(i=>gp(i));return r.length===1?r[0]:{compositeFilter:{op:tI(n.op),filters:r}}}(e):Z()}function eI(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function yp(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t,n,r,i,s=et.min(),a=et.min(),l=fe.EMPTY_BYTE_STRING,c=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(t){return new Cn(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Cn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(t){this.Tt=t}}function rI(e){const t=Xw({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?Qa(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Tn=new sI}addToCollectionParentIndex(t,n){return this.Tn.add(n),F.resolve()}getCollectionParents(t,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return F.resolve()}deleteFieldIndex(t,n){return F.resolve()}deleteAllFieldIndexes(t){return F.resolve()}createTargetIndexes(t,n){return F.resolve()}getDocumentsMatchingTarget(t,n){return F.resolve(null)}getIndexType(t,n){return F.resolve(0)}getFieldIndexes(t,n){return F.resolve([])}getNextCollectionGroupToUpdate(t){return F.resolve(null)}getMinOffset(t,n){return F.resolve(Nn.min())}getMinOffsetFromCollectionGroup(t,n){return F.resolve(Nn.min())}updateCollectionGroup(t,n,r){return F.resolve()}updateIndexEntries(t,n){return F.resolve()}}class sI{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new se(Ft.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new se(Ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vp=41943040;class Ce{static withCacheSize(t){return new Ce(t,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ce.DEFAULT_COLLECTION_PERCENTILE=10,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ce.DEFAULT=new Ce(vp,Ce.DEFAULT_COLLECTION_PERCENTILE,Ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ce.DISABLED=new Ce(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Or(0)}static Kn(){return new Or(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud="LruGarbageCollector",oI=1048576;function zd([e,t],[n,r]){const i=ct(e,n);return i===0?ct(t,r):i}class aI{constructor(t){this.Hn=t,this.buffer=new se(zd),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zd(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){H(Ud,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qr(n)?H(Ud,"Ignoring IndexedDB error during garbage collection: ",n):await Wr(n)}await this.er(3e5)})}}class cI{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(r=>Math.floor(n/100*r))}nthSequenceNumber(t,n){if(n===0)return F.resolve(Eo.ae);const r=new aI(n);return this.tr.forEachTarget(t,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(t,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(t,n,r){return this.tr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(Bd)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bd):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let r,i,s,a,l,c,d;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(t,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(t,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(t,r))).next(m=>(d=Date.now(),_r()<=pt.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-p}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${s} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function uI(e,t){return new cI(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.changes=new sr(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Te.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&Ci(r.mutation,i,ze.empty(),ie.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,dt()).next(()=>r))}getLocalViewOfDocuments(t,n,r=dt()){const i=Jn();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let a=yi();return s.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(t,n){const r=Jn();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,dt()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((a,l)=>{n.set(a,l)})})}computeViews(t,n,r,i){let s=bn();const a=Si(),l=function(){return Si()}();return n.forEach((c,d)=>{const p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof or)?s=s.insert(d.key,d):p!==void 0?(a.set(d.key,p.mutation.getFieldMask()),Ci(p.mutation,d,p.mutation.getFieldMask(),ie.now())):a.set(d.key,ze.empty())}),this.recalculateAndSaveOverlays(t,s).next(c=>(c.forEach((d,p)=>a.set(d,p)),n.forEach((d,p)=>{var m;return l.set(d,new hI(p,(m=a.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(t,n){const r=Si();let i=new Bt((a,l)=>a-l),s=dt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||ze.empty();p=l.applyToLocalView(d,p),r.set(c,p);const m=(i.get(l.batchId)||dt()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,p=c.value,m=Zf();p.forEach(y=>{if(!s.has(y)){const _=sp(n.get(y),r.get(y));_!==null&&m.set(y,_),s=s.add(y)}}),a.push(this.documentOverlayCache.saveOverlays(t,d,m))}return F.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r,i){return function(a){return J.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):mw(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,i):this.getDocumentsMatchingCollectionQuery(t,n,r,i)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):F.resolve(Jn());let l=Ni,c=s;return a.next(d=>F.forEach(d,(p,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),s.get(p)?F.resolve():this.remoteDocumentCache.getEntry(t,p).next(y=>{c=c.insert(p,y)}))).next(()=>this.populateOverlays(t,d,s)).next(()=>this.computeViews(t,c,d,dt())).next(p=>({batchId:l,changes:Jf(p)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new J(n)).next(r=>{let i=yi();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r,i){const s=n.collectionGroup;let a=yi();return this.indexManager.getCollectionParents(t,s).next(l=>F.forEach(l,c=>{const d=function(m,y){return new Io(y,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(t,d,r,i).next(p=>{p.forEach((m,y)=>{a=a.insert(m,y)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,s,i))).next(a=>{s.forEach((c,d)=>{const p=d.getKey();a.get(p)===null&&(a=a.insert(p,Te.newInvalidDocument(p)))});let l=yi();return a.forEach((c,d)=>{const p=s.get(c);p!==void 0&&Ci(p.mutation,d,ze.empty(),ie.now()),Co(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nn(i.createTime)}}(n)),F.resolve()}getNamedQuery(t,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:rI(i.bundledQuery),readTime:nn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.overlays=new Bt(J.comparator),this.Rr=new Map}getOverlay(t,n){return F.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jn();return F.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.Et(t,n,s)}),F.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(t,n,r){const i=Jn(),s=n.length+1,a=new J(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new Bt((d,p)=>d-p);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Jn(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const l=Jn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>l.set(d,p)),!(l.size()>=i)););return F.resolve(l)}Et(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Nw(n,r));let s=this.Rr.get(n);s===void 0&&(s=dt(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.sessionToken=fe.EMPTY_BYTE_STRING}getSessionToken(t){return F.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.Vr=new se(ae.mr),this.gr=new se(ae.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const r=new ae(t,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.wr(new ae(t,n))}Sr(t,n){t.forEach(r=>this.removeReference(r,n))}br(t){const n=new J(new Ft([])),r=new ae(n,t),i=new ae(n,t+1),s=[];return this.gr.forEachInRange([r,i],a=>{this.wr(a),s.push(a.key)}),s}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new J(new Ft([])),r=new ae(n,t),i=new ae(n,t+1);let s=dt();return this.gr.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(t){const n=new ae(t,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class ae{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return J.comparator(t.key,n.key)||ct(t.Cr,n.Cr)}static pr(t,n){return ct(t.Cr,n.Cr)||J.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new se(ae.mr)}checkEmpty(t){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Dw(s,n,r,i);this.mutationQueue.push(a);for(const l of i)this.Mr=this.Mr.add(new ae(l.key,s)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(t,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.Nr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Ll:this.Fr-1)}getAllMutationBatches(t){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new ae(n,0),i=new ae(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],a=>{const l=this.Or(a.Cr);s.push(l)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new se(ct);return n.forEach(i=>{const s=new ae(i,0),a=new ae(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,a],l=>{r=r.add(l.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const a=new ae(new J(s),0);let l=new se(ct);return this.Mr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Cr)),!0)},a),F.resolve(this.Br(l))}Br(t){const n=[];return t.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){bt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(n.mutations,i=>{const s=new ae(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Mr=r})}qn(t){}containsKey(t,n){const r=new ae(n,0),i=this.Mr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,F.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(t){this.kr=t,this.docs=function(){return new Bt(J.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():Te.newInvalidDocument(n))}getEntries(t,n){let r=bn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Te.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=bn();const a=n.path,l=new J(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||HT(qT(p),r)<=0||(i.has(p.key)||Co(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(t,n,r,i){Z()}qr(t,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new _I(this)}getSize(t){return F.resolve(this.size)}}class _I extends dI{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(t,i)):this.Ir.removeEntry(r)}),F.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(t){this.persistence=t,this.Qr=new sr(n=>Bl(n),Ul),this.lastRemoteSnapshotVersion=et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gl,this.targetCount=0,this.Kr=Or.Un()}forEachTarget(t,n){return this.Qr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(t){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return F.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),F.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Or(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(t,n){return this.zn(n),F.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.Qr.forEach((a,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Qr.delete(a),s.push(this.removeMatchingKeysForTargetId(t,l.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(t){return F.resolve(this.targetCount)}getTargetData(t,n){const r=this.Qr.get(n)||null;return F.resolve(r)}addMatchingKeys(t,n,r){return this.Ur.yr(n,r),F.resolve()}removeMatchingKeys(t,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(t,a))}),F.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),F.resolve()}getMatchingKeysForTargetId(t,n){const r=this.Ur.vr(n);return F.resolve(r)}containsKey(t,n){return F.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new Eo(0),this.zr=!1,this.zr=!0,this.jr=new gI,this.referenceDelegate=t(this),this.Hr=new bI(this),this.indexManager=new iI,this.remoteDocumentCache=function(i){return new vI(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new nI(n),this.Yr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new mI,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.Wr[t.toKey()];return r||(r=new yI(n,this.referenceDelegate),this.Wr[t.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,r){H("MemoryPersistence","Starting transaction:",t);const i=new EI(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(t,n){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(t,n)))}}class EI extends KT{constructor(t){super(),this.currentSequenceNumber=t}}class Kl{constructor(t){this.persistence=t,this.ti=new Gl,this.ni=null}static ri(t){return new Kl(t)}get ii(){if(this.ni)return this.ni;throw Z()}addReference(t,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),F.resolve()}removeReference(t,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{const i=J.fromPath(r);return this.si(t,i).next(s=>{s||n.removeEntry(i,et.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Ys{constructor(t,n){this.persistence=t,this.oi=new sr(r=>YT(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uI(this,n)}static ri(t,n){return new Ys(t,n)}Zr(){}Xr(t){return F.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(r=>n.next(i=>r+i))}sr(t){let n=0;return this.rr(t,r=>{n++}).next(()=>n)}rr(t,n){return F.forEach(this.oi,(r,i)=>this.ar(t,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(t,a=>this.ar(t,a,n).next(l=>{l||(r++,s.removeEntry(a,et.min()))})).next(()=>s.apply(t)).next(()=>r)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),F.resolve()}removeReference(t,n,r){return this.oi.set(r,t.currentSequenceNumber),F.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),F.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=xs(t.data.value)),n}ar(t,n,r){return F.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const i=this.oi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(t,n){let r=dt(),i=dt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ql(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return mE()?8:QT(fE())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,r,i){const s={result:null};return this.rs(t,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ss(t,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new TI;return this._s(t,n,a).next(l=>{if(s.result=l,this.Xi)return this.us(t,n,a,l.size)})}).next(()=>s.result)}us(t,n,r,i){return r.documentReadCount<this.es?(_r()<=pt.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",br(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(_r()<=pt.DEBUG&&H("QueryEngine","Query:",br(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(_r()<=pt.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",br(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,en(n))):F.resolve())}rs(t,n){if(Pd(n))return F.resolve(null);let r=en(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Qa(n,null,"F"),r=en(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const a=dt(...s);return this.ns.getDocuments(t,a).next(l=>this.indexManager.getMinOffset(t,r).next(c=>{const d=this.cs(n,l);return this.ls(n,d,a,c.readTime)?this.rs(t,Qa(n,null,"F")):this.hs(t,d,n,c)}))})))}ss(t,n,r,i){return Pd(n)||i.isEqual(et.min())?F.resolve(null):this.ns.getDocuments(t,r).next(s=>{const a=this.cs(n,s);return this.ls(n,a,r,i)?F.resolve(null):(_r()<=pt.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),br(n)),this.hs(t,a,n,WT(i,Ni)).next(l=>l))})}cs(t,n){let r=new se(Xf(t));return n.forEach((i,s)=>{Co(t,s)&&(r=r.add(s))}),r}ls(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(t,n,r){return _r()<=pt.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",br(n)),this.ns.getDocumentsMatchingQuery(t,n,Nn.min(),r)}hs(t,n,r,i){return this.ns.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="LocalStore",II=3e8;class SI{constructor(t,n,r,i){this.persistence=t,this.Ps=n,this.serializer=i,this.Ts=new Bt(ct),this.Is=new sr(s=>Bl(s),Ul),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(r)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new fI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function CI(e,t,n,r){return new SI(e,t,n,r)}async function bp(e,t){const n=nt(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],l=[];let c=dt();for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of s){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Rs:d,removedBatchIds:a,addedBatchIds:l}))})})}function RI(e,t){const n=nt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(l,c,d,p){const m=d.batch,y=m.keys();let _=F.resolve();return y.forEach(I=>{_=_.next(()=>p.getEntry(c,I)).next(E=>{const R=d.docVersions.get(I);bt(R!==null),E.version.compareTo(R)<0&&(m.applyToRemoteDocument(E,d),E.isValidDocument()&&(E.setReadTime(d.commitVersion),p.addEntry(E)))})}),_.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=dt();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function Ep(e){const t=nt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function AI(e,t){const n=nt(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const l=[];t.targetChanges.forEach((p,m)=>{const y=i.get(m);if(!y)return;l.push(n.Hr.removeMatchingKeys(s,p.removedDocuments,m).next(()=>n.Hr.addMatchingKeys(s,p.addedDocuments,m)));let _=y.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(m)!==null?_=_.withResumeToken(fe.EMPTY_BYTE_STRING,et.min()).withLastLimboFreeSnapshotVersion(et.min()):p.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(p.resumeToken,r)),i=i.insert(m,_),function(E,R,V){return E.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-E.snapshotVersion.toMicroseconds()>=II?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(y,_,p)&&l.push(n.Hr.updateTargetData(s,_))});let c=bn(),d=dt();if(t.documentUpdates.forEach(p=>{t.resolvedLimboDocuments.has(p)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),l.push(xI(s,a,t.documentUpdates).next(p=>{c=p.Vs,d=p.fs})),!r.isEqual(et.min())){const p=n.Hr.getLastRemoteSnapshotVersion(s).next(m=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));l.push(p)}return F.waitFor(l).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,d)).next(()=>c)}).then(s=>(n.Ts=i,s))}function xI(e,t,n){let r=dt(),i=dt();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let a=bn();return n.forEach((l,c)=>{const d=s.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(et.min())?(t.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(c),a=a.insert(l,c)):H(Xl,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{Vs:a,fs:i}})}function PI(e,t){const n=nt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=Ll),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function kI(e,t){const n=nt(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,t).next(s=>s?(i=s,F.resolve(i)):n.Hr.allocateTargetId(r).next(a=>(i=new Cn(t,a,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(t,r.targetId)),r})}async function tl(e,t,n){const r=nt(e),i=r.Ts.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!qr(a))throw a;H(Xl,`Failed to update sequence numbers for target ${t}: ${a}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function jd(e,t,n){const r=nt(e);let i=et.min(),s=dt();return r.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,p){const m=nt(c),y=m.Is.get(p);return y!==void 0?F.resolve(m.Ts.get(y)):m.Hr.getTargetData(d,p)}(r,a,en(t)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(a,l.targetId).next(c=>{s=c})}).next(()=>r.Ps.getDocumentsMatchingQuery(a,t,n?i:et.min(),n?s:dt())).next(l=>(VI(r,yw(t),l),{documents:l,gs:s})))}function VI(e,t,n){let r=e.Es.get(t)||et.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Es.set(t,r)}class Wd{constructor(){this.activeTargetIds=ww()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class DI{constructor(){this.ho=new Wd,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,r){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new Wd,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="ConnectivityMonitor";class Hd{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(qd,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){H(qd,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ts=null;function el(){return Ts===null?Ts=function(){return 268435456+Math.round(2147483648*Math.random())}():Ts++,"0x"+Ts.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RestConnection",MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OI{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ws?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(t,n,r,i,s){const a=el(),l=this.bo(t,n.toUriEncodedString());H(ga,`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(c,i,s),this.vo(t,l,c,r).then(d=>(H(ga,`Received RPC '${t}' ${a}: `,d),d),d=>{throw kr(ga,`RPC '${t}' ${a} failed with error: `,d,"url: ",l,"request:",r),d})}Co(t,n,r,i,s,a){return this.So(t,n,r,i,s)}Do(t,n,r){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jr}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}bo(t,n){const r=MI[t];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve="WebChannelConnection";class $I extends OI{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,r,i){const s=el();return new Promise((a,l)=>{const c=new Sf;c.setWithCredentials(!0),c.listenOnce(Cf.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case As.NO_ERROR:const p=c.getResponseJson();H(ve,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(p)),a(p);break;case As.TIMEOUT:H(ve,`RPC '${t}' ${s} timed out`),l(new X(U.DEADLINE_EXCEEDED,"Request time out"));break;case As.HTTP_ERROR:const m=c.getStatus();if(H(ve,`RPC '${t}' ${s} failed with status:`,m,"response text:",c.getResponseText()),m>0){let y=c.getResponseJson();Array.isArray(y)&&(y=y[0]);const _=y==null?void 0:y.error;if(_&&_.status&&_.message){const I=function(R){const V=R.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(V)>=0?V:U.UNKNOWN}(_.status);l(new X(I,_.message))}else l(new X(U.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new X(U.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(ve,`RPC '${t}' ${s} completed.`)}});const d=JSON.stringify(i);H(ve,`RPC '${t}' ${s} sending request:`,i),c.send(n,"POST",d,r,15)})}Wo(t,n,r){const i=el(),s=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=xf(),l=Af(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Do(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=s.join("");H(ve,`Creating RPC '${t}' stream ${i}: ${p}`,c);const m=a.createWebChannel(p,c);let y=!1,_=!1;const I=new LI({Fo:R=>{_?H(ve,`Not sending because RPC '${t}' stream ${i} is closed:`,R):(y||(H(ve,`Opening RPC '${t}' stream ${i} transport.`),m.open(),y=!0),H(ve,`RPC '${t}' stream ${i} sending:`,R),m.send(R))},Mo:()=>m.close()}),E=(R,V,N)=>{R.listen(V,x=>{try{N(x)}catch(P){setTimeout(()=>{throw P},0)}})};return E(m,gi.EventType.OPEN,()=>{_||(H(ve,`RPC '${t}' stream ${i} transport opened.`),I.Qo())}),E(m,gi.EventType.CLOSE,()=>{_||(_=!0,H(ve,`RPC '${t}' stream ${i} transport closed`),I.Uo())}),E(m,gi.EventType.ERROR,R=>{_||(_=!0,kr(ve,`RPC '${t}' stream ${i} transport errored:`,R),I.Uo(new X(U.UNAVAILABLE,"The operation could not be completed")))}),E(m,gi.EventType.MESSAGE,R=>{var V;if(!_){const N=R.data[0];bt(!!N);const x=N,P=(x==null?void 0:x.error)||((V=x[0])===null||V===void 0?void 0:V.error);if(P){H(ve,`RPC '${t}' stream ${i} received error:`,P);const k=P.status;let M=function(S){const h=Zt[S];if(h!==void 0)return lp(h)}(k),T=P.message;M===void 0&&(M=U.INTERNAL,T="Unknown error status: "+k+" with message "+P.message),_=!0,I.Uo(new X(M,T)),m.close()}else H(ve,`RPC '${t}' stream ${i} received:`,N),I.Ko(N)}}),E(l,Rf.STAT_EVENT,R=>{R.stat===ja.PROXY?H(ve,`RPC '${t}' stream ${i} detected buffering proxy`):R.stat===ja.NOPROXY&&H(ve,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function ya(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(e){return new zw(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(t,n,r=1e3,i=1.5,s=6e4){this.Ti=t,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="PersistentStream";class wp{constructor(t,n,r,i,s,a,l,c){this.Ti=t,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Tp(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(_n(n.toString()),_n("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{t(()=>{const i=new X(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(t,n){const r=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return H(Gd,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(H(Gd,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FI extends wp{constructor(t,n,r,i,s,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=qw(this.serializer,t),r=function(s){if(!("targetChange"in s))return et.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?et.min():a.readTime?nn(a.readTime):et.min()}(t);return this.listener.p_(n,r)}y_(t){const n={};n.database=Za(this.serializer),n.addTarget=function(s,a){let l;const c=a.target;if(l=Ka(c)?{documents:Kw(s,c)}:{query:Qw(s,c).ht},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=dp(s,a.resumeToken);const d=Xa(s,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(et.min())>0){l.readTime=Xs(s,a.snapshotVersion.toTimestamp());const d=Xa(s,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,t);const r=Yw(this.serializer,t);r&&(n.labels=r),this.I_(n)}w_(t){const n={};n.database=Za(this.serializer),n.removeTarget=t,this.I_(n)}}class BI extends wp{constructor(t,n,r,i,s,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return bt(!!t.streamToken),this.lastStreamToken=t.streamToken,bt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){bt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=Gw(t.writeResults,t.commitTime),r=nn(t.commitTime);return this.listener.v_(r,n)}C_(){const t={};t.database=Za(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>Hw(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{}class zI extends UI{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.So(t,Ya(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(U.UNKNOWN,s.toString())})}Co(t,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Co(t,Ya(n,r),i,a,l,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new X(U.UNKNOWN,a.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jI{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_n(n),this.N_=!1):H("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="RemoteStore";class WI{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(a=>{r.enqueueAndForget(async()=>{ar(this)&&(H(rr,"Restarting streams for network reachability change."),await async function(c){const d=nt(c);d.W_.add(4),await Ki(d),d.j_.set("Unknown"),d.W_.delete(4),await Vo(d)}(this))})}),this.j_=new jI(r,i)}}async function Vo(e){if(ar(e))for(const t of e.G_)await t(!0)}async function Ki(e){for(const t of e.G_)await t(!1)}function Ip(e,t){const n=nt(e);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),tc(n)?Zl(n):Hr(n).c_()&&Jl(n,t))}function Yl(e,t){const n=nt(e),r=Hr(n);n.K_.delete(t),r.c_()&&Sp(n,t),n.K_.size===0&&(r.c_()?r.P_():ar(n)&&n.j_.set("Unknown"))}function Jl(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(et.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Hr(e).y_(t)}function Sp(e,t){e.H_.Ne(t),Hr(e).w_(t)}function Zl(e){e.H_=new $w({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.K_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),Hr(e).start(),e.j_.B_()}function tc(e){return ar(e)&&!Hr(e).u_()&&e.K_.size>0}function ar(e){return nt(e).W_.size===0}function Cp(e){e.H_=void 0}async function qI(e){e.j_.set("Online")}async function HI(e){e.K_.forEach((t,n)=>{Jl(e,t)})}async function GI(e,t){Cp(e),tc(e)?(e.j_.q_(t),Zl(e)):e.j_.set("Unknown")}async function KI(e,t,n){if(e.j_.set("Online"),t instanceof up&&t.state===2&&t.cause)try{await async function(i,s){const a=s.cause;for(const l of s.targetIds)i.K_.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.K_.delete(l),i.H_.removeTarget(l))}(e,t)}catch(r){H(rr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Js(e,r)}else if(t instanceof Vs?e.H_.We(t):t instanceof cp?e.H_.Ze(t):e.H_.je(t),!n.isEqual(et.min()))try{const r=await Ep(e.localStore);n.compareTo(r)>=0&&await function(s,a){const l=s.H_.ot(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const p=s.K_.get(d);p&&s.K_.set(d,p.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const p=s.K_.get(c);if(!p)return;s.K_.set(c,p.withResumeToken(fe.EMPTY_BYTE_STRING,p.snapshotVersion)),Sp(s,c);const m=new Cn(p.target,c,d,p.sequenceNumber);Jl(s,m)}),s.remoteSyncer.applyRemoteEvent(l)}(e,n)}catch(r){H(rr,"Failed to raise snapshot:",r),await Js(e,r)}}async function Js(e,t,n){if(!qr(t))throw t;e.W_.add(1),await Ki(e),e.j_.set("Offline"),n||(n=()=>Ep(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{H(rr,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await Vo(e)})}function Rp(e,t){return t().catch(n=>Js(e,n,t))}async function Do(e){const t=nt(e),n=$n(t);let r=t.U_.length>0?t.U_[t.U_.length-1].batchId:Ll;for(;QI(t);)try{const i=await PI(t.localStore,r);if(i===null){t.U_.length===0&&n.P_();break}r=i.batchId,XI(t,i)}catch(i){await Js(t,i)}Ap(t)&&xp(t)}function QI(e){return ar(e)&&e.U_.length<10}function XI(e,t){e.U_.push(t);const n=$n(e);n.c_()&&n.S_&&n.b_(t.mutations)}function Ap(e){return ar(e)&&!$n(e).u_()&&e.U_.length>0}function xp(e){$n(e).start()}async function YI(e){$n(e).C_()}async function JI(e){const t=$n(e);for(const n of e.U_)t.b_(n.mutations)}async function ZI(e,t,n){const r=e.U_.shift(),i=Wl.from(r,t,n);await Rp(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Do(e)}async function tS(e,t){t&&$n(e).S_&&await async function(r,i){if(function(a){return Ow(a)&&a!==U.ABORTED}(i.code)){const s=r.U_.shift();$n(r).h_(),await Rp(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Do(r)}}(e,t),Ap(e)&&xp(e)}async function Kd(e,t){const n=nt(e);n.asyncQueue.verifyOperationInProgress(),H(rr,"RemoteStore received new credentials");const r=ar(n);n.W_.add(3),await Ki(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await Vo(n)}async function eS(e,t){const n=nt(e);t?(n.W_.delete(2),await Vo(n)):t||(n.W_.add(2),await Ki(n),n.j_.set("Unknown"))}function Hr(e){return e.J_||(e.J_=function(n,r,i){const s=nt(n);return s.M_(),new FI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{xo:qI.bind(null,e),No:HI.bind(null,e),Lo:GI.bind(null,e),p_:KI.bind(null,e)}),e.G_.push(async t=>{t?(e.J_.h_(),tc(e)?Zl(e):e.j_.set("Unknown")):(await e.J_.stop(),Cp(e))})),e.J_}function $n(e){return e.Y_||(e.Y_=function(n,r,i){const s=nt(n);return s.M_(),new BI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:YI.bind(null,e),Lo:tS.bind(null,e),D_:JI.bind(null,e),v_:ZI.bind(null,e)}),e.G_.push(async t=>{t?(e.Y_.h_(),await Do(e)):(await e.Y_.stop(),e.U_.length>0&&(H(rr,`Stopping write stream with ${e.U_.length} pending writes`),e.U_=[]))})),e.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,s){const a=Date.now()+r,l=new ec(t,n,a,i,s);return l.start(r),l}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(U.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function nc(e,t){if(_n("AsyncQueue",`${t}: ${e}`),qr(e))return new X(U.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{static emptySet(t){return new Cr(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=yi(),this.sortedSet=new Bt(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Cr)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new Cr;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this.Z_=new Bt(J.comparator)}track(t){const n=t.doc.key,r=this.Z_.get(n);r?t.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Z_=this.Z_.remove(n):t.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):Z():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,r)=>{t.push(r)}),t}}class Lr{constructor(t,n,r,i,s,a,l,c,d){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(t,n,r,i,s){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Lr(t,n,Cr.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&So(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class rS{constructor(){this.queries=Xd(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=nt(n),s=i.queries;i.queries=Xd(),s.forEach((a,l)=>{for(const c of l.ta)c.onError(r)})})(this,new X(U.ABORTED,"Firestore shutting down"))}}function Xd(){return new sr(e=>Qf(e),So)}async function iS(e,t){const n=nt(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.na()&&t.ra()&&(r=2):(s=new nS,r=t.ra()?0:1);try{switch(r){case 0:s.ea=await n.onListen(i,!0);break;case 1:s.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=nc(a,`Initialization of query '${br(t.query)}' failed`);return void t.onError(l)}n.queries.set(i,s),s.ta.push(t),t.sa(n.onlineState),s.ea&&t.oa(s.ea)&&rc(n)}async function sS(e,t){const n=nt(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const a=s.ta.indexOf(t);a>=0&&(s.ta.splice(a,1),s.ta.length===0?i=t.ra()?0:1:!s.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function oS(e,t){const n=nt(e);let r=!1;for(const i of t){const s=i.query,a=n.queries.get(s);if(a){for(const l of a.ta)l.oa(i)&&(r=!0);a.ea=i}}r&&rc(n)}function aS(e,t,n){const r=nt(e),i=r.queries.get(t);if(i)for(const s of i.ta)s.onError(n);r.queries.delete(t)}function rc(e){e.ia.forEach(t=>{t.next()})}var nl,Yd;(Yd=nl||(nl={}))._a="default",Yd.Cache="cache";class lS{constructor(t,n,r){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new Lr(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Lr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==nl.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(t){this.key=t}}class kp{constructor(t){this.key=t}}class cS{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=dt(),this.mutatedKeys=dt(),this.ya=Xf(t),this.wa=new Cr(this.ya)}get Sa(){return this.fa}ba(t,n){const r=n?n.Da:new Qd,i=n?n.wa:this.wa;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((p,m)=>{const y=i.get(p),_=Co(this.query,m)?m:null,I=!!y&&this.mutatedKeys.has(y.key),E=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let R=!1;y&&_?y.data.isEqual(_.data)?I!==E&&(r.track({type:3,doc:_}),R=!0):this.va(y,_)||(r.track({type:2,doc:_}),R=!0,(c&&this.ya(_,c)>0||d&&this.ya(_,d)<0)&&(l=!0)):!y&&_?(r.track({type:0,doc:_}),R=!0):y&&!_&&(r.track({type:1,doc:y}),R=!0,(c||d)&&(l=!0)),R&&(_?(a=a.add(_),s=E?s.add(p):s.delete(p)):(a=a.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const p=this.query.limitType==="F"?a.last():a.first();a=a.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{wa:a,Da:r,ls:l,mutatedKeys:s}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,i){const s=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const a=t.Da.X_();a.sort((p,m)=>function(_,I){const E=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return E(_)-E(I)}(p.type,m.type)||this.ya(p.doc,m.doc)),this.Ca(r),i=i!=null&&i;const l=n&&!i?this.Fa():[],c=this.pa.size===0&&this.current&&!i?1:0,d=c!==this.ga;return this.ga=c,a.length!==0||d?{snapshot:new Lr(this.query,t.wa,s,a,t.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:l}:{Ma:l}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Qd,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=dt(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return t.forEach(r=>{this.pa.has(r)||n.push(new kp(r))}),this.pa.forEach(r=>{t.has(r)||n.push(new Pp(r))}),n}Oa(t){this.fa=t.gs,this.pa=dt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Lr.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const ic="SyncEngine";class uS{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class dS{constructor(t){this.key=t,this.Ba=!1}}class hS{constructor(t,n,r,i,s,a){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new sr(l=>Qf(l),So),this.qa=new Map,this.Qa=new Set,this.$a=new Bt(J.comparator),this.Ua=new Map,this.Ka=new Gl,this.Wa={},this.Ga=new Map,this.za=Or.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function fS(e,t,n=!0){const r=Lp(e);let i;const s=r.ka.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=await Vp(r,t,n,!0),i}async function pS(e,t){const n=Lp(e);await Vp(n,t,!0,!1)}async function Vp(e,t,n,r){const i=await kI(e.localStore,en(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let l;return r&&(l=await mS(e,t,s,a==="current",i.resumeToken)),e.isPrimaryClient&&n&&Ip(e.remoteStore,i),l}async function mS(e,t,n,r,i){e.Ha=(m,y,_)=>async function(E,R,V,N){let x=R.view.ba(V);x.ls&&(x=await jd(E.localStore,R.query,!1).then(({documents:T})=>R.view.ba(T,x)));const P=N&&N.targetChanges.get(R.targetId),k=N&&N.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(x,E.isPrimaryClient,P,k);return Zd(E,R.targetId,M.Ma),M.snapshot}(e,m,y,_);const s=await jd(e.localStore,t,!0),a=new cS(t,s.gs),l=a.ba(s.documents),c=Gi.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),d=a.applyChanges(l,e.isPrimaryClient,c);Zd(e,n,d.Ma);const p=new uS(t,n,a);return e.ka.set(t,p),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),d.snapshot}async function gS(e,t,n){const r=nt(e),i=r.ka.get(t),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(a=>!So(a,t))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tl(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Yl(r.remoteStore,i.targetId),rl(r,i.targetId)}).catch(Wr)):(rl(r,i.targetId),await tl(r.localStore,i.targetId,!0))}async function yS(e,t){const n=nt(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Yl(n.remoteStore,r.targetId))}async function vS(e,t,n){const r=SS(e);try{const i=await function(a,l){const c=nt(a),d=ie.now(),p=l.reduce((_,I)=>_.add(I.key),dt());let m,y;return c.persistence.runTransaction("Locally write mutations","readwrite",_=>{let I=bn(),E=dt();return c.ds.getEntries(_,p).next(R=>{I=R,I.forEach((V,N)=>{N.isValidDocument()||(E=E.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(_,I)).next(R=>{m=R;const V=[];for(const N of l){const x=kw(N,m.get(N.key).overlayedDocument);x!=null&&V.push(new or(N.key,x,zf(x.value.mapValue),pn.exists(!0)))}return c.mutationQueue.addMutationBatch(_,d,V,l)}).next(R=>{y=R;const V=R.applyToLocalDocumentSet(m,E);return c.documentOverlayCache.saveOverlays(_,R.batchId,V)})}).then(()=>({batchId:y.batchId,changes:Jf(m)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let d=a.Wa[a.currentUser.toKey()];d||(d=new Bt(ct)),d=d.insert(l,c),a.Wa[a.currentUser.toKey()]=d}(r,i.batchId,n),await Qi(r,i.changes),await Do(r.remoteStore)}catch(i){const s=nc(i,"Failed to persist write");n.reject(s)}}async function Dp(e,t){const n=nt(e);try{const r=await AI(n.localStore,t);t.targetChanges.forEach((i,s)=>{const a=n.Ua.get(s);a&&(bt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.Ba=!0:i.modifiedDocuments.size>0?bt(a.Ba):i.removedDocuments.size>0&&(bt(a.Ba),a.Ba=!1))}),await Qi(n,r,t)}catch(r){await Wr(r)}}function Jd(e,t,n){const r=nt(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((s,a)=>{const l=a.view.sa(t);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=nt(a);c.onlineState=l;let d=!1;c.queries.forEach((p,m)=>{for(const y of m.ta)y.sa(l)&&(d=!0)}),d&&rc(c)}(r.eventManager,t),i.length&&r.La.p_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function _S(e,t,n){const r=nt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ua.get(t),s=i&&i.key;if(s){let a=new Bt(J.comparator);a=a.insert(s,Te.newNoDocument(s,et.min()));const l=dt().add(s),c=new Po(et.min(),new Map,new Bt(ct),a,l);await Dp(r,c),r.$a=r.$a.remove(s),r.Ua.delete(t),sc(r)}else await tl(r.localStore,t,!1).then(()=>rl(r,t,n)).catch(Wr)}async function bS(e,t){const n=nt(e),r=t.batch.batchId;try{const i=await RI(n.localStore,t);Mp(n,r,null),Np(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qi(n,i)}catch(i){await Wr(i)}}async function ES(e,t,n){const r=nt(e);try{const i=await function(a,l){const c=nt(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(bt(m!==null),p=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(r.localStore,t);Mp(r,t,n),Np(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Qi(r,i)}catch(i){await Wr(i)}}function Np(e,t){(e.Ga.get(t)||[]).forEach(n=>{n.resolve()}),e.Ga.delete(t)}function Mp(e,t,n){const r=nt(e);let i=r.Wa[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function rl(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ka.br(t).forEach(r=>{e.Ka.containsKey(r)||Op(e,r)})}function Op(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);n!==null&&(Yl(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ua.delete(n),sc(e))}function Zd(e,t,n){for(const r of n)r instanceof Pp?(e.Ka.addReference(r.key,t),TS(e,r)):r instanceof kp?(H(ic,"Document no longer in limbo: "+r.key),e.Ka.removeReference(r.key,t),e.Ka.containsKey(r.key)||Op(e,r.key)):Z()}function TS(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(H(ic,"New document in limbo: "+n),e.Qa.add(r),sc(e))}function sc(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new J(Ft.fromString(t)),r=e.za.next();e.Ua.set(r,new dS(n)),e.$a=e.$a.insert(n,r),Ip(e.remoteStore,new Cn(en(zl(n.path)),r,"TargetPurposeLimboResolution",Eo.ae))}}async function Qi(e,t,n){const r=nt(e),i=[],s=[],a=[];r.ka.isEmpty()||(r.ka.forEach((l,c)=>{a.push(r.Ha(c,t,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=Ql.Yi(c.targetId,d);s.push(m)}}))}),await Promise.all(a),r.La.p_(i),await async function(c,d){const p=nt(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(d,y=>F.forEach(y.Hi,_=>p.persistence.referenceDelegate.addReference(m,y.targetId,_)).next(()=>F.forEach(y.Ji,_=>p.persistence.referenceDelegate.removeReference(m,y.targetId,_)))))}catch(m){if(!qr(m))throw m;H(Xl,"Failed to update sequence numbers: "+m)}for(const m of d){const y=m.targetId;if(!m.fromCache){const _=p.Ts.get(y),I=_.snapshotVersion,E=_.withLastLimboFreeSnapshotVersion(I);p.Ts=p.Ts.insert(y,E)}}}(r.localStore,s))}async function wS(e,t){const n=nt(e);if(!n.currentUser.isEqual(t)){H(ic,"User change. New user:",t.toKey());const r=await bp(n.localStore,t);n.currentUser=t,function(s,a){s.Ga.forEach(l=>{l.forEach(c=>{c.reject(new X(U.CANCELLED,a))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Qi(n,r.Rs)}}function IS(e,t){const n=nt(e),r=n.Ua.get(t);if(r&&r.Ba)return dt().add(r.key);{let i=dt();const s=n.qa.get(t);if(!s)return i;for(const a of s){const l=n.ka.get(a);i=i.unionWith(l.view.Sa)}return i}}function Lp(e){const t=nt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=IS.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_S.bind(null,t),t.La.p_=oS.bind(null,t.eventManager),t.La.Ja=aS.bind(null,t.eventManager),t}function SS(e){const t=nt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bS.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ES.bind(null,t),t}class Zs{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ko(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return CI(this.persistence,new wI,t.initialUser,this.serializer)}Xa(t){return new _p(Kl.ri,this.serializer)}Za(t){return new DI}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zs.provider={build:()=>new Zs};class CS extends Zs{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){bt(this.persistence.referenceDelegate instanceof Ys);const r=this.persistence.referenceDelegate.garbageCollector;return new lI(r,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?Ce.withCacheSize(this.cacheSizeBytes):Ce.DEFAULT;return new _p(r=>Ys.ri(r,n),this.serializer)}}class il{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wS.bind(null,this.syncEngine),await eS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new rS}()}createDatastore(t){const n=ko(t.databaseInfo.databaseId),r=function(s){return new $I(s)}(t.databaseInfo);return function(s,a,l,c){return new zI(s,a,l,c)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return function(r,i,s,a,l){return new WI(r,i,s,a,l)}(this.localStore,this.datastore,t.asyncQueue,n=>Jd(this.syncEngine,n,0),function(){return Hd.D()?new Hd:new NI}())}createSyncEngine(t,n){return function(i,s,a,l,c,d,p){const m=new hS(i,s,a,l,c,d);return p&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(i){const s=nt(i);H(rr,"RemoteStore shutting down."),s.W_.add(5),await Ki(s),s.z_.shutdown(),s.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}il.provider={build:()=>new il};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):_n("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fn="FirestoreClient";class AS{constructor(t,n,r,i,s){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=be.UNAUTHENTICATED,this.clientId=Vf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{H(Fn,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(H(Fn,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=nc(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}}async function va(e,t){e.asyncQueue.verifyOperationInProgress(),H(Fn,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await bp(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function th(e,t){e.asyncQueue.verifyOperationInProgress();const n=await xS(e);H(Fn,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(r=>Kd(t.remoteStore,r)),e.setAppCheckTokenChangeListener((r,i)=>Kd(t.remoteStore,i)),e._onlineComponents=t}async function xS(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){H(Fn,"Using user provided OfflineComponentProvider");try{await va(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(i){return i.name==="FirebaseError"?i.code===U.FAILED_PRECONDITION||i.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;kr("Error using user provided cache. Falling back to memory cache: "+n),await va(e,new Zs)}}else H(Fn,"Using default OfflineComponentProvider"),await va(e,new CS(void 0));return e._offlineComponents}async function $p(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(H(Fn,"Using user provided OnlineComponentProvider"),await th(e,e._uninitializedComponentsProvider._online)):(H(Fn,"Using default OnlineComponentProvider"),await th(e,new il))),e._onlineComponents}function PS(e){return $p(e).then(t=>t.syncEngine)}async function kS(e){const t=await $p(e),n=t.eventManager;return n.onListen=fS.bind(null,t.syncEngine),n.onUnlisten=gS.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=pS.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=yS.bind(null,t.syncEngine),n}function VS(e,t,n={}){const r=new Pn;return e.asyncQueue.enqueueAndForget(async()=>function(s,a,l,c,d){const p=new RS({next:y=>{p.su(),a.enqueueAndForget(()=>sS(s,m));const _=y.docs.has(l);!_&&y.fromCache?d.reject(new X(U.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&y.fromCache&&c&&c.source==="server"?d.reject(new X(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),m=new lS(zl(l.path),p,{includeMetadataChanges:!0,Ta:!0});return iS(s,m)}(await kS(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(e,t,n){if(!n)throw new X(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function DS(e,t,n,r){if(t===!0&&r===!0)throw new X(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function nh(e){if(!J.isDocumentKey(e))throw new X(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function rh(e){if(J.isDocumentKey(e))throw new X(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function oc(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(r){return r.constructor?r.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":Z()}function Fi(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new X(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oc(e);throw new X(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Up="firestore.googleapis.com",ih=!0;class sh{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new X(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Up,this.ssl=ih}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:ih;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vp;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<oI)throw new X(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}DS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Fp((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new X(U.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class No{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sh({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new X(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new X(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sh(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new MT;switch(r.type){case"firstParty":return new FT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eh.get(n);r&&(H("ComponentProvider","Removing Datastore"),eh.delete(n),r.terminate())}(this),Promise.resolve()}}function NS(e,t,n,r={}){var i;const s=(e=Fi(e,No))._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;s.host!==Up&&s.host!==l&&kr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},s),{host:l,ssl:!1,emulatorOptions:r});if(!ki(c,a)&&(e._setSettings(c),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=be.MOCK_USER;else{d=hE(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new X(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new be(m)}e._authCredentials=new OT(new Pf(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new ac(this.firestore,t,this._query)}}class Me{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}}class kn extends ac{constructor(t,n,r){super(t,n,zl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new J(t))}withConverter(t){return new kn(this.firestore,t,this._path)}}function MS(e,t,...n){if(e=Dn(e),Bp("collection","path",t),e instanceof No){const r=Ft.fromString(t,...n);return rh(r),new kn(e,null,r)}{if(!(e instanceof Me||e instanceof kn))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ft.fromString(t,...n));return rh(r),new kn(e.firestore,null,r)}}function ws(e,t,...n){if(e=Dn(e),arguments.length===1&&(t=Vf.newId()),Bp("doc","path",t),e instanceof No){const r=Ft.fromString(t,...n);return nh(r),new Me(e,null,new J(r))}{if(!(e instanceof Me||e instanceof kn))throw new X(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Ft.fromString(t,...n));return nh(r),new Me(e.firestore,e instanceof kn?e.converter:null,new J(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh="AsyncQueue";class ah{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Tp(this,"async_queue_retry"),this.Su=()=>{const r=ya();r&&H(oh,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=t;const n=ya();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=ya();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Pn;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!qr(t))throw t;H(oh,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(r=>{this.gu=r,this.pu=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw _n("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(t,n,r){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const i=ec.createAndSchedule(this,t,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&Z()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class lc extends No{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new ah,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ah(t),this._firestoreClient=void 0,await t}}}function OS(e,t){const n=typeof e=="object"?e:TT(),r=typeof e=="string"?e:Ws,i=yT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=uE("firestore");s&&NS(i,...s)}return i}function zp(e){if(e._terminated)throw new X(U.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||LS(e),e._firestoreClient}function LS(e){var t,n,r;const i=e._freezeSettings(),s=function(l,c,d,p){return new tw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Fp(p.experimentalLongPollingOptions),p.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new AS(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(e._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $r(fe.fromBase64String(t))}catch(n){throw new X(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new $r(fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new X(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new he(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new X(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new X(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ct(this._lat,t._lat)||ct(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=/^__.*__$/;class jp{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new or(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function Wp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class Lo{constructor(t,n,r,i,s,a){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Lo(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.$u(t),i}Uu(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return to(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(Wp(this.Lu)&&$S.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class FS{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||ko(t)}ju(t,n,r,i=!1){return new Lo({Lu:t,methodName:n,zu:r,path:he.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BS(e){const t=e._freezeSettings(),n=ko(e._databaseId);return new FS(e._databaseId,!!t.ignoreUndefinedProperties,n)}class $o extends Oo{_toFieldTransform(t){if(t.Lu!==2)throw t.Lu===1?t.Wu(`${this._methodName}() can only appear at the top level of your update data`):t.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof $o}}function US(e,t,n){return new Lo({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dc extends Oo{constructor(t,n){super(t),this.Hu=n}_toFieldTransform(t){const n=US(this,t,!0),r=this.Hu.map(s=>Xi(s,n)),i=new Mr(r);return new Rw(t.path,i)}isEqual(t){return t instanceof dc&&ki(this.Hu,t.Hu)}}function zS(e,t,n,r){const i=e.ju(1,t,n);Hp("Data must be an object, but it was:",i,r);const s=[],a=De.empty();Bn(r,(c,d)=>{const p=hc(t,c,n);d=Dn(d);const m=i.Uu(p);if(d instanceof $o)s.push(p);else{const y=Xi(d,m);y!=null&&(s.push(p),a.set(p,y))}});const l=new ze(s);return new jp(a,l,i.fieldTransforms)}function jS(e,t,n,r,i,s){const a=e.ju(1,t,n),l=[lh(t,r,n)],c=[i];if(s.length%2!=0)throw new X(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<s.length;y+=2)l.push(lh(t,s[y])),c.push(s[y+1]);const d=[],p=De.empty();for(let y=l.length-1;y>=0;--y)if(!HS(d,l[y])){const _=l[y];let I=c[y];I=Dn(I);const E=a.Uu(_);if(I instanceof $o)d.push(_);else{const R=Xi(I,E);R!=null&&(d.push(_),p.set(_,R))}}const m=new ze(d);return new jp(p,m,a.fieldTransforms)}function Xi(e,t){if(qp(e=Dn(e)))return Hp("Unsupported field value:",t,e),WS(e,t);if(e instanceof Oo)return function(r,i){if(!Wp(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const l of r){let c=Xi(l,i.Ku(a));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),a++}return{arrayValue:{values:s}}}(e,t)}return function(r,i){if((r=Dn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Iw(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ie.fromDate(r);return{timestampValue:Xs(i.serializer,s)}}if(r instanceof ie){const s=new ie(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Xs(i.serializer,s)}}if(r instanceof cc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $r)return{bytesValue:dp(i.serializer,r._byteString)};if(r instanceof Me){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Wu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Hl(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof uc)return function(a,l){return{mapValue:{fields:{[Bf]:{stringValue:Uf},[qs]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Wu("VectorValues must only contain numeric values.");return jl(l.serializer,d)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${oc(r)}`)}(e,t)}function WS(e,t){const n={};return Nf(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bn(e,(r,i)=>{const s=Xi(i,t.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function qp(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ie||e instanceof cc||e instanceof $r||e instanceof Me||e instanceof Oo||e instanceof uc)}function Hp(e,t,n){if(!qp(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=oc(n);throw r==="an object"?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function lh(e,t,n){if((t=Dn(t))instanceof Mo)return t._internalPath;if(typeof t=="string")return hc(e,t);throw to("Field path arguments must be of type string or ",e,!1,void 0,n)}const qS=new RegExp("[~\\*/\\[\\]]");function hc(e,t,n){if(t.search(qS)>=0)throw to(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Mo(...t.split("."))._internalPath}catch{throw to(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function to(e,t,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let l=`Function ${t}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(s||a)&&(c+=" (found",s&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new X(U.INVALID_ARGUMENT,l+e+c)}function HS(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new GS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Kp("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GS extends Gp{data(){return super.data()}}function Kp(e,t){return typeof t=="string"?hc(e,t):t instanceof Mo?t._internalPath:t._delegate._internalPath}class KS{convertValue(t,n="none"){switch(Ln(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(On(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Z()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Bn(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(t){var n,r,i;const s=(i=(r=(n=t.fields)===null||n===void 0?void 0:n[qs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>Xt(a.doubleValue));return new uc(s)}convertGeoPoint(t){return new cc(Xt(t.latitude),Xt(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=wo(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Mi(t));default:return null}}convertTimestamp(t){const n=Mn(t);return new ie(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=Ft.fromString(t);bt(yp(r));const i=new Oi(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||_n(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qp extends Gp{constructor(t,n,r,i,s,a){super(t,n,r,i,a),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new XS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(Kp("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class XS extends Qp{data(t={}){return super.data(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(e){e=Fi(e,Me);const t=Fi(e.firestore,lc);return VS(zp(t),e._key).then(n=>ZS(t,e,n))}class YS extends KS{constructor(t){super(),this.firestore=t}convertBytes(t){return new $r(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function uh(e,t,n,...r){e=Fi(e,Me);const i=Fi(e.firestore,lc),s=BS(i);let a;return a=typeof(t=Dn(t))=="string"||t instanceof Mo?jS(s,"updateDoc",e._key,t,n,r):zS(s,"updateDoc",e._key,t),JS(i,[a.toMutation(e._key,pn.exists(!0))])}function JS(e,t){return function(r,i){const s=new Pn;return r.asyncQueue.enqueueAndForget(async()=>vS(await PS(r),i,s)),s.promise}(zp(e),t)}function ZS(e,t,n){const r=n.docs.get(t._key),i=new YS(e);return new Qp(e,i,t._key,r,new QS(n.hasPendingWrites,n.fromCache),t.converter)}function tC(...e){return new dc("arrayUnion",e)}(function(t,n=!0){(function(i){jr=i})(ET),zs(new Vi("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),l=new lc(new LT(r.getProvider("auth-internal")),new BT(a,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new X(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Oi(d.options.projectId,p)}(a,i),a);return s=Object.assign({useFetchStreams:n},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),Sr(fd,pd,t),Sr(fd,pd,"esm2017")})();const eC={apiKey:"AIzaSyCYgF12GgmAlLD3emmDJgPvqQhoqo1kO9M",authDomain:"pet-chat-67a08.firebaseapp.com",databaseURL:"https://pet-chat-67a08-default-rtdb.europe-west1.firebasedatabase.app",projectId:"pet-chat-67a08",storageBucket:"pet-chat-67a08.firebasestorage.app",messagingSenderId:"894902788354",appId:"1:894902788354:web:3f596d0bf60db52bef621b",measurementId:"G-9RNNKJDJED"},nC=Ef(eC),_i=OS(nC);MS(_i,"todos");const rC=e=>{const t=Math.floor(e/3600),n=Math.floor(e/60%60),r=e%60;return[t,n,r].map(i=>i.toString().padStart(2,"0")).join(":")},iC=({handleRemoveItem:e,id:t,important:n,text:r,time:i,timeDataConverted:s,timestamp:a,timer:l})=>{const c=i+l,[d,p]=A.useState(c-a>0?c-a:0);return A.useEffect(()=>{if(d<=0){p(0);return}const m=setInterval(()=>{p(c-Math.floor(Date.now()/1e3))},1e3);return()=>clearInterval(m)},[d,c]),$.jsxs(Pr,{className:"ToDoListItem",sx:{borderColor:n?"goldenRod":"black"},children:[$.jsx("span",{className:"ToDoListItem-time",children:s}),l>0?$.jsx("span",{className:"ToDoListItem-timer",style:{color:d<=0?"red":"black",fontWeight:"600"},children:rC(d)}):$.jsx($.Fragment,{}),$.jsx(nf,{className:"ToDoListItem-button",variant:"text",disableRipple:!0,onClick:()=>{e(t)},sx:{position:"absolute",bottom:"-11px",right:"5px",padding:"0 5px",background:"white",lineHeight:"1.25",fontSize:"1rem",color:"black",fontWeight:"400",textTransform:"none"},children:"Видалити"}),$.jsx("p",{className:"ToDoListItem-string",children:r})]})},sC=[0,3600,10800,21600,43200,86400],oC=({handleSetTimer:e})=>{const[t,n]=A.useState(0),r=(i,s)=>{n(s)};return $.jsxs(Pr,{sx:{display:"flex",flexDirection:"column"},children:[$.jsx("span",{style:{fontSize:"1rem",fontWeight:"600",lineHeight:"24px"},children:"Таймер (годин):"}),$.jsx(ff,{size:"small",value:t,exclusive:!0,onChange:r,"aria-label":"text button group",children:sC.map(i=>$.jsx(hf,{value:i,onClick:()=>e(i),disableRipple:!0,sx:{marginTop:"3px",paddingX:"3px",paddingY:"0",border:"none",borderRadius:"0",fontSize:"1rem",lineHeight:"1rem","&:hover":{backgroundColor:"transparent",color:"black",fontWeight:600},"&.Mui-selected":{backgroundColor:"transparent",fontWeight:600},"&.Mui-selected:hover":{backgroundColor:"transparent"},"&.Mui-selected.Mui-focusVisible":{backgroundColor:"transparent"}},children:i/3600},i))})]})},aC=[{name:"Так",state:!0},{name:"Ні",state:!1}],lC=({handleSetImportant:e})=>{const[t,n]=A.useState(!1),r=(i,s)=>{n(s)};return $.jsxs(Pr,{sx:{display:"flex",flexDirection:"column"},children:[$.jsx("span",{style:{color:"goldenrod",fontWeight:"600",fontSize:"1rem",lineHeight:"24px"},children:"Важлива справа:"}),$.jsx(ff,{size:"small",value:t,exclusive:!0,onChange:r,"aria-label":"text button group",children:aC.map(i=>$.jsx(hf,{value:i.state,onClick:()=>e(i.state),disableRipple:!0,sx:{marginTop:"3px",paddingX:"3px",paddingY:"0",border:"none",borderRadius:"0",fontSize:"1rem",lineHeight:"1rem",textTransform:"none","&:hover":{backgroundColor:"transparent",color:"black",fontWeight:600},"&.Mui-selected":{backgroundColor:"transparent",fontWeight:600},"&.Mui-selected:hover":{backgroundColor:"transparent"},"&.Mui-selected.Mui-focusVisible":{backgroundColor:"transparent"}},children:i.name},i.state))})]})},cC=({handleAddItem:e})=>{const[t,n]=A.useState(!1),[r,i]=A.useState(!1),[s,a]=A.useState(""),[l,c]=A.useState(""),d=_=>{n(_)},p=_=>{i(_)},m=_=>_.trim()?_.trim().length<3?"Мінімум 3 символи":_.trim().length>230?"Максимум 230 символів":"":"Поле не може бути порожнім",y=()=>{const _=m(s);_?c(_):(c(""),e(t,r,s))};return $.jsxs($.Fragment,{children:[$.jsxs(Pr,{sx:{display:"flex",padding:"0 10px"},children:[$.jsx(Hb,{id:"outlined-basic",label:"Опишіть вашу справу",variant:"standard",error:!!l,helperText:l,sx:{width:"100%",marginTop:"9px",marginRight:"5px","& .MuiInput-underline:after":{borderBottomColor:"black"},"&:hover .MuiOutlinedInput-notchedOutline":{borderWidth:"3px",borderColor:"gray"},"& .Mui-focused .MuiOutlinedInput-notchedOutline":{borderWidth:"2px",borderColor:"gray"},"& .MuiInputLabel-root.Mui-focused":{color:"gray"}},value:s,onChange:_=>{a(_.target.value)}}),$.jsx(nf,{variant:"text",disableRipple:!0,sx:{height:"32px",padding:"5px",alignSelf:"flex-end",color:"black",fontWeight:"600","&:hover":{backgroundColor:"transparent"}},onClick:()=>y(),children:"Додати"})]}),$.jsxs(Pr,{sx:{marginTop:"3px",padding:"0 10px",display:"flex"},children:[$.jsx(oC,{handleSetTimer:p}),$.jsx(Ma,{orientation:"vertical",flexItem:!0,sx:{marginX:"9px",borderRightWidth:"1px",borderRightColor:"rgba(0, 0, 0, 0.42)"}}),$.jsx(lC,{handleSetImportant:d})]})]})},uC=()=>$.jsx("h1",{style:{textAlign:"center"},children:"Список справ"}),dC=[],hC=e=>new Date(e*1e3).toLocaleString("uk-UA",{timeZone:"Europe/Kyiv",day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1}).replace(",","").replace(/\./g,"-"),gC=()=>{const[e,t]=A.useState(dC);A.useEffect(()=>{(async()=>{try{const s=await ch(ws(_i,"todos","active-list"));s.exists()?t(s.data().todos||[]):console.log("Не знайдено!")}catch(s){console.error("Помилка отримання даних: ",s)}})()},[]);const n=async(i,s,a)=>{const l={id:crypto.randomUUID(),time:Math.floor(Date.now()/1e3),important:i,timer:s,text:a};t(c=>[...c,l]);try{await uh(ws(_i,"todos","active-list"),{todos:tC(l)})}catch(c){console.error("Помилка додавання: ",c)}},r=async i=>{try{const s=await ch(ws(_i,"todos","active-list"));if(s.exists()){const l=s.data().todos.filter(c=>c.id!==i);t(l),await uh(ws(_i,"todos","active-list"),{todos:l})}}catch(s){console.error("Помилка при видаленні задачі: ",s)}};return $.jsxs(a0,{maxWidth:"sm",sx:{display:"flex",flexDirection:"column",justifyContent:"center",height:"90vh"},children:[$.jsx(uC,{}),$.jsx(Pr,{sx:{width:"100%",overflowY:"auto"},children:e.slice().sort((i,s)=>s.important-i.important||(i.timer<=0?1:s.timer<=0?-1:i.timer-s.timer)||i.time-s.time).map(i=>$.jsx(iC,{...i,timestamp:Math.floor(Date.now()/1e3),timeDataConverted:hC(i.time),handleRemoveItem:r},i.id))}),$.jsx(cC,{handleAddItem:n})]})};export{gC as default};
